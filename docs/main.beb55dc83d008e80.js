"use strict";(self.webpackChunkbg3builder=self.webpackChunkbg3builder||[]).push([[179],{627:()=>{function ye(e){return"function"==typeof e}function zr(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const _s=zr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Gr(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Mt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ye(i))try{i()}catch(o){n=o instanceof _s?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{xh(o)}catch(s){n=n??[],s instanceof _s?n=[...n,...s.errors]:n.push(s)}}if(n)throw new _s(n)}}add(n){var t;if(n&&n!==this)if(this.closed)xh(n);else{if(n instanceof Mt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Gr(t,n)}remove(n){const{_finalizers:t}=this;t&&Gr(t,n),n instanceof Mt&&n._removeParent(this)}}Mt.EMPTY=(()=>{const e=new Mt;return e.closed=!0,e})();const Ph=Mt.EMPTY;function Fh(e){return e instanceof Mt||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function xh(e){ye(e)?e():e.unsubscribe()}const hi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ws={setTimeout(e,n,...t){const{delegate:i}=ws;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=ws;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Oh(e){ws.setTimeout(()=>{const{onUnhandledError:n}=hi;if(!n)throw e;n(e)})}function Nh(){}const HC=ql("C",void 0,void 0);function ql(e,n,t){return{kind:e,value:n,error:t}}let pi=null;function Ss(e){if(hi.useDeprecatedSynchronousErrorHandling){const n=!pi;if(n&&(pi={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=pi;if(pi=null,t)throw i}}else e()}class Kl extends Mt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Fh(n)&&n.add(this)):this.destination=GC}static create(n,t,i){return new Yr(n,t,i)}next(n){this.isStopped?Zl(function $C(e){return ql("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Zl(function VC(e){return ql("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Zl(HC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const UC=Function.prototype.bind;function Ql(e,n){return UC.call(e,n)}class WC{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){bs(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){bs(i)}else bs(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){bs(t)}}}class Yr extends Kl{constructor(n,t,i){let r;if(super(),ye(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&hi.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Ql(n.next,o),error:n.error&&Ql(n.error,o),complete:n.complete&&Ql(n.complete,o)}):r=n}this.destination=new WC(r)}}function bs(e){hi.useDeprecatedSynchronousErrorHandling?function jC(e){hi.useDeprecatedSynchronousErrorHandling&&pi&&(pi.errorThrown=!0,pi.error=e)}(e):Oh(e)}function Zl(e,n){const{onStoppedNotification:t}=hi;t&&ws.setTimeout(()=>t(e,n))}const GC={closed:!0,next:Nh,error:function zC(e){throw e},complete:Nh},Xl="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gn(e){return e}function Lh(e){return 0===e.length?Gn:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}let Be=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function KC(e){return e&&e instanceof Kl||function qC(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&Fh(e)}(t)?t:new Yr(t,i,r);return Ss(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Bh(i))((r,o)=>{const s=new Yr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Xl](){return this}pipe(...t){return Lh(t)(this)}toPromise(t){return new(t=Bh(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function Bh(e){var n;return null!==(n=e??hi.Promise)&&void 0!==n?n:Promise}const QC=zr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let bn=(()=>{class e extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Hh(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new QC}next(t){Ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Ph:(this.currentObservers=null,o.push(t),new Mt(()=>{this.currentObservers=null,Gr(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return e.create=(n,t)=>new Hh(n,t),e})();class Hh extends bn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:Ph}}class Rt extends bn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Vh(e){return ye(e?.lift)}function Ue(e){return n=>{if(Vh(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(e,n,t,i,r){return new ZC(e,n,t,i,r)}class ZC extends Kl{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function be(e,n){return Ue((t,i)=>{let r=0;t.subscribe(We(i,o=>{i.next(e.call(n,o,r++))}))})}function Yn(e){return this instanceof Yn?(this.v=e,this):new Yn(e)}function Wh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function nc(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Gh(e){return ye(e?.then)}function Yh(e){return ye(e[Xl])}function qh(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function Kh(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Qh=function _D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zh(e){return ye(e?.[Qh])}function Xh(e){return function Uh(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(h){return new Promise(function(y,_){o.push([f,h,y,_])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof Yn?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(i[f](h))}catch(y){d(o[0][3],y)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield Yn(t.read());if(r)return yield Yn(void 0);yield yield Yn(i)}}finally{t.releaseLock()}})}function Jh(e){return ye(e?.getReader)}function Vt(e){if(e instanceof Be)return e;if(null!=e){if(Yh(e))return function wD(e){return new Be(n=>{const t=e[Xl]();if(ye(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(zh(e))return function SD(e){return new Be(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Gh(e))return function bD(e){return new Be(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Oh)})}(e);if(qh(e))return ep(e);if(Zh(e))return function CD(e){return new Be(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Jh(e))return function DD(e){return ep(Xh(e))}(e)}throw Kh(e)}function ep(e){return new Be(n=>{(function ED(e,n){var t,i,r,o;return function $h(e,n,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Wh(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Cn(e,n,t,i=0,r=!1){const o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Ye(e,n,t=1/0){return ye(n)?Ye((i,r)=>be((o,s)=>n(i,o,r,s))(Vt(e(i,r))),t):("number"==typeof n&&(t=n),Ue((i,r)=>function AD(e,n,t,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&n.complete()},h=_=>c<i?y(_):l.push(_),y=_=>{o&&n.next(_),c++;let E=!1;Vt(t(_,u++)).subscribe(We(n,T=>{r?.(T),o?h(T):n.next(T)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<i;){const T=l.shift();s?Cn(n,s,()=>y(T)):y(T)}f()}catch(T){n.error(T)}}))};return e.subscribe(We(n,h,()=>{d=!0,f()})),()=>{a?.()}}(i,r,e,t)))}function Ui(e=1/0){return Ye(Gn,e)}const rn=new Be(e=>e.complete());function ic(e){return e[e.length-1]}function qr(e){return function TD(e){return e&&ye(e.schedule)}(ic(e))?e.pop():void 0}function tp(e,n=0){return Ue((t,i)=>{t.subscribe(We(i,r=>Cn(i,e,()=>i.next(r),n),()=>Cn(i,e,()=>i.complete(),n),r=>Cn(i,e,()=>i.error(r),n)))})}function np(e,n=0){return Ue((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function ip(e,n){if(!e)throw new Error("Iterable cannot be null");return new Be(t=>{Cn(t,n,()=>{const i=e[Symbol.asyncIterator]();Cn(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function qe(e,n){return n?function ND(e,n){if(null!=e){if(Yh(e))return function RD(e,n){return Vt(e).pipe(np(n),tp(n))}(e,n);if(zh(e))return function FD(e,n){return new Be(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(Gh(e))return function PD(e,n){return Vt(e).pipe(np(n),tp(n))}(e,n);if(qh(e))return ip(e,n);if(Zh(e))return function xD(e,n){return new Be(t=>{let i;return Cn(t,n,()=>{i=e[Qh](),Cn(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>ye(i?.return)&&i.return()})}(e,n);if(Jh(e))return function OD(e,n){return ip(Xh(e),n)}(e,n)}throw Kh(e)}(e,n):Vt(e)}function K(...e){return qe(e,qr(e))}function rp(e={}){const{connector:n=(()=>new bn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},y=()=>{const _=s;h(),_?.unsubscribe()};return Ue((_,E)=>{c++,!d&&!u&&f();const T=l=l??n();E.add(()=>{c--,0===c&&!d&&!u&&(a=rc(y,r))}),T.subscribe(E),!s&&c>0&&(s=new Yr({next:b=>T.next(b),error:b=>{d=!0,f(),a=rc(h,t,b),T.error(b)},complete:()=>{u=!0,f(),a=rc(h,i),T.complete()}}),Vt(_).subscribe(s))})(o)}}function rc(e,n,...t){if(!0===n)return void e();if(!1===n)return;const i=new Yr({next:()=>{i.unsubscribe(),e()}});return Vt(n(...t)).subscribe(i)}function on(e,n){return Ue((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(We(i,l=>{r?.unsubscribe();let c=0;const u=o++;Vt(e(l,u)).subscribe(r=We(i,d=>i.next(n?n(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function HD(e,n){return e===n}function ge(e){for(let n in e)if(e[n]===ge)return n;throw Error("Could not find renamed property on target object.")}function He(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(He).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function oc(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const VD=ge({__forward_ref__:ge});function sc(e){return e.__forward_ref__=sc,e.toString=function(){return He(this())},e}function Q(e){return ac(e)?e():e}function ac(e){return"function"==typeof e&&e.hasOwnProperty(VD)&&e.__forward_ref__===sc}function lc(e){return e&&!!e.\u0275providers}const op="https://g.co/ng/security#xss";class I extends Error{constructor(n,t){super(function Ds(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Z(e){return"string"==typeof e?e:null==e?"":String(e)}function Es(e,n){throw new I(-201,!1)}function Pt(e,n){null==e&&function ce(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}(n,e,null,"!=")}function $(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Dn(e){return{providers:e.providers||[],imports:e.imports||[]}}function As(e){return sp(e,Is)||sp(e,lp)}function sp(e,n){return e.hasOwnProperty(n)?e[n]:null}function ap(e){return e&&(e.hasOwnProperty(cc)||e.hasOwnProperty(qD))?e[cc]:null}const Is=ge({\u0275prov:ge}),cc=ge({\u0275inj:ge}),lp=ge({ngInjectableDef:ge}),qD=ge({ngInjectorDef:ge});var ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ie||{});let uc;function ft(e){const n=uc;return uc=e,n}function up(e,n,t){const i=As(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ie.Optional?null:void 0!==n?n:void Es(He(e))}const _e=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kr={},dc="__NG_DI_FLAG__",Ts="ngTempTokenPath",QD=/\n/gm,dp="__source";let Wi;function qn(e){const n=Wi;return Wi=e,n}function JD(e,n=ie.Default){if(void 0===Wi)throw new I(-203,!1);return null===Wi?up(e,void 0,n):Wi.get(e,n&ie.Optional?null:void 0,n)}function N(e,n=ie.Default){return(function cp(){return uc}()||JD)(Q(e),n)}function x(e,n=ie.Default){return N(e,ks(n))}function ks(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fc(e){const n=[];for(let t=0;t<e.length;t++){const i=Q(e[t]);if(Array.isArray(i)){if(0===i.length)throw new I(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){const a=i[s],l=eE(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}n.push(N(r,o))}else n.push(N(i))}return n}function Qr(e,n){return e[dc]=n,e.prototype[dc]=n,e}function eE(e){return e[dc]}function En(e){return{toString:e}.toString()}var Ms=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ms||{}),Ft=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ft||{});const sn={},le=[],Rs=ge({\u0275cmp:ge}),hc=ge({\u0275dir:ge}),pc=ge({\u0275pipe:ge}),hp=ge({\u0275mod:ge}),An=ge({\u0275fac:ge}),Zr=ge({__NG_ELEMENT_ID__:ge}),pp=ge({__NG_ENV_ID__:ge});function gp(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function gc(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{const o=r,s=t[++i];yp(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function mp(e){return 3===e||4===e||6===e}function yp(e){return 64===e.charCodeAt(0)}function Xr(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||vp(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function vp(e,n,t,i,r){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}const _p="ng-template";function iE(e,n,t){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const s=e[i++];if(t&&"class"===o&&-1!==gp(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function wp(e){return 4===e.type&&e.value!==_p}function rE(e,n,t){return n===(4!==e.type||t?e.value:_p)}function oE(e,n,t){let i=4;const r=e.attrs||[],o=function lE(e){for(let n=0;n<e.length;n++)if(mp(e[n]))return n;return e.length}(r);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!rE(e,l,t)||""===l&&1===n.length){if($t(i))return!1;s=!0}}else{const c=8&i?l:n[++a];if(8&i&&null!==e.attrs){if(!iE(e.attrs,c,t)){if($t(i))return!1;s=!0}continue}const d=sE(8&i?"class":l,r,wp(e),t);if(-1===d){if($t(i))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":r[d+1].toLowerCase();const h=8&i?f:null;if(h&&-1!==gp(h,c,0)||2&i&&c!==f){if($t(i))return!1;s=!0}}}}else{if(!s&&!$t(i)&&!$t(l))return!1;if(s&&$t(l))continue;s=!1,i=l|1&i}}return $t(i)||s}function $t(e){return 0==(1&e)}function sE(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){const s=n[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function cE(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function Sp(e,n,t=!1){for(let i=0;i<n.length;i++)if(oE(e,n[i],t))return!0;return!1}function bp(e,n){return e?":not("+n.trim()+")":n}function dE(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&i){const a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!$t(s)&&(n+=bp(o,r),r=""),i=s,o=o||!$t(i);t++}return""!==r&&(n+=bp(o,r)),n}function jt(e){return En(()=>{const n=Dp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ms.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ft.Emulated,styles:e.styles||le,_:null,schemas:e.schemas||null,tView:null,id:""};Ep(t);const i=e.dependencies;return t.directiveDefs=Ps(i,!1),t.pipeDefs=Ps(i,!0),t.id=function _E(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function gE(e){return ue(e)||Qe(e)}function mE(e){return null!==e}function Kn(e){return En(()=>({type:e.type,bootstrap:e.bootstrap||le,declarations:e.declarations||le,imports:e.imports||le,exports:e.exports||le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Cp(e,n){if(null==e)return sn;const t={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,n&&(n[r]=o)}return t}function it(e){return En(()=>{const n=Dp(e);return Ep(n),n})}function ht(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ue(e){return e[Rs]||null}function Qe(e){return e[hc]||null}function pt(e){return e[pc]||null}function wt(e,n){const t=e[hp]||null;if(!t&&!0===n)throw new Error(`Type ${He(e)} does not have '\u0275mod' property.`);return t}function Dp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||sn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||le,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cp(e.inputs,n),outputs:Cp(e.outputs)}}function Ep(e){e.features?.forEach(n=>n(e))}function Ps(e,n){if(!e)return null;const t=n?pt:gE;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(mE)}const Ve=0,M=1,X=2,Ie=3,Ut=4,Jr=5,Ze=6,Gi=7,Pe=8,Yi=9,mi=10,J=11,eo=12,Ap=13,qi=14,Fe=15,to=16,Ki=17,an=18,no=19,Ip=20,Qn=21,In=22,Fs=23,xs=24,re=25,mc=1,Tp=2,ln=7,Qi=9,Xe=11;function St(e){return Array.isArray(e)&&"object"==typeof e[mc]}function gt(e){return Array.isArray(e)&&!0===e[mc]}function yc(e){return 0!=(4&e.flags)}function yi(e){return e.componentOffset>-1}function Ns(e){return 1==(1&e.flags)}function Wt(e){return!!e.template}function vc(e){return 0!=(512&e[X])}function vi(e,n){return e.hasOwnProperty(An)?e[An]:null}let EE=_e.WeakRef??class DE{constructor(n){this.ref=n}deref(){return this.ref}},IE=0,cn=null,Ls=!1;function ze(e){const n=cn;return cn=e,n}class Fp{constructor(){this.id=IE++,this.ref=function AE(e){return new EE(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const i=t.producerNode.deref();if(null!=i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Ls;Ls=!0;try{for(const[t,i]of this.consumers){const r=i.consumerNode.deref();null!=r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),r?.producers.delete(this.id))}}finally{Ls=n}}producerAccessed(){if(Ls)throw new Error("");if(null===cn)return;let n=cn.producers.get(this.id);void 0===n?(n={consumerNode:cn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:cn.trackingVersion},cn.producers.set(this.id,n),this.consumers.set(cn.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=cn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==cn?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let xp=null;const Np=()=>{};class RE extends Fp{constructor(n,t,i){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=Np,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=ze(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Np,this.watch(this.registerOnCleanup)}finally{ze(n)}}cleanup(){this.cleanupFn()}}class PE{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function _i(){return Lp}function Lp(e){return e.type.prototype.ngOnChanges&&(e.setInput=xE),FE}function FE(){const e=Hp(this),n=e?.current;if(n){const t=e.previous;if(t===sn)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function xE(e,n,t,i){const r=this.declaredInputs[t],o=Hp(e)||function OE(e,n){return e[Bp]=n}(e,{previous:sn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new PE(l&&l.currentValue,n,a===sn),e[i]=n}_i.ngInherit=!0;const Bp="__ngSimpleChanges__";function Hp(e){return e[Bp]||null}const un=function(e,n,t){};function Ee(e){for(;Array.isArray(e);)e=e[Ve];return e}function Vs(e,n){return Ee(n[e])}function mt(e,n){return Ee(n[e.index])}function jp(e,n){return e.data[n]}function bt(e,n){const t=n[e];return St(t)?t:t[Ve]}function Zn(e,n){return null==n?null:e[n]}function Up(e){e[Ki]=0}function jE(e){1024&e[X]||(e[X]|=1024,zp(e,1))}function Wp(e){1024&e[X]&&(e[X]&=-1025,zp(e,-1))}function zp(e,n){let t=e[Ie];if(null===t)return;t[Jr]+=n;let i=t;for(t=t[Ie];null!==t&&(1===n&&1===i[Jr]||-1===n&&0===i[Jr]);)t[Jr]+=n,i=t,t=t[Ie]}const q={lFrame:ng(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qp(){return q.bindingsEnabled}function k(){return q.lFrame.lView}function se(){return q.lFrame.tView}function j(e){return q.lFrame.contextLView=e,e[Pe]}function U(e){return q.lFrame.contextLView=null,e}function Ke(){let e=Kp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Kp(){return q.lFrame.currentTNode}function dn(e,n){const t=q.lFrame;t.currentTNode=e,t.isParent=n}function Dc(){return q.lFrame.isParent}function Ji(){return q.lFrame.bindingIndex++}function kn(e){const n=q.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function e0(e,n){const t=q.lFrame;t.bindingIndex=t.bindingRootIndex=e,Ac(n)}function Ac(e){q.lFrame.currentDirectiveIndex=e}function Tc(e){q.lFrame.currentQueryIndex=e}function n0(e){const n=e[M];return 2===n.type?n.declTNode:1===n.type?e[Ze]:null}function eg(e,n,t){if(t&ie.SkipSelf){let r=n,o=e;for(;!(r=r.parent,null!==r||t&ie.Host||(r=n0(o),null===r||(o=o[qi],10&r.type))););if(null===r)return!1;n=r,e=o}const i=q.lFrame=tg();return i.currentTNode=n,i.lView=e,!0}function kc(e){const n=tg(),t=e[M];q.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function tg(){const e=q.lFrame,n=null===e?null:e.child;return null===n?ng(e):n}function ng(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function ig(){const e=q.lFrame;return q.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const rg=ig;function Mc(){const e=ig();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ot(){return q.lFrame.selectedIndex}function wi(e){q.lFrame.selectedIndex=e}function Te(){const e=q.lFrame;return jp(e.tView,e.selectedIndex)}let sg=!0;function $s(){return sg}function Xn(e){sg=e}function js(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=u&&(e.destroyHooks??=[]).push(t,u)}}function Us(e,n,t){ag(e,n,3,t)}function Ws(e,n,t,i){(3&e[X])===t&&ag(e,n,t,i)}function Rc(e,n){let t=e[X];(3&t)===n&&(t&=8191,t+=1,e[X]=t)}function ag(e,n,t,i){const o=i??-1,s=n.length-1;let a=0;for(let l=void 0!==i?65535&e[Ki]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(e[Ki]+=65536),(a<o||-1==o)&&(d0(e,t,n,l),e[Ki]=(4294901760&e[Ki])+l+2),l++}function lg(e,n){un(4,e,n);const t=ze(null);try{n.call(e)}finally{ze(t),un(5,e,n)}}function d0(e,n,t,i){const r=t[i]<0,o=t[i+1],a=e[r?-t[i]:t[i]];r?e[X]>>13<e[Ki]>>16&&(3&e[X])===n&&(e[X]+=8192,lg(a,o)):lg(a,o)}const er=-1;class oo{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function cg(e){return e!==er}function zs(e){return 32767&e}function Gs(e,n){let t=function g0(e){return e>>16}(e),i=n;for(;t>0;)i=i[qi],t--;return i}let Fc=!0;function Ys(e){const n=Fc;return Fc=e,n}const ug=255,dg=5;let m0=0;const fn={};function qs(e,n){const t=fg(e,n);if(-1!==t)return t;const i=n[M];i.firstCreatePass&&(e.injectorIndex=n.length,xc(i.data,e),xc(n,null),xc(i.blueprint,null));const r=Oc(e,n),o=e.injectorIndex;if(cg(r)){const s=zs(r),a=Gs(r,n),l=a[M].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function xc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function fg(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Oc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=wg(r),null===i)return er;if(t++,r=r[qi],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return er}function Nc(e,n,t){!function y0(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Zr)&&(i=t[Zr]),null==i&&(i=t[Zr]=m0++);const r=i&ug;n.data[e+(r>>dg)]|=1<<r}(e,n,t)}function hg(e,n,t){if(t&ie.Optional||void 0!==e)return e;Es()}function pg(e,n,t,i){if(t&ie.Optional&&void 0===i&&(i=null),!(t&(ie.Self|ie.Host))){const r=e[Yi],o=ft(void 0);try{return r?r.get(n,i,t&ie.Optional):up(n,i,t&ie.Optional)}finally{ft(o)}}return hg(i,0,t)}function gg(e,n,t,i=ie.Default,r){if(null!==e){if(2048&n[X]&&!(i&ie.Self)){const s=function b0(e,n,t,i,r){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[X]&&!(512&s[X]);){const a=mg(o,s,t,i|ie.Self,fn);if(a!==fn)return a;let l=o.parent;if(!l){const c=s[Ip];if(c){const u=c.get(t,fn,i);if(u!==fn)return u}l=wg(s),s=s[qi]}o=l}return r}(e,n,t,i,fn);if(s!==fn)return s}const o=mg(e,n,t,i,fn);if(o!==fn)return o}return pg(n,t,i,r)}function mg(e,n,t,i,r){const o=function w0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Zr)?e[Zr]:void 0;return"number"==typeof n?n>=0?n&ug:S0:n}(t);if("function"==typeof o){if(!eg(n,e,i))return i&ie.Host?hg(r,0,i):pg(n,t,i,r);try{const s=o(i);if(null!=s||i&ie.Optional)return s;Es()}finally{rg()}}else if("number"==typeof o){let s=null,a=fg(e,n),l=er,c=i&ie.Host?n[Fe][Ze]:null;for((-1===a||i&ie.SkipSelf)&&(l=-1===a?Oc(e,n):n[a+8],l!==er&&vg(i,!1)?(s=n[M],a=zs(l),n=Gs(l,n)):a=-1);-1!==a;){const u=n[M];if(yg(o,a,u.data)){const d=_0(a,n,t,s,i,c);if(d!==fn)return d}l=n[a+8],l!==er&&vg(i,n[M].data[a+8]===c)&&yg(o,a,n)?(s=u,a=zs(l),n=Gs(l,n)):a=-1}}return r}function _0(e,n,t,i,r,o){const s=n[M],a=s.data[e+8],u=function Ks(e,n,t,i,r){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,u=o>>20,f=r?a+u:e.directiveEnd;for(let h=i?a:a+u;h<f;h++){const y=s[h];if(h<l&&t===y||h>=l&&y.type===t)return h}if(r){const h=s[l];if(h&&Wt(h)&&h.type===t)return l}return null}(a,s,t,null==i?yi(a)&&Fc:i!=s&&0!=(3&a.type),r&ie.Host&&o===a);return null!==u?Si(n,s,u,a):fn}function Si(e,n,t,i){let r=e[t];const o=n.data;if(function f0(e){return e instanceof oo}(r)){const s=r;s.resolving&&function $D(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new I(-200,`Circular dependency in DI detected for ${e}${t}`)}(function he(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Z(e)}(o[t]));const a=Ys(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?ft(s.injectImpl):null;eg(e,i,ie.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&function u0(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=Lp(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&ft(l),Ys(a),s.resolving=!1,rg()}}return r}function yg(e,n,t){return!!(t[n+(e>>dg)]&1<<e)}function vg(e,n){return!(e&ie.Self||e&ie.Host&&n)}class tr{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return gg(this._tNode,this._lView,n,ks(i),t)}}function S0(){return new tr(Ke(),k())}function Lc(e){return ac(e)?()=>{const n=Lc(Q(e));return n&&n()}:vi(e)}function wg(e){const n=e[M],t=n.type;return 2===t?n.declTNode:1===t?e[Ze]:null}const ir="__parameters__";function or(e,n,t){return En(()=>{const i=function Bc(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(ir)?l[ir]:Object.defineProperty(l,ir,{value:[]})[ir];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function ao(e,n){e.forEach(t=>Array.isArray(t)?ao(t,n):n(t))}function bg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Zs(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ct(e,n,t){let i=ar(e,n);return i>=0?e[1|i]=t:(i=~i,function k0(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function Hc(e,n){const t=ar(e,n);if(t>=0)return e[1|t]}function ar(e,n){return function Cg(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}(e,n,1)}const Js=Qr(or("Optional"),8),ea=Qr(or("SkipSelf"),4);function oa(e){return 128==(128&e.flags)}var Jn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Jn||{});const Wc=new Map;let J0=0;const Gc="__ngContext__";function Je(e,n){St(n)?(e[Gc]=n[no],function t1(e){Wc.set(e[no],e)}(n)):e[Gc]=n}let Yc;function qc(e,n){return Yc(e,n)}function fo(e){const n=e[Ie];return gt(n)?n[Ie]:n}function Ug(e){return zg(e[eo])}function Wg(e){return zg(e[Ut])}function zg(e){for(;null!==e&&!gt(e);)e=e[Ut];return e}function ur(e,n,t,i,r){if(null!=i){let o,s=!1;gt(i)?o=i:St(i)&&(s=!0,i=i[Ve]);const a=Ee(i);0===e&&null!==t?null==r?Qg(n,t,a):bi(n,t,a,r||null,!0):1===e&&null!==t?bi(n,t,a,r||null,!0):2===e?function da(e,n,t){const i=ca(e,n);i&&function w1(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function C1(e,n,t,i,r){const o=t[ln];o!==Ee(t)&&ur(n,e,i,o,r);for(let a=Xe;a<t.length;a++){const l=t[a];po(l[M],l,e,n,i,o)}}(n,e,o,t,r)}}function la(e,n,t){return e.createElement(n,t)}function Yg(e,n){const t=e[Qi],i=t.indexOf(n);Wp(n),t.splice(i,1)}function Qc(e,n){if(e.length<=Xe)return;const t=Xe+n,i=e[t];if(i){const r=i[to];null!==r&&r!==e&&Yg(r,i),n>0&&(e[t-1][Ut]=i[Ut]);const o=Zs(e,Xe+n);!function f1(e,n){po(e,n,n[J],2,null,null),n[Ve]=null,n[Ze]=null}(i[M],i);const s=o[an];null!==s&&s.detachView(o[M]),i[Ie]=null,i[Ut]=null,i[X]&=-129}return i}function qg(e,n){if(!(256&n[X])){const t=n[J];n[Fs]?.destroy(),n[xs]?.destroy(),t.destroyNode&&po(e,n,t,3,null,null),function g1(e){let n=e[eo];if(!n)return Zc(e[M],e);for(;n;){let t=null;if(St(n))t=n[eo];else{const i=n[Xe];i&&(t=i)}if(!t){for(;n&&!n[Ut]&&n!==e;)St(n)&&Zc(n[M],n),n=n[Ie];null===n&&(n=e),St(n)&&Zc(n[M],n),t=n&&n[Ut]}n=t}}(n)}}function Zc(e,n){if(!(256&n[X])){n[X]&=-129,n[X]|=256,function _1(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof oo)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];un(4,a,l);try{l.call(a)}finally{un(5,a,l)}}else{un(4,r,o);try{o.call(r)}finally{un(5,r,o)}}}}}(e,n),function v1(e,n){const t=e.cleanup,i=n[Gi];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(n[Gi]=null);const r=n[Qn];if(null!==r){n[Qn]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(e,n),1===n[M].type&&n[J].destroy();const t=n[to];if(null!==t&&gt(n[Ie])){t!==n[Ie]&&Yg(t,n);const i=n[an];null!==i&&i.detachView(e)}!function n1(e){Wc.delete(e[no])}(n)}}function Xc(e,n,t){return function Kg(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[Ve];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===Ft.None||o===Ft.Emulated)return null}return mt(i,t)}}(e,n.parent,t)}function bi(e,n,t,i,r){e.insertBefore(n,t,i,r)}function Qg(e,n,t){e.appendChild(n,t)}function Zg(e,n,t,i,r){null!==i?bi(e,n,t,i,r):Qg(e,n,t)}function ca(e,n){return e.parentNode(n)}let Jc,iu,em=function Jg(e,n,t){return 40&e.type?mt(e,t):null};function ua(e,n,t,i){const r=Xc(e,i,n),o=n[J],a=function Xg(e,n,t){return em(e,n,t)}(i.parent||n[Ze],i,n);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Zg(o,r,t[l],a,!1);else Zg(o,r,t,a,!1);void 0!==Jc&&Jc(o,i,n,t,r)}function ho(e,n){if(null!==n){const t=n.type;if(3&t)return mt(n,e);if(4&t)return eu(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return ho(e,i);{const r=e[n.index];return gt(r)?eu(-1,r):Ee(r)}}if(32&t)return qc(n,e)()||Ee(e[n.index]);{const i=nm(e,n);return null!==i?Array.isArray(i)?i[0]:ho(fo(e[Fe]),i):ho(e,n.next)}}return null}function nm(e,n){return null!==n?e[Fe][Ze].projection[n.projection]:null}function eu(e,n){const t=Xe+e+1;if(t<n.length){const i=n[t],r=i[M].firstChild;if(null!==r)return ho(i,r)}return n[ln]}function tu(e,n,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===n&&(a&&Je(Ee(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)tu(e,n,t.child,i,r,o,!1),ur(n,e,r,a,o);else if(32&l){const c=qc(t,i);let u;for(;u=c();)ur(n,e,r,u,o);ur(n,e,r,a,o)}else 16&l?rm(e,n,i,t,r,o):ur(n,e,r,a,o);t=s?t.projectionNext:t.next}}function po(e,n,t,i,r,o){tu(t,i,e.firstChild,n,r,o,!1)}function rm(e,n,t,i,r,o){const s=t[Fe],l=s[Ze].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ur(n,e,r,l[c],o);else{let c=l;const u=s[Ie];oa(i)&&(c.flags|=128),tu(e,n,c,u,r,o,!0)}}function om(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function sm(e,n,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&gc(e,n,i),null!==r&&om(e,n,r),null!==o&&function E1(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}class um{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${op})`}}function ei(e){return e instanceof um?e.changingThisBreaksApplicationSecurity:e}const H1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(fr||{});function ke(e){const n=function vo(){const e=k();return e&&e[mi].sanitizer}();return n?n.sanitize(fr.URL,e)||"":function mo(e,n){const t=function O1(e){return e instanceof um&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${op})`)}return t===n}(e,"URL")?ei(e):function ou(e){return(e=String(e)).match(H1)?e:"unsafe:"+e}(Z(e))}class V{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _o=new V("ENVIRONMENT_INITIALIZER"),_m=new V("INJECTOR",-1),wm=new V("INJECTOR_DEF_TYPES");class Sm{get(n,t=Kr){if(t===Kr){const i=new Error(`NullInjectorError: No provider for ${He(n)}!`);throw i.name="NullInjectorError",i}return t}}function X1(...e){return{\u0275providers:Cm(0,e),\u0275fromNgModule:!0}}function Cm(e,...n){const t=[],i=new Set;let r;return ao(n,o=>{const s=o;cu(s,t,[],i)&&(r||=[],r.push(s))}),void 0!==r&&Dm(r,t),t}function Dm(e,n){for(let t=0;t<e.length;t++){const{providers:r}=e[t];uu(r,o=>{n.push(o)})}}function cu(e,n,t,i){if(!(e=Q(e)))return!1;let r=null,o=ap(e);const s=!o&&ue(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(o=ap(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)cu(c,n,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{ao(o.imports,u=>{cu(u,n,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&Dm(c,n)}if(!a){const c=vi(r)||(()=>new r);n.push({provide:r,useFactory:c,deps:le},{provide:wm,useValue:r,multi:!0},{provide:_o,useValue:()=>N(r),multi:!0})}const l=o.providers;null==l||a||uu(l,u=>{n.push(u)})}}return r!==e&&void 0!==e.providers}function uu(e,n){for(let t of e)lc(t)&&(t=t.\u0275providers),Array.isArray(t)?uu(t,n):n(t)}const J1=ge({provide:String,useValue:ge});function du(e){return null!==e&&"object"==typeof e&&J1 in e}function Ci(e){return"function"==typeof e}const fu=new V("Set Injector scope."),ga={},tA={};let hu;function ma(){return void 0===hu&&(hu=new Sm),hu}class Rn{}class pu extends Rn{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mu(n,s=>this.processProvider(s)),this.records.set(_m,hr(void 0,this)),r.has("environment")&&this.records.set(Rn,hr(void 0,this));const o=this.records.get(fu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wm.multi,le,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=qn(this),i=ft(void 0);try{return n()}finally{qn(t),ft(i)}}get(n,t=Kr,i=ie.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(pp))return n[pp](this);i=ks(i);const r=qn(this),o=ft(void 0);try{if(!(i&ie.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function sA(e){return"function"==typeof e||"object"==typeof e&&e instanceof V}(n)&&As(n);a=l&&this.injectableDefInScope(l)?hr(gu(n),ga):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(i&ie.Self?ma():this.parent).get(n,t=i&ie.Optional&&t===Kr?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ts]=s[Ts]||[]).unshift(He(n)),r)throw s;return function tE(e,n,t,i){const r=e[Ts];throw n[dp]&&r.unshift(n[dp]),e.message=function nE(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=He(n);if(Array.isArray(n))r=n.map(He).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):He(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(QD,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[Ts]=null,e}(s,n,"R3InjectorError",this.source)}throw s}finally{ft(o),qn(r)}}resolveInjectorInitializers(){const n=qn(this),t=ft(void 0);try{const i=this.get(_o.multi,le,ie.Self);for(const r of i)r()}finally{qn(n),ft(t)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(He(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(n){let t=Ci(n=Q(n))?n:Q(n&&n.provide);const i=function iA(e){return du(e)?hr(void 0,e.useValue):hr(function Im(e,n,t){let i;if(Ci(e)){const r=Q(e);return vi(r)||gu(r)}if(du(e))i=()=>Q(e.useValue);else if(function Am(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...fc(e.deps||[]));else if(function Em(e){return!(!e||!e.useExisting)}(e))i=()=>N(Q(e.useExisting));else{const r=Q(e&&(e.useClass||e.provide));if(!function rA(e){return!!e.deps}(e))return vi(r)||gu(r);i=()=>new r(...fc(e.deps))}return i}(e),ga)}(n);if(Ci(n)||!0!==n.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=hr(void 0,ga,!0),r.factory=()=>fc(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){return t.value===ga&&(t.value=tA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function oA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Q(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function gu(e){const n=As(e),t=null!==n?n.factory:vi(e);if(null!==t)return t;if(e instanceof V)throw new I(204,!1);if(e instanceof Function)return function nA(e){const n=e.length;if(n>0)throw function lo(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}(n,"?"),new I(204,!1);const t=function YD(e){return e&&(e[Is]||e[lp])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new I(204,!1)}function hr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function mu(e,n){for(const t of e)Array.isArray(t)?mu(t,n):t&&lc(t)?mu(t.\u0275providers,n):n(t)}const ya=new V("AppId",{providedIn:"root",factory:()=>aA}),aA="ng",Tm=new V("Platform Initializer"),pr=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),km=new V("AnimationModuleType"),Mm=new V("CSP nonce",{providedIn:"root",factory:()=>function go(){if(void 0!==iu)return iu;if(typeof document<"u")return document;throw new I(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Pm=(e,n)=>null;function Fm(e,n){return Pm(e,n)}class mA{}class Nm{}class vA{resolveComponentFactory(n){throw function yA(e){const n=Error(`No component factory found for ${He(e)}.`);return n.ngComponent=e,n}(n)}}let ba=(()=>{class e{}return e.NULL=new vA,e})();function _A(){return mr(Ke(),k())}function mr(e,n){return new ti(mt(e,n))}let ti=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=_A,e})();class bo{}let bA=(()=>{class e{}return e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null}),e})();class Da{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const CA=new Da("16.1.7"),Iu={};function Co(e){for(;e;){e[X]|=64;const n=fo(e);if(vc(e)&&!n)return e;e=n}return null}function Tu(e){return e.ngOriginalError}class Di{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Tu(n);for(;t&&Tu(t);)t=Tu(t);return t||null}}const Vm=new V("",{providedIn:"root",factory:()=>!1});function Ei(e){return e.ownerDocument.defaultView}function Pn(e){return e instanceof Function?e():e}class zm extends Fp{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Co(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,i){const r=ze(this);this.trackingVersion++;try{n(t,i)}finally{ze(r)}}destroy(){this.trackingVersion++}}let Aa=null;function Gm(){return Aa??=new zm,Aa}function Ym(e,n){return e[n]??Gm()}function qm(e,n){const t=Gm();t.hasReadASignal&&(e[n]=Aa,t.lView=e,Aa=new zm)}const ee={};function p(e){Km(se(),k(),ot()+e,!1)}function Km(e,n,t,i){if(!i)if(3==(3&n[X])){const o=e.preOrderCheckHooks;null!==o&&Us(n,o,t)}else{const o=e.preOrderHooks;null!==o&&Ws(n,o,0,t)}wi(t)}function Jm(e,n=null,t=null,i){const r=ey(e,n,t,i);return r.resolveInjectorInitializers(),r}function ey(e,n=null,t=null,i,r=new Set){const o=[t||le,X1(e)];return i=i||("object"==typeof e?void 0:He(e)),new pu(o,n||ma(),i||null,r)}let Fn=(()=>{class e{static create(t,i){if(Array.isArray(t))return Jm({name:""},i,t,"");{const r=t.name??"";return Jm({name:r},t.parent,t.providers,r)}}}return e.THROW_IF_NOT_FOUND=Kr,e.NULL=new Sm,e.\u0275prov=$({token:e,providedIn:"any",factory:()=>N(_m)}),e.__NG_ELEMENT_ID__=-1,e})();function L(e,n=ie.Default){const t=k();return null===t?N(e,n):gg(Ke(),t,Q(e),n)}function Ia(e,n,t,i,r,o,s,a,l,c,u){const d=n.blueprint.slice();return d[Ve]=r,d[X]=140|i,(null!==c||e&&2048&e[X])&&(d[X]|=2048),Up(d),d[Ie]=d[qi]=e,d[Pe]=t,d[mi]=s||e&&e[mi],d[J]=a||e&&e[J],d[Yi]=l||e&&e[Yi]||null,d[Ze]=o,d[no]=function e1(){return J0++}(),d[In]=u,d[Ip]=c,d[Fe]=2==n.type?e[Fe]:d,d}function vr(e,n,t,i,r){let o=e.data[n];if(null===o)o=function ku(e,n,t,i,r){const o=Kp(),s=Dc(),l=e.data[n]=function UA(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return function Xi(){return null!==q.skipHydrationRootTNode}()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,i,r),function JE(){return q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function ro(){const e=q.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return dn(o,!0),o}function Do(e,n,t,i){if(0===t)return-1;const r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function ny(e,n,t,i,r){const o=Ym(n,Fs),s=ot(),a=2&i;try{if(wi(-1),a&&n.length>re&&Km(e,n,re,!1),un(a?2:0,r),a)o.runInContext(t,i,r);else{const c=ze(null);try{t(i,r)}finally{ze(c)}}}finally{a&&null===n[Fs]&&qm(n,Fs),wi(s),un(a?3:1,r)}}function Mu(e,n,t){if(yc(n)){const i=ze(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{ze(i)}}}function Ru(e,n,t){qp()&&(function QA(e,n,t,i){const r=t.directiveStart,o=t.directiveEnd;yi(t)&&function iI(e,n,t){const i=mt(n,e),r=iy(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Ta(e,Ia(e,r,null,s,i,n,null,e[mi].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=a}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||qs(t,n),Je(i,n);const s=t.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],c=Si(n,e,a,t);Je(c,n),null!==s&&rI(0,a-r,c,l,0,s),Wt(l)&&(bt(t.index,n)[Pe]=Si(n,e,a,t))}}(e,n,t,mt(t,n)),64==(64&t.flags)&&ly(e,n,t))}function Pu(e,n,t=mt){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(n,e):e[s];e[r++]=a}}}function iy(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Fu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Fu(e,n,t,i,r,o,s,a,l,c,u){const d=re+i,f=d+r,h=function LA(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:ee);return t}(d,f),y="function"==typeof c?c():c;return h[M]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}let ry=e=>null;function oy(e,n,t,i){for(let r in e)if(e.hasOwnProperty(r)){t=null===t?{}:t;const o=e[r];null===i?sy(t,n,r,o):i.hasOwnProperty(r)&&sy(t,n,i[r],o)}return t}function sy(e,n,t,i){e.hasOwnProperty(t)?e[t].push(n,i):e[t]=[n,i]}function Dt(e,n,t,i,r,o,s,a){const l=mt(n,t);let u,c=n.inputs;!a&&null!=c&&(u=c[i])?(Bu(e,t,u,i,r),yi(n)&&function GA(e,n){const t=bt(n,e);16&t[X]||(t[X]|=64)}(t,n.index)):3&n.type&&(i=function zA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(l,i,r))}function xu(e,n,t,i){if(qp()){const r=null===i?null:{"":-1},o=function XA(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Sp(n,s.selectors,!1))if(i||(i=[]),Wt(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Ou(e,n,a.length)}else i.unshift(s),Ou(e,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ay(e,n,t,s,r,a),r&&function JA(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const o=t[n[r+1]];if(null==o)throw new I(-301,!1);i.push(n[r],o)}}}(t,i,r)}t.mergedAttrs=Xr(t.mergedAttrs,t.attrs)}function ay(e,n,t,i,r,o){for(let c=0;c<i.length;c++)Nc(qs(t,n),e,i[c].type);!function tI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Do(e,n,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Xr(t.mergedAttrs,u.hostAttrs),nI(e,t,n,l,u),eI(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function WA(e,n,t){const r=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,c=null;for(let u=n.directiveStart;u<r;u++){const d=o[u],f=t?t.get(d):null,y=f?f.outputs:null;l=oy(d.inputs,u,l,f?f.inputs:null),c=oy(d.outputs,u,c,y);const _=null===l||null===s||wp(n)?null:oI(l,u,s);a.push(_)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(e,t,o)}function ly(e,n,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function t0(){return q.lFrame.currentDirectiveIndex}();try{wi(o);for(let a=i;a<r;a++){const l=e.data[a],c=n[a];Ac(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ZA(l,c)}}finally{wi(-1),Ac(s)}}function ZA(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Ou(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function eI(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Wt(n)&&(t[""]=e)}}function nI(e,n,t,i,r){e.data[i]=r;const o=r.factory||(r.factory=vi(r.type)),s=new oo(o,Wt(r),L);e.blueprint[i]=s,t[i]=s,function qA(e,n,t,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function KA(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(e,n,i,Do(e,t,r.hostVars,ee),r)}function rI(e,n,t,i,r,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)cy(i,t,s[a++],s[a++],s[a++])}function cy(e,n,t,i,r){const o=ze(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(n,r)),null!==e.setInput?e.setInput(n,r,t,i):n[i]=r}finally{ze(o)}}function oI(e,n,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function uy(e,n,t,i){return[e,!0,!1,n,null,0,i,t,null,null,null]}function dy(e,n){const t=e.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=e.data[o];Tc(t[i]),s.contentQueries(2,n[o],o)}}}function Ta(e,n){return e[eo]?e[Ap][Ut]=n:e[eo]=n,e[Ap]=n,n}function Lu(e,n,t){Tc(0);const i=ze(null);try{n(e,t)}finally{ze(i)}}function gy(e,n){const t=e[Yi],i=t?t.get(Di,null):null;i&&i.handleError(n)}function Bu(e,n,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];cy(e.data[s],n[s],i,a,r)}}function xn(e,n,t){const i=Vs(n,e);!function Gg(e,n,t){e.setValue(n,t)}(e[J],i,t)}function sI(e,n){const t=bt(n,e),i=t[M];!function aI(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[Ve];null!==r&&null===t[In]&&(t[In]=Fm(r,t[Yi])),Hu(i,t,t[Pe])}function Hu(e,n,t){kc(n);try{const i=e.viewQuery;null!==i&&Lu(1,i,t);const r=e.template;null!==r&&ny(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dy(e,n),e.staticViewQueries&&Lu(2,e.viewQuery,t);const o=e.components;null!==o&&function lI(e,n){for(let t=0;t<n.length;t++)sI(e,n[t])}(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[X]&=-5,Mc()}}let my=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=new RE(t,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e}),e})();function ka(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?r=oc(r,a):2==o&&(i=oc(i,a+": "+n[++s]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function Eo(e,n,t,i,r=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&i.push(Ee(o)),gt(o)){for(let a=Xe;a<o.length;a++){const l=o[a],c=l[M].firstChild;null!==c&&Eo(l[M],l,c,i)}o[ln]!==o[Ve]&&i.push(o[ln])}const s=t.type;if(8&s)Eo(e,n,t.child,i);else if(32&s){const a=qc(t,n);let l;for(;l=a();)i.push(l)}else if(16&s){const a=nm(n,t);if(Array.isArray(a))i.push(...a);else{const l=fo(n[Fe]);Eo(l[M],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Ma(e,n,t,i=!0){const r=n[mi].rendererFactory;r.begin&&r.begin();try{yy(e,n,e.template,t)}catch(s){throw i&&gy(n,s),s}finally{r.end&&r.end(),n[mi].effectManager?.flush()}}function yy(e,n,t,i){const r=n[X];if(256!=(256&r)){n[mi].effectManager?.flush(),kc(n);try{Up(n),function Zp(e){return q.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&ny(e,n,t,2,i);const s=3==(3&r);if(s){const c=e.preOrderCheckHooks;null!==c&&Us(n,c,null)}else{const c=e.preOrderHooks;null!==c&&Ws(n,c,0,null),Rc(n,0)}if(function hI(e){for(let n=Ug(e);null!==n;n=Wg(n)){if(!n[Tp])continue;const t=n[Qi];for(let i=0;i<t.length;i++){jE(t[i])}}}(n),vy(n,2),null!==e.contentQueries&&dy(e,n),s){const c=e.contentCheckHooks;null!==c&&Us(n,c)}else{const c=e.contentHooks;null!==c&&Ws(n,c,1),Rc(n,1)}!function NA(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const i=Ym(n,xs);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)wi(~o);else{const s=o,a=t[++r],l=t[++r];e0(a,s),i.runInContext(l,2,n[s])}}}finally{null===n[xs]&&qm(n,xs),wi(-1)}}(e,n);const a=e.components;null!==a&&wy(n,a,0);const l=e.viewQuery;if(null!==l&&Lu(2,l,i),s){const c=e.viewCheckHooks;null!==c&&Us(n,c)}else{const c=e.viewHooks;null!==c&&Ws(n,c,2),Rc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[X]&=-73,Wp(n)}finally{Mc()}}}function vy(e,n){for(let t=Ug(e);null!==t;t=Wg(t))for(let i=Xe;i<t.length;i++)_y(t[i],n)}function pI(e,n,t){_y(bt(n,e),t)}function _y(e,n){if(!function VE(e){return 128==(128&e[X])}(e))return;const t=e[M];if(80&e[X]&&0===n||1024&e[X]||2===n)yy(t,e,t.template,e[Pe]);else if(e[Jr]>0){vy(e,1);const r=e[M].components;null!==r&&wy(e,r,1)}}function wy(e,n,t){for(let i=0;i<n.length;i++)pI(e,n[i],t)}class Ao{get rootNodes(){const n=this._lView,t=n[M];return Eo(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pe]}set context(n){this._lView[Pe]=n}get destroyed(){return 256==(256&this._lView[X])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ie];if(gt(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(Qc(n,i),Zs(t,i))}this._attachedToViewContainer=!1}qg(this._lView[M],this._lView)}onDestroy(n){!function Gp(e,n){if(256==(256&e[X]))throw new I(911,!1);null===e[Qn]&&(e[Qn]=[]),e[Qn].push(n)}(this._lView,n)}markForCheck(){Co(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){this._lView[X]|=128}detectChanges(){Ma(this._lView[M],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function p1(e,n){po(e,n,n[J],2,null,null)}(this._lView[M],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=n}}class gI extends Ao{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Ma(n[M],n,n[Pe],!1)}checkNoChanges(){}get context(){return null}}class Sy extends ba{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=ue(n);return new Io(t,this.ngModule)}}function by(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class yI{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=ks(i);const r=this.injector.get(n,Iu,i);return r!==Iu||t===Iu?r:this.parentInjector.get(n,t,i)}}class Io extends Nm{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=by(n.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return by(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function fE(e){return e.map(dE).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let o=(r=r||this.ngModule)instanceof Rn?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new yI(n,o):n,a=s.get(bo,null);if(null===a)throw new I(407,!1);const u={rendererFactory:a,sanitizer:s.get(bA,null),effectManager:s.get(my,null)},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",h=i?function BA(e,n,t,i){const o=i.get(Vm,!1)||t===Ft.ShadowDom,s=e.selectRootElement(n,o);return function HA(e){ry(e)}(s),s}(d,i,this.componentDef.encapsulation,s):la(d,f,function mI(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(f)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528,T=Fu(0,null,null,1,0,null,null,null,null,null,null),b=Ia(null,T,null,E,null,null,u,d,s,null,null);let R,F;kc(b);try{const G=this.componentDef;let Se,Le=null;G.findHostDirectiveDefs?(Se=[],Le=new Map,G.findHostDirectiveDefs(G,Se,Le),Se.push(G)):Se=[G];const tn=function _I(e,n){const t=e[M],i=re;return e[i]=n,vr(t,i,2,"#host",null)}(b,h),nn=function wI(e,n,t,i,r,o,s){const a=r[M];!function SI(e,n,t,i){for(const r of e)n.mergedAttrs=Xr(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(ka(n,n.mergedAttrs,!0),null!==t&&sm(i,t,n))}(i,e,n,s);let l=null;null!==n&&(l=Fm(n,r[Yi]));const c=o.rendererFactory.createRenderer(n,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Ia(r,iy(t),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&Ou(a,e,i.length-1),Ta(r,d),r[e.index]=d}(tn,h,G,Se,b,u,d);F=jp(T,re),h&&function CI(e,n,t,i){if(i)gc(e,t,["ng-version",CA.full]);else{const{attrs:r,classes:o}=function hE(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&n.push(o,e[++i]):8===r&&t.push(o);else{if(!$t(r))break;r=o}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&gc(e,t,r),o&&o.length>0&&om(e,t,o.join(" "))}}(d,G,h,i),void 0!==t&&function DI(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(F,this.ngContentSelectors,t),R=function bI(e,n,t,i,r,o){const s=Ke(),a=r[M],l=mt(s,r);ay(a,r,s,t,null,i);for(let u=0;u<t.length;u++)Je(Si(r,a,s.directiveStart+u,s),r);ly(a,r,s),l&&Je(l,r);const c=Si(r,a,s.directiveStart+s.componentOffset,s);if(e[Pe]=r[Pe]=c,null!==o)for(const u of o)u(c,n);return Mu(a,s,e),c}(nn,G,Se,Le,b,[EI]),Hu(T,b,null)}finally{Mc()}return new vI(this.componentType,R,mr(F,b),b,F)}}class vI extends mA{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new gI(r),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Bu(o[M],o,r,n,t),this.previousInputValues.set(n,t),Co(bt(this._tNode.index,o))}}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function EI(){const e=Ke();js(k()[M],e)}function Pa(e){return!!Vu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Vu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function et(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function wr(e,n,t,i){return et(e,Ji(),t)?n+Z(t)+i:ee}function Sr(e,n,t,i,r,o){const a=function Ai(e,n,t,i){const r=et(e,n,t);return et(e,n+1,i)||r}(e,function Tn(){return q.lFrame.bindingIndex}(),t,r);return kn(2),a?n+Z(t)+i+Z(r)+o:ee}function A(e,n,t,i,r,o,s,a){const l=k(),c=se(),u=e+re,d=c.firstCreatePass?function eT(e,n,t,i,r,o,s,a,l){const c=n.consts,u=vr(n,e,4,s||null,Zn(c,a));xu(n,t,u,Zn(c,l)),js(n,u);const d=u.tView=Fu(2,u,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}(u,c,l,n,t,i,r,o,s):c.data[u];dn(d,!1);const f=$y(c,l,d,e);$s()&&ua(c,l,f,d),Je(f,l),Ta(l,l[u]=uy(f,l,f,d)),Ns(d)&&Ru(c,l,d),null!=s&&Pu(l,d,a)}let $y=function jy(e,n,t,i){return Xn(!0),n[J].createComment("")};function D(e,n,t){const i=k();return et(i,Ji(),n)&&Dt(se(),Te(),i,e,n,i[J],t,!1),D}function Yu(e,n,t,i,r){const s=r?"class":"style";Bu(e,t,n.inputs[s],s,i)}function g(e,n,t,i){const r=k(),o=se(),s=re+e,a=r[J],l=o.firstCreatePass?function oT(e,n,t,i,r,o){const s=n.consts,l=vr(n,e,2,i,Zn(s,r));return xu(n,t,l,Zn(s,o)),null!==l.attrs&&ka(l,l.attrs,!1),null!==l.mergedAttrs&&ka(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,r,n,t,i):o.data[s],c=Uy(o,r,l,a,n,e);r[s]=c;const u=Ns(l);return dn(l,!0),sm(a,c,l),32!=(32&l.flags)&&$s()&&ua(o,r,c,l),0===function WE(){return q.lFrame.elementDepthCount}()&&Je(c,r),function zE(){q.lFrame.elementDepthCount++}(),u&&(Ru(o,r,l),Mu(o,l,r)),null!==i&&Pu(r,l),g}function m(){let e=Ke();Dc()?function Ec(){q.lFrame.isParent=!1}():(e=e.parent,dn(e,!1));const n=e;(function YE(e){return q.skipHydrationRootTNode===e})(n)&&function ZE(){q.skipHydrationRootTNode=null}(),function GE(){q.lFrame.elementDepthCount--}();const t=se();return t.firstCreatePass&&(js(t,e),yc(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function h0(e){return 0!=(8&e.flags)}(n)&&Yu(t,n,k(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function p0(e){return 0!=(16&e.flags)}(n)&&Yu(t,n,k(),n.stylesWithoutHost,!1),m}function ne(e,n,t,i){return g(e,n,t,i),m(),ne}let Uy=(e,n,t,i,r,o)=>(Xn(!0),la(i,r,function og(){return q.lFrame.currentNamespace}()));function oe(){return k()}function La(e){return!!e&&"function"==typeof e.then}function Gy(e){return!!e&&"function"==typeof e.subscribe}function H(e,n,t,i){const r=k(),o=se(),s=Ke();return function qy(e,n,t,i,r,o,s){const a=Ns(i),c=e.firstCreatePass&&function hy(e){return e.cleanup||(e.cleanup=[])}(e),u=n[Pe],d=function fy(e){return e[Gi]||(e[Gi]=[])}(n);let f=!0;if(3&i.type||s){const _=mt(i,n),E=s?s(_):_,T=d.length,b=s?F=>s(Ee(F[i.index])):i.index;let R=null;if(!s&&a&&(R=function dT(e,n,t,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=n[Gi],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,r,i.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,f=!1;else{o=Qy(i,n,u,o,!1);const F=t.listen(E,r,o);d.push(o,F),c&&c.push(r,b,T,T+1)}}else o=Qy(i,n,u,o,!1);const h=i.outputs;let y;if(f&&null!==h&&(y=h[r])){const _=y.length;if(_)for(let E=0;E<_;E+=2){const G=n[y[E]][y[E+1]].subscribe(o),Se=d.length;d.push(o,G),c&&c.push(r,i.index,Se,-(Se+1))}}}(o,r,r[J],s,e,n,i),H}function Ky(e,n,t,i){try{return un(6,n,t),!1!==t(i)}catch(r){return gy(e,r),!1}finally{un(7,n,t)}}function Qy(e,n,t,i,r){return function o(s){if(s===Function)return i;Co(e.componentOffset>-1?bt(e.index,n):n);let l=Ky(n,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=Ky(n,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function v(e=1){return function r0(e){return(q.lFrame.contextLView=function o0(e,n){for(;e>0;)n=n[qi],e--;return n}(e,q.lFrame.contextLView))[Pe]}(e)}function Me(e,n,t){return Qu(e,"",n,"",t),Me}function Qu(e,n,t,i,r){const o=k(),s=wr(o,n,t,i);return s!==ee&&Dt(se(),Te(),o,e,s,o[J],r,!1),Qu}function Ba(e,n){return e<<17|n<<2}function ni(e){return e>>17&32767}function Zu(e){return 2|e}function Ii(e){return(131068&e)>>2}function Xu(e,n){return-131069&e|n<<2}function Ju(e){return 1|e}function ov(e,n,t,i,r){const o=e[t+1],s=null===n;let a=i?ni(o):Ii(o),l=!1;for(;0!==a&&(!1===l||s);){const u=e[a+1];wT(e[a],n)&&(l=!0,e[a+1]=i?Ju(u):Zu(u)),a=i?ni(u):Ii(u)}l&&(e[t+1]=i?Zu(o):Ju(o))}function wT(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ar(e,n)>=0}const je={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sv(e){return e.substring(je.key,je.keyEnd)}function ST(e){return e.substring(je.value,je.valueEnd)}function lv(e,n){const t=je.textEnd;let i=je.key=Tr(e,n,t);return t===i?-1:(i=je.keyEnd=function ET(e,n,t){let i;for(;n<t&&(45===(i=e.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(e,i,t),i=uv(e,i,t),i=je.value=Tr(e,i,t),i=je.valueEnd=function AT(e,n,t){let i=-1,r=-1,o=-1,s=n,a=s;for(;s<t;){const l=e.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=dv(e,l,s,t):n===s-4&&85===o&&82===r&&76===i&&40===l?a=s=dv(e,41,s,t):l>32&&(a=s),o=r,r=i,i=-33&l}return a}(e,i,t),uv(e,i,t))}function Tr(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function uv(e,n,t,i){return(n=Tr(e,n,t))<t&&n++,n}function dv(e,n,t,i){let r=-1,o=t;for(;o<i;){const s=e.charCodeAt(o++);if(s==n&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function gn(e){!function Gt(e,n,t,i){const r=se(),o=kn(2);r.firstUpdatePass&&function gv(e,n,t,i){const r=e.data;if(null===r[t+1]){const o=r[ot()],s=pv(e,t);_v(o,i)&&null===n&&!s&&(n=!1),n=function kT(e,n,t,i){const r=function Ic(e){const n=q.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=Po(t=ed(null,e,n,t,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==r)if(t=ed(r,e,n,t,i),null===o){let l=function MT(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==Ii(i))return e[ni(i)]}(e,n,i);void 0!==l&&Array.isArray(l)&&(l=ed(null,e,n,l[1],i),l=Po(l,n.attrs,i),function RT(e,n,t,i){e[ni(t?n.classBindings:n.styleBindings)]=i}(e,n,i,l))}else o=function PT(e,n,t){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=Po(i,e[o].hostAttrs,t);return Po(i,n.attrs,t)}(e,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),t}(r,o,n,i),function vT(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=ni(s),l=Ii(s);e[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||ar(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const f=ni(e[a+1]);e[i+1]=Ba(f,a),0!==f&&(e[f+1]=Xu(e[f+1],i)),e[a+1]=function mT(e,n){return 131071&e|n<<17}(e[a+1],i)}else e[i+1]=Ba(a,0),0!==a&&(e[a+1]=Xu(e[a+1],i)),a=i;else e[i+1]=Ba(l,0),0===a?a=i:e[l+1]=Xu(e[l+1],i),l=i;c&&(e[i+1]=Zu(e[i+1])),ov(e,u,i,!0),ov(e,u,i,!1),function _T(e,n,t,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&ar(o,n)>=0&&(t[i+1]=Ju(t[i+1]))}(n,u,e,i,o),s=Ba(a,l),o?n.classBindings=s:n.styleBindings=s}(r,o,n,t,s,i)}}(r,null,o,i);const s=k();if(t!==ee&&et(s,o,t)){const a=r.data[ot()];if(_v(a,i)&&!pv(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=oc(l,t||"")),Yu(r,a,s,t,i)}else!function OT(e,n,t,i,r,o,s,a){r===ee&&(r=le);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<r.length?r[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let _,y=null;u===d?(l+=2,c+=2,f!==h&&(y=d,_=h)):null===d||null!==u&&u<d?(l+=2,y=u):(c+=2,y=d,_=h),null!==y&&yv(e,n,t,i,y,_,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,a,s,s[J],s[o+1],s[o+1]=function FT(e,n,t){if(null==t||""===t)return le;const i=[],r=ei(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,o)}}(mv,IT,e,!1)}function IT(e,n){for(let t=function CT(e){return function cv(e){je.key=0,je.keyEnd=0,je.value=0,je.valueEnd=0,je.textEnd=e.length}(e),lv(e,Tr(e,0,je.textEnd))}(n);t>=0;t=lv(n,t))mv(e,sv(n),ST(n))}function pv(e,n){return n>=e.expandoStartIndex}function ed(e,n,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],i=Po(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),i}function Po(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ct(e,s,!!t||n[++o]))}return void 0===e?null:e}function mv(e,n,t){Ct(e,n,ei(t))}function yv(e,n,t,i,r,o,s,a){if(!(3&n.type))return;const l=e.data,c=l[a+1],u=function yT(e){return 1==(1&e)}(c)?vv(l,n,t,r,Ii(c),s):void 0;Ha(u)||(Ha(o)||function gT(e){return 2==(2&e)}(c)&&(o=vv(l,null,t,r,a,s)),function D1(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Jn.DashCase;null==r?e.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Jn.Important),e.setStyle(t,i,r,o))}}(i,s,Vs(ot(),t),r,o))}function vv(e,n,t,i,r,o){const s=null===n;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=t[r+1];f===ee&&(f=d?le:void 0);let h=d?Hc(f,i):u===i?f:void 0;if(c&&!Ha(h)&&(h=Hc(l,i)),Ha(h)&&(a=h,s))return a;const y=e[r+1];r=s?ni(y):Ii(y)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Hc(l,i))}return a}function Ha(e){return void 0!==e}function _v(e,n){return 0!=(e.flags&(n?8:16))}function w(e,n=""){const t=k(),i=se(),r=e+re,o=i.firstCreatePass?vr(i,r,1,n,null):i.data[r],s=wv(i,t,o,n,e);t[r]=s,$s()&&ua(i,t,s,o),dn(o,!1)}let wv=(e,n,t,i,r)=>(Xn(!0),function aa(e,n){return e.createText(n)}(n[J],i));function P(e){return z("",e,""),P}function z(e,n,t){const i=k(),r=wr(i,e,n,t);return r!==ee&&xn(i,ot(),r),z}function td(e,n,t,i,r){const o=k(),s=Sr(o,e,n,t,i,r);return s!==ee&&xn(o,ot(),s),td}function Yt(e,n,t){gn(wr(k(),e,n,t))}const Mr="en-US";let $v=Mr;class Rr{}class h_{}class ld extends Rr{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sy(this);const r=wt(n);this._bootstrapComponents=Pn(r.bootstrap),this._r3Injector=ey(n,t,[{provide:Rr,useValue:this},{provide:ba,useValue:this.componentFactoryResolver},...i],He(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class cd extends h_{constructor(n){super(),this.moduleType=n}create(n){return new ld(this.moduleType,n,[])}}class p_ extends Rr{constructor(n){super(),this.componentFactoryResolver=new Sy(this),this.instance=null;const t=new pu([...n.providers,{provide:Rr,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],n.parent||ma(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ud(e,n,t=null){return new p_({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let oM=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=Cm(0,t.type),r=i.length>0?ud([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(N(Rn))}),e})();function g_(e){e.getStandaloneInjector=n=>n.get(oM).getOrCreateStandaloneInjector(e)}function b_(e,n,t,i,r,o){const s=n+t;return et(e,s,r)?function pn(e,n,t){return e[n]=t}(e,s+1,o?i.call(o,r):i(r)):function Bo(e,n){const t=e[n];return t===ee?void 0:t}(e,s+1)}function T_(e,n,t){const i=e+re,r=k(),o=function Zi(e,n){return e[n]}(r,i);return function Ho(e,n){return e[M].data[n].pure}(r,i)?b_(r,function rt(){const e=q.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),n,o.transform,t,o):o.transform(t)}function fd(e){return n=>{setTimeout(e,void 0,n)}}const at=class kM extends bn{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=fd(o),r&&(r=fd(r)),s&&(s=fd(s)));const a=super.subscribe({next:r,error:o,complete:s});return n instanceof Mt&&n.add(a),a}};let On=(()=>{class e{}return e.__NG_ELEMENT_ID__=FM,e})();const RM=On,PM=class extends RM{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,i){const s=this._declarationTContainer.tView,a=Ia(this._declarationLView,s,n,4096&this._declarationLView[X]?4096:16,null,s.declTNode,null,null,null,t||null,i||null);a[to]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[an];return null!==c&&(a[an]=c.createEmbeddedView(s)),Hu(s,a,n),new Ao(a)}};function FM(){return function Wa(e,n){return 4&e.type?new PM(n,e,mr(e,n)):null}(Ke(),k())}let qt=(()=>{class e{}return e.__NG_ELEMENT_ID__=VM,e})();function VM(){return function x_(e,n){let t;const i=n[e.index];return gt(i)?t=i:(t=uy(i,n,null,e),n[e.index]=t,Ta(n,t)),O_(t,n,e,i),new P_(t,e,n)}(Ke(),k())}const $M=qt,P_=class extends $M{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return mr(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Oc(this._hostTNode,this._hostLView);if(cg(n)){const t=Gs(n,this._hostLView),i=zs(n);return new tr(t[M].data[i+8],t)}return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=F_(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(n,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(n,t,i,r,o){const s=n&&!function so(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const _=t||{};a=_.index,i=_.injector,r=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const l=s?n:new Io(ue(n)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const E=(s?c:this.parentInjector).get(Rn,null);E&&(o=E)}ue(l.componentType??{});const h=l.create(c,r,null,o);return this.insertImpl(h.hostView,a,false),h}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,i){const r=n._lView,o=r[M];if(function $E(e){return gt(e[Ie])}(r)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const c=r[Ie],u=new P_(c,c[Ze],c[Ie]);u.detach(u.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;if(function m1(e,n,t,i){const r=Xe+i,o=t.length;i>0&&(t[r-1][Ut]=n),i<o-Xe?(n[Ut]=t[r],bg(t,Xe+i,n)):(t.push(n),n[Ut]=null),n[Ie]=t;const s=n[to];null!==s&&t!==s&&function y1(e,n){const t=e[Qi];n[Fe]!==n[Ie][Ie][Fe]&&(e[Tp]=!0),null===t?e[Qi]=[n]:t.push(n)}(s,n);const a=n[an];null!==a&&a.insertView(e),n[X]|=128}(o,r,a,s),!i){const l=eu(s,a),c=r[J],u=ca(c,a[ln]);null!==u&&function h1(e,n,t,i,r,o){i[Ve]=r,i[Ze]=n,po(e,i,t,1,r,o)}(o,a[Ze],c,r,u,l)}return n.attachToViewContainerRef(),bg(gd(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=F_(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=Qc(this._lContainer,t);i&&(Zs(gd(this._lContainer),t),qg(i[M],i))}detach(n){const t=this._adjustIndex(n,-1),i=Qc(this._lContainer,t);return i&&null!=Zs(gd(this._lContainer),t)?new Ao(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function F_(e){return e[8]}function gd(e){return e[8]||(e[8]=[])}let O_=function N_(e,n,t,i){if(e[ln])return;let r;r=8&t.type?Ee(i):function jM(e,n){const t=e[J],i=t.createComment(""),r=mt(n,e);return bi(t,ca(t,r),i,function S1(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[ln]=r};const Ad=new V("Application Initializer");let Id=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=x(Ad,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(La(o))t.push(o);else if(Gy(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),aw=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Nn=new V("LocaleId",{providedIn:"root",factory:()=>x(Nn,ie.Optional|ie.SkipSelf)||function _R(){return typeof $localize<"u"&&$localize.locale||Mr}()});let lw=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class bR{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let cw=(()=>{class e{compileModuleSync(t){return new cd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Pn(wt(t).declarations).reduce((s,a)=>{const l=ue(a);return l&&s.push(new Io(l)),s},[]);return new bR(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function fw(...e){}class Ae{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function ER(){const e="function"==typeof _e.requestAnimationFrame;let n=_e[e?"requestAnimationFrame":"setTimeout"],t=_e[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function TR(e){const n=()=>{!function IR(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(_e,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,kd(e),e.isCheckStableRunning=!0,Td(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),kd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return hw(e),t.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),pw(e)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return hw(e),t.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),pw(e)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,kd(e),Td(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new I(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,AR,fw,fw);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const AR={};function Td(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function kd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function hw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pw(e){e._nesting--,Td(e)}class kR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}const gw=new V("",{providedIn:"root",factory:mw});function mw(){const e=x(Ae);let n=!0;return function LD(...e){const n=qr(e),t=function MD(e,n){return"number"==typeof ic(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?Vt(i[0]):Ui(t)(qe(i,n)):rn}(new Be(r=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(n),r.complete()})}),new Be(r=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,r.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(rp()))}const yw=new V(""),Ga=new V("");let Pd,Md=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pd||(function MR(e){Pd=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return e.\u0275fac=function(t){return new(t||e)(N(Ae),N(Rd),N(Ga))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})(),Rd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Pd?.findTestabilityInTree(this,t,i)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),ii=null;const vw=new V("AllowMultipleToken"),Fd=new V("PlatformDestroyListeners"),xd=new V("appBootstrapListener");class ww{constructor(n,t){this.name=n,this.token=t}}function bw(e,n,t=[]){const i=`Platform: ${n}`,r=new V(i);return(o=[])=>{let s=Od();if(!s||s.injector.get(vw,!1)){const a=[...t,...o,{provide:r,useValue:!0}];e?e(a):function FR(e){if(ii&&!ii.get(vw,!1))throw new I(400,!1);(function _w(){!function kE(e){xp=e}(()=>{throw new I(600,!1)})})(),ii=e;const n=e.get(Dw);(function Sw(e){e.get(Tm,null)?.forEach(t=>t())})(e)}(function Cw(e=[],n){return Fn.create({name:n,providers:[{provide:fu,useValue:"platform"},{provide:Fd,useValue:new Set([()=>ii=null])},...e]})}(a,i))}return function OR(e){const n=Od();if(!n)throw new I(401,!1);return n}()}}function Od(){return ii?.get(Dw)??null}let Dw=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function NR(e="zone.js",n){return"noop"===e?new kR:"zone.js"===e?new Ae(n):e}(i?.ngZone,function Ew(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function rM(e,n,t){return new ld(e,n,t)}(t.moduleType,this.injector,function Mw(e){return[{provide:Ae,useFactory:e},{provide:_o,multi:!0,useFactory:()=>{const n=x(BR,{optional:!0});return()=>n.initialize()}},{provide:kw,useFactory:LR},{provide:gw,useFactory:mw}]}(()=>r)),s=o.injector.get(Di,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Ya(this._modules,o),a.unsubscribe()})}),function Aw(e,n,t){try{const i=t();return La(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Id);return a.runInitializers(),a.donePromise.then(()=>(function jv(e){Pt(e,"Expected localeId to be defined"),"string"==typeof e&&($v=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Nn,Mr)||Mr),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=Iw({},i);return function RR(e,n,t){const i=new cd(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ki);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Fd,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(N(Fn))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Iw(e,n){return Array.isArray(n)?n.reduce(Iw,e):{...e,...n}}let ki=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(kw),this.zoneIsStable=x(gw),this.componentTypes=[],this.components=[],this.isStable=x(lw).hasPendingTasks.pipe(on(t=>t?K(!1):this.zoneIsStable),function BD(e,n=Gn){return e=e??HD,Ue((t,i)=>{let r,o=!0;t.subscribe(We(i,s=>{const a=n(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}(),rp()),this._injector=x(Rn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Nm;if(!this._injector.get(Id).done)throw!r&&function zi(e){const n=ue(e)||Qe(e)||pt(e);return null!==n&&n.standalone}(t),new I(405,!1);let s;s=r?t:this._injector.get(ba).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function PR(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Rr),c=s.create(Fn.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(yw,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ya(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Ya(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(xd,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ya(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ya(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const kw=new V("",{providedIn:"root",factory:()=>x(Di).handleError.bind(void 0)});function LR(){const e=x(Ae),n=x(Di);return t=>e.runOutsideAngular(()=>n.handleError(t))}let BR=(()=>{class e{constructor(){this.zone=x(Ae),this.applicationRef=x(ki)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Nd=(()=>{class e{}return e.__NG_ELEMENT_ID__=VR,e})();function VR(e){return function $R(e,n,t){if(yi(e)&&!t){const i=bt(e.index,n);return new Ao(i,i)}return 47&e.type?new Ao(n[Fe],n):null}(Ke(),k(),16==(16&e))}class xw{constructor(){}supports(n){return Pa(n)}create(n){return new YR(n)}}const GR=(e,n)=>n;class YR{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||GR}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<Nw(i,r,o)?t:i,a=Nw(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,y=h+f;u<=y&&y<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Pa(n))throw new I(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function NI(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let i;for(;!(i=t.next()).done;)n(i.value)}}(n,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new qR(t,i),o,r),n}_verifyReinsertion(n,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){const r=null===t?this._itHead:t._next;return n._next=r,n._prev=t,null===r?this._itTail=n:r._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ow),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,i=n._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ow),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qR{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KR{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const t=n._prevDup,i=n._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Ow{constructor(){this.map=new Map}put(n){const t=n.trackById;let i=this.map.get(t);i||(i=new KR,this.map.set(t,i)),i.add(n)}get(n,t){const r=this.map.get(n);return r?r.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nw(e,n,t){const i=e.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}class Lw{constructor(){}supports(n){return n instanceof Map||Vu(n)}create(){return new QR}}class QR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Vu(n)))throw new I(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const i=n._prev;return t._next=n,t._prev=i,n._prev=t,i&&(i._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new ZR(n);return this._records.set(n,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(i=>t(n[i],i))}}class ZR{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bw(){return new Qa([new xw])}let Qa=(()=>{class e{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Bw()),deps:[[e,new ea,new Js]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new I(901,!1)}}return e.\u0275prov=$({token:e,providedIn:"root",factory:Bw}),e})();function Hw(){return new $o([new Lw])}let $o=(()=>{class e{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Hw()),deps:[[e,new ea,new Js]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new I(901,!1)}}return e.\u0275prov=$({token:e,providedIn:"root",factory:Hw}),e})();const eP=bw(null,"core",[]);let tP=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(N(ki))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Dn({}),e})(),Wd=null;function xr(){return Wd}class hP{}const ct=new V("DocumentToken");let zd=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:function(){return x(gP)},providedIn:"platform"}),e})();const pP=new V("Location Initialized");let gP=(()=>{class e extends zd{constructor(){super(),this._doc=x(ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xr().getBaseHref(this._doc)}onPopState(t){const i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function Gd(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function Gw(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Ln(e){return e&&"?"!==e[0]?"?"+e:e}let Ri=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:function(){return x(qw)},providedIn:"root"}),e})();const Yw=new V("appBaseHref");let qw=(()=>{class e extends Ri{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gd(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ln(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ln(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ln(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(N(zd),N(Yw,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mP=(()=>{class e extends Ri{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Gd(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ln(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ln(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(N(zd),N(Yw,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})(),Yd=(()=>{class e{constructor(t){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function _P(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(Gw(Kw(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ln(i))}normalize(t){return e.stripTrailingSlash(function vP(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,Kw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ln(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ln(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return e.normalizeQueryParams=Ln,e.joinWithSlash=Gd,e.stripTrailingSlash=Gw,e.\u0275fac=function(t){return new(t||e)(N(Ri))},e.\u0275prov=$({token:e,factory:function(){return function yP(){return new Yd(N(Ri))}()},providedIn:"root"}),e})();function Kw(e){return e.replace(/\/index.html$/,"")}class sF{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new sF(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),sS(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{sS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return e.\u0275fac=function(t){return new(t||e)(L(qt),L(On),L(Qa))},e.\u0275dir=it({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function sS(e,n){e.context.$implicit=n.item}let Vn=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new aF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return e.\u0275fac=function(t){return new(t||e)(L(qt),L(On))},e.\u0275dir=it({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class aF{constructor(){this.$implicit=null,this.ngIf=null}}function aS(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${He(n)}'.`)}let cS=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=uS}transform(t,i=uS){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const r=this.differ.diff(t),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function IF(e,n){return{key:e,value:n}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(L($o,16))},e.\u0275pipe=ht({name:"keyvalue",type:e,pure:!1,standalone:!0}),e})();function uS(e,n){const t=e.key,i=n.key;if(t===i)return 0;if(void 0===t)return 1;if(void 0===i)return-1;if(null===t)return 1;if(null===i)return-1;if("string"==typeof t&&"string"==typeof i)return t<i?-1:1;if("number"==typeof t&&"number"==typeof i)return t-i;if("boolean"==typeof t&&"boolean"==typeof i)return t<i?-1:1;const r=String(t),o=String(i);return r==o?0:r<o?-1:1}let RF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Dn({}),e})();function fS(e){return"server"===e}let OF=(()=>{class e{}return e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new NF(N(ct),window)}),e})();class NF{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function LF(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=hS(this.window.history)||hS(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hS(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class ax extends hP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ff extends ax{static makeCurrent(){!function fP(e){Wd||(Wd=e)}(new ff)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function lx(){return zo=zo||document.querySelector("base"),zo?zo.getAttribute("href"):null}();return null==t?null:function cx(e){ul=ul||document.createElement("a"),ul.setAttribute("href",e);const n=ul.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function iF(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let ul,zo=null,dx=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();const hf=new V("EventManagerPlugins");let vS=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return e.\u0275fac=function(t){return new(t||e)(N(hf),N(Ae))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();class _S{constructor(n){this._doc=n}}const pf="ng-app-id";let wS=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fS(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${pf}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(pf),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(pf,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(N(ct),N(ya),N(Mm,8),N(pr))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();const gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mf=/%COMP%/g,gx=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function bS(e,n){return n.map(t=>t.replace(mf,e))}let yf=(()=>{class e{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fS(a),this.defaultRenderer=new vf(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ft.ShadowDom&&(i={...i,encapsulation:Ft.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof DS?r.applyToHost(t):r instanceof _f&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ft.Emulated:o=new DS(l,c,i,this.appId,u,s,a,d);break;case Ft.ShadowDom:return new _x(l,c,t,i,s,a,this.nonce,d);default:o=new _f(l,c,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(N(vS),N(wS),N(ya),N(gx),N(ct),N(pr),N(Ae),N(Mm))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();class vf{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(gf[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(CS(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(CS(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new I(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const o=gf[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=gf[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Jn.DashCase|Jn.Important)?n.style.setProperty(t,i,r&Jn.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Jn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=xr().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function CS(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _x extends vf{constructor(n,t,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=bS(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _f extends vf{constructor(n,t,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?bS(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class DS extends _f{constructor(n,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(n,t,i,o,s,a,l,c),this.contentAttr=function mx(e){return"_ngcontent-%COMP%".replace(mf,e)}(c),this.hostAttr=function yx(e){return"_nghost-%COMP%".replace(mf,e)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let wx=(()=>{class e extends _S{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return e.\u0275fac=function(t){return new(t||e)(N(ct))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();const ES=["alt","control","meta","shift"],Sx={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bx={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Cx=(()=>{class e extends _S{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),ES.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=Sx[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ES.forEach(s=>{s!==r&&(0,bx[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(N(ct))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();const Ix=bw(eP,"browser",[{provide:pr,useValue:"browser"},{provide:Tm,useValue:function Dx(){ff.makeCurrent()},multi:!0},{provide:ct,useFactory:function Ax(){return function k1(e){iu=e}(document),document},deps:[]}]),Tx=new V(""),TS=[{provide:Ga,useClass:class ux{addToWindow(n){_e.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new I(5103,!1);return o},_e.getAllAngularTestabilities=()=>n.getAllTestabilities(),_e.getAllAngularRootElements=()=>n.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(i=>{const r=_e.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?xr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:yw,useClass:Md,deps:[Ae,Rd,Ga]},{provide:Md,useClass:Md,deps:[Ae,Rd,Ga]}],kS=[{provide:fu,useValue:"root"},{provide:Di,useFactory:function Ex(){return new Di},deps:[]},{provide:hf,useClass:wx,multi:!0,deps:[ct,Ae,pr]},{provide:hf,useClass:Cx,multi:!0,deps:[ct]},yf,wS,vS,{provide:bo,useExisting:yf},{provide:class BF{},useClass:dx,deps:[]},[]];let MS=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:ya,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(N(Tx,12))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Dn({providers:[...kS,...TS],imports:[RF,tP]}),e})(),RS=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(N(ct))},e.\u0275prov=$({token:e,factory:function(t){let i=null;return i=t?new t:function Mx(){return new RS(N(ct))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Nx}=Array,{getPrototypeOf:Lx,prototype:Bx,keys:Hx}=Object;const{isArray:jx}=Array;function Sf(...e){const n=qr(e),t=function kD(e){return ye(ic(e))?e.pop():void 0}(e),{args:i,keys:r}=function Vx(e){if(1===e.length){const n=e[0];if(Nx(n))return{args:n,keys:null};if(function $x(e){return e&&"object"==typeof e&&Lx(e)===Bx}(n)){const t=Hx(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}(e);if(0===i.length)return qe([],n);const o=new Be(function Gx(e,n,t=Gn){return i=>{OS(n,()=>{const{length:r}=e,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)OS(n,()=>{const c=qe(e[l],n);let u=!1;c.subscribe(We(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>function zx(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}(r,s):Gn));return t?o.pipe(function Wx(e){return be(n=>function Ux(e,n){return jx(n)?e(...n):e(n)}(e,n))}(t)):o}function OS(e,n,t){e?Cn(t,e,n):n()}const dl=zr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function bf(...e){return function Yx(){return Ui(1)}()(qe(e,qr(e)))}function NS(e){return new Be(n=>{Vt(e()).subscribe(n)})}function Go(e,n){const t=ye(e)?e:()=>e,i=r=>r.error(t());return new Be(n?r=>n.schedule(i,0,r):i)}function Cf(){return Ue((e,n)=>{let t=null;e._refCount++;const i=We(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class LS extends Be{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Vh(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Mt;const t=this.getSubject();n.add(this.source.subscribe(We(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Mt.EMPTY)}return n}refCount(){return Cf()(this)}}function Nr(e){return e<=0?()=>rn:Ue((n,t)=>{let i=0;n.subscribe(We(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function si(e,n){return Ue((t,i)=>{let r=0;t.subscribe(We(i,o=>e.call(n,o,r++)&&i.next(o)))})}function fl(e){return Ue((n,t)=>{let i=!1;n.subscribe(We(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function BS(e=Kx){return Ue((n,t)=>{let i=!1;n.subscribe(We(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function Kx(){return new dl}function Pi(e,n){const t=arguments.length>=2;return i=>i.pipe(e?si((r,o)=>e(r,o,i)):Gn,Nr(1),t?fl(n):BS(()=>new dl))}function Yo(e,n){return ye(n)?Ye(e,n,1):Ye(e,1)}function dt(e,n,t){const i=ye(e)||n||t?{next:e,error:n,complete:t}:e;return i?Ue((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(We(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Gn}function Fi(e){return Ue((n,t)=>{let o,i=null,r=!1;i=n.subscribe(We(t,void 0,void 0,s=>{o=Vt(e(s,Fi(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Df(e){return e<=0?()=>rn:Ue((n,t)=>{let i=[];n.subscribe(We(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ef(e){return Ue((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const te="primary",qo=Symbol("RouteTitle");class eO{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lr(e){return new eO(e)}function tO(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function yn(e,n){const t=e?Object.keys(e):void 0,i=n?Object.keys(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!HS(e[r],n[r]))return!1;return!0}function HS(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}return e===n}function VS(e){return e.length>0?e[e.length-1]:null}function ai(e){return function Ox(e){return!!e&&(e instanceof Be||ye(e.lift)&&ye(e.subscribe))}(e)?e:La(e)?qe(Promise.resolve(e)):K(e)}const iO={exact:function US(e,n,t){if(!xi(e.segments,n.segments)||!hl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!US(e.children[i],n.children[i],t))return!1;return!0},subset:WS},$S={exact:function rO(e,n){return yn(e,n)},subset:function oO(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>HS(e[t],n[t]))},ignored:()=>!0};function jS(e,n,t){return iO[t.paths](e.root,n.root,t.matrixParams)&&$S[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function WS(e,n,t){return zS(e,n,n.segments,t)}function zS(e,n,t,i){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!xi(r,t)||n.hasChildren()||!hl(r,t,i))}if(e.segments.length===t.length){if(!xi(e.segments,t)||!hl(e.segments,t,i))return!1;for(const r in n.children)if(!e.children[r]||!WS(e.children[r],n.children[r],i))return!1;return!0}{const r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(xi(e.segments,r)&&hl(e.segments,r,i)&&e.children[te])&&zS(e.children[te],n,o,i)}}function hl(e,n,t){return n.every((i,r)=>$S[t](e[r].parameters,i.parameters))}class Br{constructor(n=new me([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lr(this.queryParams)),this._queryParamMap}toString(){return lO.serialize(this)}}class me{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pl(this)}}class Ko{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lr(this.parameters)),this._parameterMap}toString(){return qS(this)}}function xi(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let Qo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:function(){return new Af},providedIn:"root"}),e})();class Af{parse(n){const t=new _O(n);return new Br(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Zo(n.root,!0)}`,i=function dO(e){const n=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(r=>`${gl(t)}=${gl(r)}`).join("&"):`${gl(t)}=${gl(i)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function cO(e){return encodeURI(e)}(n.fragment)}`:""}`}}const lO=new Af;function pl(e){return e.segments.map(n=>qS(n)).join("/")}function Zo(e,n){if(!e.hasChildren())return pl(e);if(n){const t=e.children[te]?Zo(e.children[te],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==te&&i.push(`${r}:${Zo(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function aO(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===te&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==te&&(t=t.concat(n(r,i)))}),t}(e,(i,r)=>r===te?[Zo(e.children[te],!1)]:[`${r}:${Zo(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[te]?`${pl(e)}/${t[0]}`:`${pl(e)}/(${t.join("//")})`}}function GS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gl(e){return GS(e).replace(/%3B/gi,";")}function If(e){return GS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ml(e){return decodeURIComponent(e)}function YS(e){return ml(e.replace(/\+/g,"%20"))}function qS(e){return`${If(e.path)}${function uO(e){return Object.keys(e).map(n=>`;${If(n)}=${If(e[n])}`).join("")}(e.parameters)}`}const fO=/^[^\/()?;#]+/;function Tf(e){const n=e.match(fO);return n?n[0]:""}const hO=/^[^\/()?;=#]+/,gO=/^[^=?&#]+/,yO=/^[^&#]+/;class _O{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[te]=new me(n,t)),i}parseSegment(){const n=Tf(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(n),new Ko(ml(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function pO(e){const n=e.match(hO);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Tf(this.remaining);r&&(i=r,this.capture(i))}n[ml(t)]=ml(i)}parseQueryParam(n){const t=function mO(e){const n=e.match(gO);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function vO(e){const n=e.match(yO);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=YS(t),o=YS(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Tf(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=te);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[te]:new me([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new I(4011,!1)}}function KS(e){return e.segments.length>0?new me([],{[te]:e}):e}function QS(e){const n={};for(const i of Object.keys(e.children)){const o=QS(e.children[i]);if(i===te&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function wO(e){if(1===e.numberOfChildren&&e.children[te]){const n=e.children[te];return new me(e.segments.concat(n.segments),n.children)}return e}(new me(e.segments,n))}function Oi(e){return e instanceof Br}function ZS(e){let n;const r=KS(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new me(o.url,s);return o===e&&(n=a),a}(e.root));return n??r}function XS(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(0===n.length)return kf(r,r,r,t,i);const o=function bO(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new eb(!0,0,e);let n=0,t=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new eb(t,n,i)}(n);if(o.toRoot())return kf(r,r,new me([],{}),t,i);const s=function CO(e,n,t){if(e.isAbsolute)return new vl(n,!0,0);if(!t)return new vl(n,!1,NaN);if(null===t.parent)return new vl(t,!0,0);const i=yl(e.commands[0])?0:1;return function DO(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new vl(i,!1,r-o)}(t,t.segments.length-1+i,e.numberOfDoubleDots)}(o,r,e),a=s.processChildren?Jo(s.segmentGroup,s.index,o.commands):tb(s.segmentGroup,s.index,o.commands);return kf(r,s.segmentGroup,a,t,i)}function yl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xo(e){return"object"==typeof e&&null!=e&&e.outlets}function kf(e,n,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=e===n?t:JS(e,n,t);const a=KS(QS(s));return new Br(a,o,r)}function JS(e,n,t){const i={};return Object.entries(e.children).forEach(([r,o])=>{i[r]=o===n?t:JS(o,n,t)}),new me(e.segments,i)}class eb{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&yl(i[0]))throw new I(4003,!1);const r=i.find(Xo);if(r&&r!==VS(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vl{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function tb(e,n,t){if(e||(e=new me([],{})),0===e.segments.length&&e.hasChildren())return Jo(e,n,t);const i=function AO(e,n,t){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;const s=e.segments[r],a=t[i];if(Xo(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!ib(l,c,s))return o;i+=2}else{if(!ib(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new me(e.segments.slice(0,i.pathIndex),{});return o.children[te]=new me(e.segments.slice(i.pathIndex),e.children),Jo(o,0,r)}return i.match&&0===r.length?new me(e.segments,{}):i.match&&!e.hasChildren()?Mf(e,n,t):i.match?Jo(e,0,r):Mf(e,n,t)}function Jo(e,n,t){if(0===t.length)return new me(e.segments,{});{const i=function EO(e){return Xo(e[0])?e[0].outlets:{[te]:e}}(t),r={};if(!i[te]&&e.children[te]&&1===e.numberOfChildren&&0===e.children[te].segments.length){const o=Jo(e.children[te],n,t);return new me(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=tb(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new me(e.segments,r)}}function Mf(e,n,t){const i=e.segments.slice(0,n);let r=0;for(;r<t.length;){const o=t[r];if(Xo(o)){const l=IO(o.outlets);return new me(i,l)}if(0===r&&yl(t[0])){i.push(new Ko(e.segments[n].path,nb(t[0]))),r++;continue}const s=Xo(o)?o.outlets[te]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&yl(a)?(i.push(new Ko(s,nb(a))),r+=2):(i.push(new Ko(s,{})),r++)}return new me(i,{})}function IO(e){const n={};return Object.entries(e).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[t]=Mf(new me([],{}),0,i))}),n}function nb(e){const n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function ib(e,n,t){return e==t.path&&yn(n,t.parameters)}const es="imperative";class vn{constructor(n,t){this.id=n,this.url=t}}class Rf extends vn{constructor(n,t,i="imperative",r=null){super(n,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ni extends vn{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _l extends vn{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ts extends vn{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=16}}class Pf extends vn{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TO extends vn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kO extends vn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MO extends vn{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RO extends vn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PO extends vn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FO{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xO{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OO{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NO{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LO{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BO{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class HO{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ns,this.attachRef=null}}let ns=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new HO,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class ob{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Ff(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=Ff(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=xf(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return xf(n,this._root).map(t=>t.value)}}function Ff(e,n){if(e===n.value)return n;for(const t of n.children){const i=Ff(e,t);if(i)return i}return null}function xf(e,n){if(e===n.value)return[n];for(const t of n.children){const i=xf(e,t);if(i.length)return i.unshift(n),i}return[]}class $n{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hr(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class sb extends ob{constructor(n,t){super(n),this.snapshot=t,Of(this,n)}toString(){return this.snapshot.toString()}}function ab(e,n){const t=function VO(e,n){const s=new wl([],{},{},"",{},te,n,null,{});return new cb("",new $n(s,[]))}(0,n),i=new Rt([new Ko("",{})]),r=new Rt({}),o=new Rt({}),s=new Rt({}),a=new Rt(""),l=new Li(i,r,s,a,o,te,n,t.root);return l.snapshot=t.root,new sb(new $n(l,[]),t)}class Li{constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(be(c=>c[qo]))??K(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(n=>Lr(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(n=>Lr(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lb(e,n="emptyOnly"){const t=e.pathFromRoot;let i=0;if("always"!==n)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function $O(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class wl{get title(){return this.data?.[qo]}constructor(n,t,i,r,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cb extends ob{constructor(n,t){super(t),this.url=n,Of(this,t)}toString(){return ub(this._root)}}function Of(e,n){n.value._routerState=e,n.children.forEach(t=>Of(e,t))}function ub(e){const n=e.children.length>0?` { ${e.children.map(ub).join(", ")} } `:"";return`${e.value}${n}`}function Nf(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,yn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),yn(n.params,t.params)||e.paramsSubject.next(t.params),function nO(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!yn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),yn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Lf(e,n){const t=yn(e.params,n.params)&&function sO(e,n){return xi(e,n)&&e.every((t,i)=>yn(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Lf(e.parent,n.parent))}let Bf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=x(ns),this.location=x(qt),this.changeDetector=x(Nd),this.environmentInjector=x(Rn),this.inputBinder=x(Sl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new jO(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_i]}),e})();class jO{constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Li?this.route:n===ns?this.childContexts:this.parent.get(n,t)}}const Sl=new V("");let db=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Sf([i.queryParams,i.params,i.data]).pipe(on(([o,s,a],l)=>(a={...o,...s,...a},0===l?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function dP(e){const n=ue(e);if(!n)return null;const t=new Io(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();function is(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const r=function WO(e,n,t){return n.children.map(i=>{for(const r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return is(e,i,r);return is(e,i)})}(e,n,t);return new $n(i,r)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>is(e,a)),s}}const i=function zO(e){return new Li(new Rt(e.url),new Rt(e.params),new Rt(e.queryParams),new Rt(e.fragment),new Rt(e.data),e.outlet,e.component,e)}(n.value),r=n.children.map(o=>is(e,o));return new $n(i,r)}}const Hf="ngNavigationCancelingError";function fb(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=Oi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=hb(!1,0,n);return r.url=t,r.navigationBehaviorOptions=i,r}function hb(e,n,t){const i=new Error("NavigationCancelingError: "+(e||""));return i[Hf]=!0,i.cancellationCode=n,t&&(i.url=t),i}function pb(e){return gb(e)&&Oi(e.url)}function gb(e){return e&&e[Hf]}let mb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=jt({type:e,selectors:[["ng-component"]],standalone:!0,features:[g_],decls:1,vars:0,template:function(t,i){1&t&&ne(0,"router-outlet")},dependencies:[Bf],encapsulation:2}),e})();function Vf(e){const n=e.children&&e.children.map(Vf),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=mb),t}function Xt(e){return e.outlet||te}function rs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class XO{constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Nf(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const r=Hr(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Hr(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Hr(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){const r=Hr(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new BO(o.value.snapshot))}),n.children.length&&this.forwardEvent(new NO(n.value.snapshot))}activateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(Nf(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Nf(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=rs(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class yb{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class bl{constructor(n,t){this.component=n,this.route=t}}function JO(e,n,t){const i=e._root;return os(i,n?n._root:null,t,[i.value])}function Vr(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||function GD(e){return null!==As(e)}(e)?n.get(e):e:i}function os(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hr(n);return e.children.forEach(s=>{(function tN(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function nN(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!xi(e.url,n.url);case"pathParamsOrQueryParamsChange":return!xi(e.url,n.url)||!yn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lf(e,n)||!yn(e.queryParams,n.queryParams);default:return!Lf(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new yb(i)):(o.data=s.data,o._resolvedData=s._resolvedData),os(e,n,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new bl(a.outlet.component,s))}else s&&ss(n,a,r),r.canActivateChecks.push(new yb(i)),os(e,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ss(a,t.getContext(s),r)),r}function ss(e,n,t){const i=Hr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{ss(s,r.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new bl(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function as(e){return"function"==typeof e}function vb(e){return e instanceof dl||"EmptyError"===e?.name}const Cl=Symbol("INITIAL_VALUE");function $r(){return on(e=>Sf(e.map(n=>n.pipe(Nr(1),function qx(...e){const n=qr(e);return Ue((t,i)=>{(n?bf(e,t,n):bf(e,t)).subscribe(i)})}(Cl)))).pipe(be(n=>{for(const t of n)if(!0!==t){if(t===Cl)return Cl;if(!1===t||t instanceof Br)return t}return!0}),si(n=>n!==Cl),Nr(1)))}function _b(e){return function YC(...e){return Lh(e)}(dt(n=>{if(Oi(n))throw fb(0,n)}),be(n=>!0===n))}class Dl{constructor(n){this.segmentGroup=n||null}}class wb{constructor(n){this.urlTree=n}}function jr(e){return Go(new Dl(e))}function Sb(e){return Go(new wb(e))}class bN{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new I(4002,!1)}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return K(i);if(r.numberOfChildren>1||!r.children[te])return Go(new I(4e3,!1));r=r.children[te]}}applyRedirectCommands(n,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i)}applyRedirectCreateUrlTree(n,t,i,r){const o=this.createSegmentGroup(n,t.root,i,r);return new Br(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Object.entries(n).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){const o=this.createSegments(n,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new me(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){const r=i[t.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(n,t){let i=0;for(const r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}}const $f={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CN(e,n,t,i,r){const o=jf(e,n,t);return o.matched?(i=function GO(e,n){return e.providers&&!e._injector&&(e._injector=ud(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,i),function _N(e,n,t,i){const r=n.canMatch;return r&&0!==r.length?K(r.map(s=>{const a=Vr(s,e);return ai(function lN(e){return e&&as(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe($r(),_b()):K(!0)}(i,n,t).pipe(be(s=>!0===s?o:{...$f}))):K(o)}function jf(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...$f}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(n.matcher||tO)(t,e,n);if(!r)return{...$f};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function bb(e,n,t,i){return t.length>0&&function AN(e,n,t){return t.some(i=>El(e,n,i)&&Xt(i)!==te)}(e,t,i)?{segmentGroup:new me(n,EN(i,new me(t,e.children))),slicedSegments:[]}:0===t.length&&function IN(e,n,t){return t.some(i=>El(e,n,i))}(e,t,i)?{segmentGroup:new me(e.segments,DN(e,0,t,i,e.children)),slicedSegments:t}:{segmentGroup:new me(e.segments,e.children),slicedSegments:t}}function DN(e,n,t,i,r){const o={};for(const s of i)if(El(e,t,s)&&!r[Xt(s)]){const a=new me([],{});o[Xt(s)]=a}return{...r,...o}}function EN(e,n){const t={};t[te]=n;for(const i of e)if(""===i.path&&Xt(i)!==te){const r=new me([],{});t[Xt(i)]=r}return t}function El(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class RN{constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new bN(this.urlSerializer,this.urlTree)}noMatchError(n){return new I(4002,!1)}recognize(){const n=bb(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,te).pipe(Fi(t=>{if(t instanceof wb)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Dl?this.noMatchError(t):t}),be(t=>{const i=new wl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),r=new $n(i,t),o=new cb("",r),s=function SO(e,n,t=null,i=null){return XS(ZS(e),n,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,te).pipe(Fi(i=>{throw i instanceof Dl?this.noMatchError(i):i}))}inheritParamsAndData(n){const t=n.value,i=lb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r,!0)}processChildren(n,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return qe(r).pipe(Yo(o=>{const s=i.children[o],a=function QO(e,n){const t=e.filter(i=>Xt(i)===n);return t.push(...e.filter(i=>Xt(i)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function Zx(e,n){return Ue(function Qx(e,n,t,i,r){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(We(s,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),fl(null),function Xx(e,n){const t=arguments.length>=2;return i=>i.pipe(e?si((r,o)=>e(r,o,i)):Gn,Df(1),t?fl(n):BS(()=>new dl))}(),Ye(o=>{if(null===o)return jr(i);const s=Cb(o);return function PN(e){e.sort((n,t)=>n.value.outlet===te?-1:t.value.outlet===te?1:n.value.outlet.localeCompare(t.value.outlet))}(s),K(s)}))}processSegment(n,t,i,r,o,s){return qe(t).pipe(Yo(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,i,r,o,s).pipe(Fi(l=>{if(l instanceof Dl)return K(null);throw l}))),Pi(a=>!!a),Fi(a=>{if(vb(a))return function kN(e,n,t){return 0===n.length&&!e.children[t]}(i,r,o)?K([]):jr(i);throw a}))}processSegmentAgainstRoute(n,t,i,r,o,s,a){return function TN(e,n,t,i){return!!(Xt(e)===i||i!==te&&El(n,t,e))&&("**"===e.path||jf(n,e,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s):jr(r):jr(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Sb(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Ye(s=>{const a=new me(s,{});return this.processSegment(n,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=jf(t,r,o);if(!a)return jr(t);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Sb(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Ye(f=>this.processSegment(n,i,t,f.concat(c),s,!1)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?VS(r).parameters:{};a=K({snapshot:new wl(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Db(i),Xt(i),i.component??i._loadedComponent??null,i,Eb(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=CN(t,i,r,n).pipe(be(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new wl(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Db(i),Xt(i),i.component??i._loadedComponent??null,i,Eb(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(on(l=>null===l?jr(t):this.getChildConfig(n=i._injector??n,i,r).pipe(on(({routes:c})=>{const u=i._loadedInjector??n,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:y,slicedSegments:_}=bb(t,f,h,c);if(0===_.length&&y.hasChildren())return this.processChildren(u,c,y).pipe(be(T=>null===T?null:[new $n(d,T)]));if(0===c.length&&0===_.length)return K([new $n(d,[])]);const E=Xt(i)===o;return this.processSegment(u,c,y,_,E?te:o,!0).pipe(be(T=>[new $n(d,T)]))}))))}getChildConfig(n,t,i){return t.children?K({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?K({routes:t._loadedRoutes,injector:t._loadedInjector}):function vN(e,n,t,i){const r=n.canLoad;return void 0===r||0===r.length?K(!0):K(r.map(s=>{const a=Vr(s,e);return ai(function rN(e){return e&&as(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe($r(),_b())}(n,t,i).pipe(Ye(r=>r?this.configLoader.loadChildren(n,t).pipe(dt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function SN(e){return Go(hb(!1,3))}())):K({routes:[],injector:n})}}function FN(e){const n=e.value.routeConfig;return n&&""===n.path}function Cb(e){const n=[],t=new Set;for(const i of e){if(!FN(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):n.push(i)}for(const i of t){const r=Cb(i.children);n.push(new $n(i.value,r))}return n.filter(i=>!t.has(i))}function Db(e){return e.data||{}}function Eb(e){return e.resolve||{}}function Ab(e){return"string"==typeof e.title||null===e.title}function Uf(e){return on(n=>{const t=e(n);return t?qe(t).pipe(be(()=>n)):K(n)})}const Ur=new V("ROUTES");let Wf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(cw)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ai(t.loadComponent()).pipe(be(Ib),dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ef(()=>{this.componentLoaders.delete(t)})),r=new LS(i,()=>new bn).pipe(Cf());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(be(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c;return Array.isArray(a)?c=a:(l=a.create(t).injector,c=l.get(Ur,[],ie.Self|ie.Optional).flat()),{routes:c.map(Vf),injector:l}}),Ef(()=>{this.childrenLoaders.delete(i)})),s=new LS(o,()=>new bn).pipe(Cf());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(t){return ai(t()).pipe(be(Ib),Ye(i=>i instanceof h_||Array.isArray(i)?K(i):qe(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ib(e){return function VN(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Al=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new bn,this.configLoader=x(Wf),this.environmentInjector=x(Rn),this.urlSerializer=x(Qo),this.rootContexts=x(ns),this.inputBindingEnabled=null!==x(Sl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new xO(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new FO(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Rt({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:es,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(si(i=>0!==i.id),be(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),on(i=>{let r=!1,o=!1;return K(i).pipe(dt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),on(s=>{const a=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new ts(s.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),rn}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Tb(s.source)&&(t.browserUrlTree=s.extractedUrl),K(s).pipe(on(u=>{const d=this.transitions?.getValue();return this.events.next(new Rf(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?rn:Promise.resolve(u)}),function xN(e,n,t,i,r,o){return Ye(s=>function MN(e,n,t,i,r,o,s="emptyOnly"){return new RN(e,n,t,i,r,s,o).recognize()}(e,n,t,i,s.extractedUrl,r,o).pipe(be(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),dt(u=>{if(i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const f=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(f,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new TO(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:f,restoredState:h,extras:y}=s,_=new Rf(u,this.urlSerializer.serialize(d),f,h);this.events.next(_);const E=ab(0,this.rootComponentType).snapshot;return K(i={...s,targetSnapshot:E,urlAfterRedirects:d,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new ts(s.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),rn}}),dt(s=>{const a=new kO(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),be(s=>i={...s,guards:JO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function uN(e,n){return Ye(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?K({...t,guardsResult:!0}):function dN(e,n,t,i){return qe(e).pipe(Ye(r=>function yN(e,n,t,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?K(o.map(a=>{const l=rs(n)??r,c=Vr(a,l);return ai(function aN(e){return e&&as(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,i):l.runInContext(()=>c(e,n,t,i))).pipe(Pi())})).pipe($r()):K(!0)}(r.component,r.route,t,n,i)),Pi(r=>!0!==r,!0))}(s,i,r,e).pipe(Ye(a=>a&&function iN(e){return"boolean"==typeof e}(a)?function fN(e,n,t,i){return qe(n).pipe(Yo(r=>bf(function pN(e,n){return null!==e&&n&&n(new OO(e)),K(!0)}(r.route.parent,i),function hN(e,n){return null!==e&&n&&n(new LO(e)),K(!0)}(r.route,i),function mN(e,n,t){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function eN(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>NS(()=>K(s.guards.map(l=>{const c=rs(s.node)??t,u=Vr(l,c);return ai(function sN(e){return e&&as(e.canActivateChild)}(u)?u.canActivateChild(i,e):c.runInContext(()=>u(i,e))).pipe(Pi())})).pipe($r())));return K(o).pipe($r())}(e,r.path,t),function gN(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return K(!0);const r=i.map(o=>NS(()=>{const s=rs(n)??t,a=Vr(o,s);return ai(function oN(e){return e&&as(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(Pi())}));return K(r).pipe($r())}(e,r.route,t))),Pi(r=>!0!==r,!0))}(i,o,e,n):K(a)),be(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),dt(s=>{if(i.guardsResult=s.guardsResult,Oi(s.guardsResult))throw fb(0,s.guardsResult);const a=new MO(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),si(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Uf(s=>{if(s.guards.canActivateChecks.length)return K(s).pipe(dt(a=>{const l=new RO(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),on(a=>{let l=!1;return K(a).pipe(function ON(e,n){return Ye(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return K(t);let o=0;return qe(r).pipe(Yo(s=>function NN(e,n,t,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!Ab(r)&&(o[qo]=r.title),function LN(e,n,t,i){const r=function BN(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return K({});const o={};return qe(r).pipe(Ye(s=>function HN(e,n,t,i){const r=rs(n)??i,o=Vr(e,r);return ai(o.resolve?o.resolve(n,t):r.runInContext(()=>o(n,t)))}(e[s],n,t,i).pipe(Pi(),dt(a=>{o[s]=a}))),Df(1),function Jx(e){return be(()=>e)}(o),Fi(s=>vb(s)?rn:Go(s)))}(o,e,n,i).pipe(be(s=>(e._resolvedData=s,e.data=lb(e,t).resolve,r&&Ab(r)&&(e.data[qo]=r.title),null)))}(s.route,i,e,n)),dt(()=>o++),Df(1),Ye(s=>o===r.length?K(t):rn))})}(t.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),dt(a=>{const l=new PO(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Uf(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(dt(u=>{l.component=u}),be(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Sf(a(s.targetSnapshot.root)).pipe(fl(),Nr(1))}),Uf(()=>this.afterPreactivation()),be(s=>{const a=function UO(e,n,t){const i=is(e,n._root,t?t._root:void 0);return new sb(i,n)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return i={...s,targetRouterState:a}}),dt(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((e,n,t,i)=>be(r=>(new XO(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nr(1),dt({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ni(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Ef(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Fi(s=>{if(o=!0,gb(s)){pb(s)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new _l(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),pb(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Tb(i.source)};t.scheduleNavigation(l,es,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new Pf(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(s))}catch(l){i.reject(l)}}return rn}))}))}cancelNavigationTransition(t,i,r){const o=new _l(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Tb(e){return e!==es}let kb=(()=>{class e{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===te);return i}getResolvedTitleForRoute(t){return t.data[qo]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:function(){return x($N)},providedIn:"root"}),e})(),$N=(()=>{class e extends kb{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(t){return new(t||e)(N(RS))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:function(){return x(WN)},providedIn:"root"}),e})();class UN{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let WN=(()=>{class e extends UN{}return e.\u0275fac=function(){let n;return function(i){return(n||(n=function _g(e){return En(()=>{const n=e.prototype.constructor,t=n[An]||Lc(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[An]||Lc(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}(e)))(i||e)}}(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Il=new V("",{providedIn:"root",factory:()=>({})});let zN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:function(){return x(GN)},providedIn:"root"}),e})(),GN=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ls=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ls||{});function Mb(e,n){e.events.pipe(si(t=>t instanceof Ni||t instanceof _l||t instanceof Pf||t instanceof ts),be(t=>t instanceof Ni||t instanceof ts?ls.COMPLETE:t instanceof _l&&(0===t.code||1===t.code)?ls.REDIRECTING:ls.FAILED),si(t=>t!==ls.REDIRECTING),Nr(1)).subscribe(()=>{n()})}function YN(e){throw e}function qN(e,n,t){return n.parse("/")}const KN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let At=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=x(aw),this.isNgZoneEnabled=!1,this.options=x(Il,{optional:!0})||{},this.pendingTasks=x(lw),this.errorHandler=this.options.errorHandler||YN,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qN,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=x(zN),this.routeReuseStrategy=x(jN),this.titleStrategy=x(kb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=x(Ur,{optional:!0})?.flat()??[],this.navigationTransitions=x(Al),this.urlSerializer=x(Qo),this.location=x(Yd),this.componentInputBindingEnabled=!!x(Sl,{optional:!0}),this.isNgZoneEnabled=x(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ab(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),es,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Vf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=ZS(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return XS(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Oi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,es,null,i)}navigate(t,i={skipLocationChange:!1}){return function ZN(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new I(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...KN}:!1===i?{...QN}:i,Oi(t))return jS(this.currentUrlTree,t,r);const o=this.parseUrl(t);return jS(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return Mb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Rb{}let eL=(()=>{class e{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(si(t=>t instanceof Ni),Yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=ud(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return qe(r).pipe(Ui())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):K(null);const o=r.pipe(Ye(s=>null===s?K(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?qe([o,this.loader.loadComponent(i)]).pipe(Ui()):o})}}return e.\u0275fac=function(t){return new(t||e)(N(At),N(cw),N(Rn),N(Rb),N(Wf))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Gf=new V("");let Pb=(()=>{class e{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ni?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ts&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function ty(){throw new Error("invalid")}()},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();function jn(e,n){return{\u0275kind:e,\u0275providers:n}}function xb(){const e=x(Fn);return n=>{const t=e.get(ki);if(n!==t.components[0])return;const i=e.get(At),r=e.get(Ob);1===e.get(Yf)&&i.initialNavigation(),e.get(Nb,null,ie.Optional)?.setUpPreloading(),e.get(Gf,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Ob=new V("",{factory:()=>new bn}),Yf=new V("",{providedIn:"root",factory:()=>1}),Nb=new V("");function rL(e){return jn(0,[{provide:Nb,useExisting:eL},{provide:Rb,useExisting:e}])}const Lb=new V("ROUTER_FORROOT_GUARD"),sL=[Yd,{provide:Qo,useClass:Af},At,ns,{provide:Li,useFactory:function Fb(e){return e.routerState.root},deps:[At]},Wf,[]];function aL(){return new ww("Router",At)}let Bb=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[sL,[],{provide:Ur,multi:!0,useValue:t},{provide:Lb,useFactory:dL,deps:[[At,new Js,new ea]]},{provide:Il,useValue:i||{}},i?.useHash?{provide:Ri,useClass:mP}:{provide:Ri,useClass:qw},{provide:Gf,useFactory:()=>{const e=x(OF),n=x(Ae),t=x(Il),i=x(Al),r=x(Qo);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Pb(r,i,e,n,t)}},i?.preloadingStrategy?rL(i.preloadingStrategy).\u0275providers:[],{provide:ww,multi:!0,useFactory:aL},i?.initialNavigation?fL(i):[],i?.bindToComponentInputs?jn(8,[db,{provide:Sl,useExisting:db}]).\u0275providers:[],[{provide:Hb,useFactory:xb},{provide:xd,multi:!0,useExisting:Hb}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ur,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(N(Lb,8))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Dn({}),e})();function dL(e){return"guarded"}function fL(e){return["disabled"===e.initialNavigation?jn(3,[{provide:Ad,multi:!0,useFactory:()=>{const n=x(At);return()=>{n.setUpLocationChangeListener()}}},{provide:Yf,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?jn(2,[{provide:Yf,useValue:0},{provide:Ad,multi:!0,deps:[Fn],useFactory:n=>{const t=n.get(pP,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=n.get(At),o=n.get(Ob);Mb(r,()=>{i(!0)}),n.get(Al).afterPreactivation=()=>(i(!0),o.closed?K(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const Hb=new V("");let pL=(()=>{class e{constructor(){this.title="BG3 Character Builder"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=jt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&ne(0,"router-outlet")},dependencies:[Bf]}),e})();class Vb{}class gL{}const Un="*";function $b(e,n=null){return{type:2,steps:e,options:n}}function jb(e){return{type:6,styles:e,offset:null}}class cs{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ub{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Wb(e){return new I(3e3,!1)}function li(e){switch(e.length){case 0:return new cs;case 1:return e[0];default:return new Ub(e)}}function zb(e,n,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(n.forEach(l=>{const c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((f,h)=>{let y=h,_=f;if("offset"!==h)switch(y=e.normalizePropertyName(y,r),_){case"!":_=t.get(h);break;case Un:_=i.get(h);break;default:_=e.normalizeStyleValue(h,y,_,r)}d.set(y,_)}),u||o.push(d),a=d,s=c}),r.length)throw function BL(e){return new I(3502,!1)}();return o}function Kf(e,n,t,i){switch(n){case"start":e.onStart(()=>i(t&&Qf(t,"start",e)));break;case"done":e.onDone(()=>i(t&&Qf(t,"done",e)));break;case"destroy":e.onDestroy(()=>i(t&&Qf(t,"destroy",e)))}}function Qf(e,n,t){const o=Zf(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),s=e._data;return null!=s&&(o._data=s),o}function Zf(e,n,t,i,r="",o=0,s){return{element:e,triggerName:n,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function It(e,n,t){let i=e.get(n);return i||e.set(n,i=t),i}function Gb(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const QL=(()=>typeof document>"u"?null:document.documentElement)();function Xf(e){const n=e.parentNode||e.host||null;return n===QL?null:n}let Bi=null,Yb=!1;function qb(e,n){for(;n;){if(n===e)return!0;n=Xf(n)}return!1}function Kb(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const i=e.querySelector(n);return i?[i]:[]}let Qb=(()=>{class e{validateStyleProperty(t){return function XL(e){Bi||(Bi=function JL(){return typeof document<"u"?document.body:null}()||{},Yb=!!Bi.style&&"WebkitAppearance"in Bi.style);let n=!0;return Bi.style&&!function ZL(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Bi.style,!n&&Yb&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Bi.style)),n}(t)}matchesElement(t,i){return!1}containsElement(t,i){return qb(t,i)}getParentElement(t){return Xf(t)}query(t,i,r){return Kb(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new cs(r,o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})(),Jf=(()=>{class e{}return e.NOOP=new Qb,e})();const e2=1e3,eh="ng-enter",Tl="ng-leave",kl="ng-trigger",Ml=".ng-trigger",Xb="ng-animating",th=".ng-animating";function Wn(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:nh(parseFloat(n[1]),n[2])}function nh(e,n){return"s"===n?e*e2:e}function Rl(e,n,t){return e.hasOwnProperty("duration")?e:function n2(e,n,t){let r,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(Wb()),{duration:0,delay:0,easing:""};r=nh(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=nh(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=e;if(!t){let a=!1,l=n.length;r<0&&(n.push(function mL(){return new I(3100,!1)}()),a=!0),o<0&&(n.push(function yL(){return new I(3101,!1)}()),a=!0),a&&n.splice(l,0,Wb())}return{duration:r,delay:o,easing:s}}(e,n,t)}function us(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function Jb(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function ci(e,n=new Map,t){if(t)for(let[i,r]of t)n.set(i,r);for(let[i,r]of e)n.set(i,r);return n}function _n(e,n,t){n.forEach((i,r)=>{const o=rh(r);t&&!t.has(r)&&t.set(r,e.style[o]),e.style[o]=i})}function Hi(e,n){n.forEach((t,i)=>{const r=rh(i);e.style[r]=""})}function ds(e){return Array.isArray(e)?1==e.length?e[0]:$b(e):e}const ih=new RegExp("{{\\s*(.+?)\\s*}}","g");function tC(e){let n=[];if("string"==typeof e){let t;for(;t=ih.exec(e);)n.push(t[1]);ih.lastIndex=0}return n}function fs(e,n,t){const i=e.toString(),r=i.replace(ih,(o,s)=>{let a=n[s];return null==a&&(t.push(function _L(e){return new I(3003,!1)}()),a=""),a.toString()});return r==i?e:r}function Pl(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const o2=/-+([a-z0-9])/g;function rh(e){return e.replace(o2,(...n)=>n[1].toUpperCase())}function Tt(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function wL(e){return new I(3004,!1)}()}}function nC(e,n){return window.getComputedStyle(e)[n]}const Fl="*";function l2(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function c2(e,n,t){if(":"==e[0]){const l=function u2(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return n.push(function xL(e){return new I(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function FL(e){return new I(3015,!1)}()),n;const r=i[1],o=i[2],s=i[3];n.push(iC(r,s));"<"==o[0]&&!(r==Fl&&s==Fl)&&n.push(iC(s,r))}(i,t,n)):t.push(e),t}const xl=new Set(["true","1"]),Ol=new Set(["false","0"]);function iC(e,n){const t=xl.has(e)||Ol.has(e),i=xl.has(n)||Ol.has(n);return(r,o)=>{let s=e==Fl||e==r,a=n==Fl||n==o;return!s&&t&&"boolean"==typeof r&&(s=r?xl.has(e):Ol.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?xl.has(n):Ol.has(n)),s&&a}}const d2=new RegExp("s*:selfs*,?","g");function oh(e,n,t,i){return new f2(e).build(n,t,i)}class f2{constructor(n){this._driver=n}build(n,t,i){const r=new g2(t);return this._resetContextStyleTimingState(r),Tt(this,ds(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&t.errors.push(function bL(){return new I(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function CL(){return new I(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,t){const i=this.visitStyle(n.styles,t),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{tC(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Pl(o.values()),t.errors.push(function DL(e,n){return new I(3008,!1)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const i=Tt(this,ds(n.animation),t);return{type:1,matchers:l2(n.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Vi(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(i=>Tt(this,i,t)),options:Vi(n.options)}}visitGroup(n,t){const i=t.currentTime;let r=0;const o=n.steps.map(s=>{t.currentTime=i;const a=Tt(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Vi(n.options)}}visitAnimate(n,t){const i=function y2(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return sh(Rl(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=sh(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Rl(t,n);return sh(r.duration,r.delay,r.easing)}(n.timings,t.errors);t.currentAnimateTimings=i;let r,o=n.styles?n.styles:jb({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=n.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=jb(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,t){const i=this._makeStyleAst(n,t);return this._validateStyleAst(i,t),i}_makeStyleAst(n,t){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)"string"==typeof a?a===Un?i.push(a):t.errors.push(new I(3002,!1)):i.push(Jb(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function AL(e,n,t,i,r){return new I(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function r2(e,n,t){const i=n.params||{},r=tC(e);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function vL(e){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(n,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function IL(){return new I(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=n.steps.map(T=>{const b=this._makeStyleAst(T,t);let R=null!=b.offset?b.offset:function m2(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(b.styles),F=0;return null!=R&&(o++,F=b.offset=R),l=l||F<0||F>1,a=a||F<c,c=F,s.push(F),b});l&&t.errors.push(function TL(){return new I(3012,!1)}()),a&&t.errors.push(function kL(){return new I(3200,!1)}());const d=n.steps.length;let f=0;o>0&&o<d?t.errors.push(function ML(){return new I(3202,!1)}()):0==o&&(f=1/(d-1));const h=d-1,y=t.currentTime,_=t.currentAnimateTimings,E=_.duration;return u.forEach((T,b)=>{const R=f>0?b==h?1:f*b:s[b],F=R*E;t.currentTime=y+_.delay+F,_.duration=F,this._validateStyleAst(T,t),T.offset=R,i.styles.push(T)}),i}visitReference(n,t){return{type:8,animation:Tt(this,ds(n.animation),t),options:Vi(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:Vi(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:Vi(n.options)}}visitQuery(n,t){const i=t.currentQuerySelector,r=n.options||{};t.queryCount++,t.currentQuery=n;const[o,s]=function h2(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(d2,"")),e=e.replace(/@\*/g,Ml).replace(/@\w+/g,t=>Ml+"-"+t.slice(1)).replace(/:animating/g,th),[e,n]}(n.selector);t.currentQuerySelector=i.length?i+" "+o:o,It(t.collectedStyles,t.currentQuerySelector,new Map);const a=Tt(this,ds(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Vi(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function RL(){return new I(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Rl(n.timings,t.errors,!0);return{type:12,animation:Tt(this,ds(n.animation),t),timings:i,options:null}}}class g2{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vi(e){return e?(e=us(e)).params&&(e.params=function p2(e){return e?us(e):null}(e.params)):e={},e}function sh(e,n,t){return{duration:e,delay:n,easing:t}}function ah(e,n,t,i,r,o,s=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Nl{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const w2=new RegExp(":enter","g"),b2=new RegExp(":leave","g");function lh(e,n,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new C2).buildKeyframes(e,n,t,i,r,o,s,a,l,c)}class C2{buildKeyframes(n,t,i,r,o,s,a,l,c,u=[]){c=c||new Nl;const d=new ch(n,t,c,r,o,u,[]);d.options=l;const f=l.delay?Wn(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,l),Tt(this,i,d);const h=d.timelines.filter(y=>y.containsAnimation());if(h.length&&a.size){let y;for(let _=h.length-1;_>=0;_--){const E=h[_];if(E.element===t){y=E;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,l)}return h.length?h.map(y=>y.buildKeyframes()):[ah(t,[],[],[],0,f,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(n.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=n}visitAnimateRef(n,t){const i=t.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,i),this.visitReference(n.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,i){for(const r of n){const o=r?.delay;if(o){const s="number"==typeof o?o:Wn(fs(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Wn(i.duration):null,a=null!=i.delay?Wn(i.delay):null;return 0!==s&&n.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,t){t.updateOptions(n.options,!0),Tt(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const i=t.subContextCount;let r=t;const o=n.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ll);const s=Wn(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>Tt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const i=[];let r=t.currentTimeline.currentTime;const o=n.options&&n.options.delay?Wn(n.options.delay):0;n.steps.forEach(s=>{const a=t.createSubContext(n.options);o&&a.delayNextStep(o),Tt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const i=n.strValue;return Rl(t.params?fs(i,t.params,t.errors):i,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const i=t.currentAnimateTimings=this._visitTiming(n.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=n}visitQuery(n,t){const i=t.currentTimeline.currentTime,r=n.options||{},o=r.delay?Wn(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ll);let s=i;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(n.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Tt(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const i=t.parentContext,r=t.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Tt(this,n.animation,t),t.previousNode=n,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Ll={};class ch{constructor(n,t,i,r,o,s,a,l){this._driver=n,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ll,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Bl(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Wn(i.duration)),null!=i.delay&&(r.delay=Wn(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=fs(o[a],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const i=n.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return n}createSubContext(n=null,t,i){const r=t||this.element,o=new ch(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=Ll,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,i){const r={duration:t??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new D2(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,i,r,o,s){let a=[];if(r&&a.push(this.element),n.length>0){n=(n=n.replace(w2,"."+this._enterClassName)).replace(b2,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function PL(e){return new I(3014,!1)}()),a}}class Bl{constructor(n,t,i,r){this._driver=n,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new Bl(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Un),this._currentKeyframe.set(t,Un);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function E2(e,n){const t=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||n.keys();for(let o of i)t.set(o,Un)}else ci(r,t)}),t}(n,this._globalTimelineStyles);for(let[a,l]of s){const c=fs(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Un),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ci(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?n.add(d):u===Un&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=n.size?Pl(n.values()):[],s=t.size?Pl(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return ah(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class D2 extends Bl{constructor(n,t,i,r,o,s,a=!1){super(n,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=ci(n[0]);l.set("offset",0),o.push(l);const c=ci(n[0]);c.set("offset",sC(a)),o.push(c);const u=n.length-1;for(let d=1;d<=u;d++){let f=ci(n[d]);const h=f.get("offset");f.set("offset",sC((t+h*i)/s)),o.push(f)}i=s,t=0,r="",n=o}return ah(this.element,n,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function sC(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class uh{}const A2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I2 extends uh{normalizePropertyName(n,t){return rh(n)}normalizeStyleValue(n,t,i,r){let o="";const s=i.toString().trim();if(A2.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function SL(e,n){return new I(3005,!1)}())}return s+o}}function aC(e,n,t,i,r,o,s,a,l,c,u,d,f){return{type:0,element:e,triggerName:n,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const dh={};class lC{constructor(n,t,i){this._triggerName=n,this.ast=t,this._stateStyles=i}match(n,t,i,r){return function T2(e,n,t,i,r){return e.some(o=>o(n,t,i,r))}(this.ast.matchers,n,t,i,r)}buildStyles(n,t,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(t,i):new Map}build(n,t,i,r,o,s,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||dh,y=this.buildStyles(i,a&&a.params||dh,d),_=l&&l.params||dh,E=this.buildStyles(r,_,d),T=new Set,b=new Map,R=new Map,F="void"===r,G={params:k2(_,f),delay:this.ast.options?.delay},Se=u?[]:lh(n,t,this.ast.animation,o,s,y,E,G,c,d);let Le=0;if(Se.forEach(nn=>{Le=Math.max(nn.duration+nn.delay,Le)}),d.length)return aC(t,this._triggerName,i,r,F,y,E,[],[],b,R,Le,d);Se.forEach(nn=>{const zn=nn.element,OC=It(b,zn,new Set);nn.preStyleProps.forEach($i=>OC.add($i));const vs=It(R,zn,new Set);nn.postStyleProps.forEach($i=>vs.add($i)),zn!==t&&T.add(zn)});const tn=Pl(T.values());return aC(t,this._triggerName,i,r,F,y,E,Se,tn,b,R,Le)}}function k2(e,n){const t=us(n);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(t[i]=e[i]);return t}class M2{constructor(n,t,i){this.styles=n,this.defaultParams=t,this.normalizer=i}buildStyles(n,t){const i=new Map,r=us(this.defaultParams);return Object.keys(n).forEach(o=>{const s=n[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=fs(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class P2{constructor(n,t,i){this.name=n,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new M2(r.style,r.options&&r.options.params||{},i))}),cC(this.states,"true","1"),cC(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new lC(n,r,this.states))}),this.fallbackTransition=function F2(e,n,t){return new lC(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,i,r){return this.transitionFactories.find(s=>s.match(n,t,i,r))||null}matchStyles(n,t,i){return this.fallbackTransition.buildStyles(n,t,i)}}function cC(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const x2=new Nl;class O2{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const i=[],o=oh(this._driver,t,i,[]);if(i.length)throw function HL(e){return new I(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,t,i){const r=n.element,o=zb(this._normalizer,n.keyframes,t,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,t,i={}){const r=[],o=this._animations.get(n);let s;const a=new Map;if(o?(s=lh(this._driver,t,o,eh,Tl,new Map,new Map,i,x2,r),s.forEach(u=>{const d=It(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(function VL(){return new I(3300,!1)}()),s=[]),r.length)throw function $L(e){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,Un))})});const c=li(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function jL(e){return new I(3301,!1)}();return t}listen(n,t,i,r){const o=Zf(t,"","","");return Kf(this._getPlayer(n),i,o,r),()=>{}}command(n,t,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,t,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const uC="ng-animate-queued",fh="ng-animate-disabled",V2=[],dC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jt="__ng_removed";class hh{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const i=n&&n.hasOwnProperty("value");if(this.value=function z2(e){return e??null}(i?n.value:n),i){const o=us(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hs="void",ph=new hh(hs);class j2{constructor(n,t,i){this.id=n,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Bt(t,this._hostClassName)}listen(n,t,i,r){if(!this._triggers.has(t))throw function UL(e,n){return new I(3302,!1)}();if(null==i||0==i.length)throw function WL(e){return new I(3303,!1)}();if(!function G2(e){return"start"==e||"done"==e}(i))throw function zL(e,n){return new I(3400,!1)}();const o=It(this._elementListeners,n,[]),s={name:t,phase:i,callback:r};o.push(s);const a=It(this._engine.statesByElement,n,new Map);return a.has(t)||(Bt(n,kl),Bt(n,kl+"-"+t),a.set(t,ph)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function GL(e){return new I(3401,!1)}();return t}trigger(n,t,i,r=!0){const o=this._getTrigger(t),s=new gh(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(Bt(n,kl),Bt(n,kl+"-"+t),this._engine.statesByElement.set(n,a=new Map));let l=a.get(t);const c=new hh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=ph),c.value!==hs&&l.value===c.value){if(!function K2(e,n){const t=Object.keys(e),i=Object.keys(n);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!n.hasOwnProperty(o)||e[o]!==n[o])return!1}return!0}(l.params,c.params)){const _=[],E=o.matchStyles(l.value,l.params,_),T=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Hi(n,E),_n(n,T)})}return}const f=It(this._engine.playersByElement,n,[]);f.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let h=o.matchTransition(l.value,c.value,n,c.params),y=!1;if(!h){if(!r)return;h=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(Bt(n,uC),s.onStart(()=>{Wr(n,uC)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);const E=this._engine.playersByElement.get(n);if(E){let T=E.indexOf(s);T>=0&&E.splice(T,1)}}),this.players.push(s),f.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const i=this._engine.driver.query(n,Ml,!0);i.forEach(r=>{if(r[Jt])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,t,i,r){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(n,c,hs,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,s),i&&li(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||ph,u=new hh(hs),d=new gh(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(n,t){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,t);else{const o=n[Jt];(!o||o===dC)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,t))}}insertNode(n,t){Bt(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Zf(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,Kf(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class U2{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,i){this.bodyNode=n,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,t){const i=new j2(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(n)}else i.push(n);return r.set(t,n),n}register(n,t){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,t)),i}registerTrigger(n,t,i){let r=this._namespaceLookup[n];r&&r.register(t,i)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(n,t,i,r){if(Hl(t)){const o=this._fetchNamespace(n);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(n,t,i,r){if(!Hl(t))return;const o=t[Jt];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Bt(n,fh)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Wr(n,fh))}removeNode(n,t,i){if(Hl(t)){const r=n?this._fetchNamespace(n):null;r?r.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,i,r,o){this.collectedLeaveElements.push(t),t[Jt]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,t,i,r,o){return Hl(t)?this._fetchNamespace(n).listen(t,i,r,o):()=>{}}_buildInstruction(n,t,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,t,o)}destroyInnerAnimations(n){let t=this.driver.query(n,Ml,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,th,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return li(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Jt];if(t&&t.setForRemoval){if(n[Jt]=dC,t.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(fh)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Bt(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?li(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function YL(e){return new I(3402,!1)}()}_flushAnimations(n,t){const i=new Nl,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const W=this.driver.query(O,".ng-animate-queued",!0);for(let Y=0;Y<W.length;Y++)u.add(W[Y])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=pC(f,this.collectedEnterElements),y=new Map;let _=0;h.forEach((O,W)=>{const Y=eh+_++;y.set(W,Y),O.forEach(ae=>Bt(ae,Y))});const E=[],T=new Set,b=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const W=this.collectedLeaveElements[O],Y=W[Jt];Y&&Y.setForRemoval&&(E.push(W),T.add(W),Y.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(ae=>T.add(ae)):b.add(W))}const R=new Map,F=pC(f,Array.from(T));F.forEach((O,W)=>{const Y=Tl+_++;R.set(W,Y),O.forEach(ae=>Bt(ae,Y))}),n.push(()=>{h.forEach((O,W)=>{const Y=y.get(W);O.forEach(ae=>Wr(ae,Y))}),F.forEach((O,W)=>{const Y=R.get(W);O.forEach(ae=>Wr(ae,Y))}),E.forEach(O=>{this.processLeaveNode(O)})});const G=[],Se=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(Y=>{const ae=Y.player,Ge=Y.element;if(G.push(ae),this.collectedEnterElements.length){const nt=Ge[Jt];if(nt&&nt.setForMove){if(nt.previousTriggersValues&&nt.previousTriggersValues.has(Y.triggerName)){const ji=nt.previousTriggersValues.get(Y.triggerName),Ht=this.statesByElement.get(Y.element);if(Ht&&Ht.has(Y.triggerName)){const Yl=Ht.get(Y.triggerName);Yl.value=ji,Ht.set(Y.triggerName,Yl)}}return void ae.destroy()}}const Sn=!d||!this.driver.containsElement(d,Ge),kt=R.get(Ge),fi=y.get(Ge),Re=this._buildInstruction(Y,i,fi,kt,Sn);if(Re.errors&&Re.errors.length)return void Se.push(Re);if(Sn)return ae.onStart(()=>Hi(Ge,Re.fromStyles)),ae.onDestroy(()=>_n(Ge,Re.toStyles)),void r.push(ae);if(Y.isFallbackTransition)return ae.onStart(()=>Hi(Ge,Re.fromStyles)),ae.onDestroy(()=>_n(Ge,Re.toStyles)),void r.push(ae);const BC=[];Re.timelines.forEach(nt=>{nt.stretchStartingKeyframe=!0,this.disabledNodes.has(nt.element)||BC.push(nt)}),Re.timelines=BC,i.append(Ge,Re.timelines),s.push({instruction:Re,player:ae,element:Ge}),Re.queriedElements.forEach(nt=>It(a,nt,[]).push(ae)),Re.preStyleProps.forEach((nt,ji)=>{if(nt.size){let Ht=l.get(ji);Ht||l.set(ji,Ht=new Set),nt.forEach((Yl,Rh)=>Ht.add(Rh))}}),Re.postStyleProps.forEach((nt,ji)=>{let Ht=c.get(ji);Ht||c.set(ji,Ht=new Set),nt.forEach((Yl,Rh)=>Ht.add(Rh))})});if(Se.length){const O=[];Se.forEach(W=>{O.push(function qL(e,n){return new I(3505,!1)}())}),G.forEach(W=>W.destroy()),this.reportError(O)}const Le=new Map,tn=new Map;s.forEach(O=>{const W=O.element;i.has(W)&&(tn.set(W,W),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,Le))}),r.forEach(O=>{const W=O.element;this._getPreviousPlayers(W,!1,O.namespaceId,O.triggerName,null).forEach(ae=>{It(Le,W,[]).push(ae),ae.destroy()})});const nn=E.filter(O=>mC(O,l,c)),zn=new Map;hC(zn,this.driver,b,c,Un).forEach(O=>{mC(O,l,c)&&nn.push(O)});const vs=new Map;h.forEach((O,W)=>{hC(vs,this.driver,new Set(O),l,"!")}),nn.forEach(O=>{const W=zn.get(O),Y=vs.get(O);zn.set(O,new Map([...W?.entries()??[],...Y?.entries()??[]]))});const $i=[],NC=[],LC={};s.forEach(O=>{const{element:W,player:Y,instruction:ae}=O;if(i.has(W)){if(u.has(W))return Y.onDestroy(()=>_n(W,ae.toStyles)),Y.disabled=!0,Y.overrideTotalTime(ae.totalTime),void r.push(Y);let Ge=LC;if(tn.size>1){let kt=W;const fi=[];for(;kt=kt.parentNode;){const Re=tn.get(kt);if(Re){Ge=Re;break}fi.push(kt)}fi.forEach(Re=>tn.set(Re,Ge))}const Sn=this._buildAnimation(Y.namespaceId,ae,Le,o,vs,zn);if(Y.setRealPlayer(Sn),Ge===LC)$i.push(Y);else{const kt=this.playersByElement.get(Ge);kt&&kt.length&&(Y.parentPlayer=li(kt)),r.push(Y)}}else Hi(W,ae.fromStyles),Y.onDestroy(()=>_n(W,ae.toStyles)),NC.push(Y),u.has(W)&&r.push(Y)}),NC.forEach(O=>{const W=o.get(O.element);if(W&&W.length){const Y=li(W);O.setRealPlayer(Y)}}),r.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<E.length;O++){const W=E[O],Y=W[Jt];if(Wr(W,Tl),Y&&Y.hasAnimation)continue;let ae=[];if(a.size){let Sn=a.get(W);Sn&&Sn.length&&ae.push(...Sn);let kt=this.driver.query(W,th,!0);for(let fi=0;fi<kt.length;fi++){let Re=a.get(kt[fi]);Re&&Re.length&&ae.push(...Re)}}const Ge=ae.filter(Sn=>!Sn.destroyed);Ge.length?Y2(this,W,Ge):this.processLeaveNode(W)}return E.length=0,$i.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const W=this.players.indexOf(O);this.players.splice(W,1)}),O.play()}),$i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(s=a)}else{const a=this.playersByElement.get(n);if(a){const l=!o||o==hs;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(n,t,i){const o=t.element,s=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=It(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(h=>{const y=h.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),h.destroy(),d.push(h)})}Hi(o,t.fromStyles)}_buildAnimation(n,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,f=t.timelines.map(y=>{const _=y.element;u.add(_);const E=_[Jt];if(E&&E.removedBeforeQueried)return new cs(y.duration,y.delay);const T=_!==l,b=function q2(e){const n=[];return gC(e,n),n}((i.get(_)||V2).map(Le=>Le.getRealPlayer())).filter(Le=>!!Le.element&&Le.element===_),R=o.get(_),F=s.get(_),G=zb(this._normalizer,y.keyframes,R,F),Se=this._buildPlayer(y,G,b);if(y.subTimeline&&r&&d.add(_),T){const Le=new gh(n,a,_);Le.setRealPlayer(Se),c.push(Le)}return Se});c.forEach(y=>{It(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function W2(e,n,t){let i=e.get(n);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&e.delete(n)}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Bt(y,Xb));const h=li(f);return h.onDestroy(()=>{u.forEach(y=>Wr(y,Xb)),_n(l,t.toStyles)}),d.forEach(y=>{It(r,y,[]).push(h)}),h}_buildPlayer(n,t,i){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,i):new cs(n.duration,n.delay)}}class gh{constructor(n,t,i){this.namespaceId=n,this.triggerName=t,this.element=i,this._player=new cs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Kf(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){It(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function Hl(e){return e&&1===e.nodeType}function fC(e,n){const t=e.style.display;return e.style.display=n??"none",t}function hC(e,n,t,i,r){const o=[];t.forEach(l=>o.push(fC(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const f=n.computeStyle(c,d,r);u.set(d,f),(!f||0==f.length)&&(c[Jt]=$2,s.push(c))}),e.set(c,u)});let a=0;return t.forEach(l=>fC(l,o[a++])),s}function pC(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const r=new Set(n),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return n.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Bt(e,n){e.classList?.add(n)}function Wr(e,n){e.classList?.remove(n)}function Y2(e,n,t){li(t).onDone(()=>e.processLeaveNode(n))}function gC(e,n){for(let t=0;t<e.length;t++){const i=e[t];i instanceof Ub?gC(i.players,n):n.push(i)}}function mC(e,n,t){const i=t.get(e);if(!i)return!1;let r=n.get(e);return r?i.forEach(o=>r.add(o)):n.set(e,i),t.delete(e),!0}class Vl{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new U2(n,t,i),this._timelineEngine=new O2(n,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(n,t,i,r,o){const s=n+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=oh(this._driver,o,l,[]);if(l.length)throw function LL(e,n){return new I(3404,!1)}();a=function R2(e,n,t){return new P2(e,n,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,i,r){this._transitionEngine.insertNode(n,t,i,r)}onRemove(n,t,i){this._transitionEngine.removeNode(n,t,i)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,i,r){if("@"==i.charAt(0)){const[o,s]=Gb(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(n,t,i,r)}listen(n,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Gb(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(n,t,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let Z2=(()=>{class e{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&_n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_n(this._element,this._initialStyles),this._endStyles&&(_n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Hi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hi(this._element,this._endStyles),this._endStyles=null),_n(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function mh(e){let n=null;return e.forEach((t,i)=>{(function X2(e){return"display"===e||"position"===e})(i)&&(n=n||new Map,n.set(i,t))}),n}class yC{constructor(n,t,i,r){this.element=n,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(n,t,i){return n.animate(this._convertKeyframesToObject(t),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:nC(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class J2{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return qb(n,t)}getParentElement(n){return Xf(n)}query(n,t,i){return Kb(n,t,i)}computeStyle(n,t,i){return window.getComputedStyle(n)[t]}animate(n,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(h=>h instanceof yC);(function s2(e,n){return 0===e||0===n})(i,r)&&u.forEach(h=>{h.currentSnapshot.forEach((y,_)=>c.set(_,y))});let d=function i2(e){return e.length?e[0]instanceof Map?e:e.map(n=>Jb(n)):[]}(t).map(h=>ci(h));d=function a2(e,n,t){if(t.size&&n.length){let i=n[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(a=>s.set(a,nC(e,a)))}}return n}(n,d,c);const f=function Q2(e,n){let t=null,i=null;return Array.isArray(n)&&n.length?(t=mh(n[0]),n.length>1&&(i=mh(n[n.length-1]))):n instanceof Map&&(t=mh(n)),t||i?new Z2(e,t,i):null}(n,d);return new yC(n,d,l,f)}}let e3=(()=>{class e extends Vb{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ft.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?$b(t):t;return vC(this._renderer,null,i,"register",[r]),new t3(i,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(N(bo),N(ct))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();class t3 extends gL{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new n3(this._id,n,t||{},this._renderer)}}class n3{constructor(n,t,i,r){this.id=n,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return vC(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vC(e,n,t,i,r){return e.setProperty(n,`@@${t}:${i}`,r)}const _C="@.disabled";let i3=(()=>{class e{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new wC("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return i.data.animation.forEach(l),new r3(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(N(bo),N(Vl),N(Ae))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})();class wC{constructor(n,t,i,r){this.namespaceId=n,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,i,r=!0){this.delegate.insertBefore(n,t,i),this.engine.onInsert(this.namespaceId,t,n,r)}removeChild(n,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,i,r){this.delegate.setAttribute(n,t,i,r)}removeAttribute(n,t,i){this.delegate.removeAttribute(n,t,i)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,i,r){this.delegate.setStyle(n,t,i,r)}removeStyle(n,t,i){this.delegate.removeStyle(n,t,i)}setProperty(n,t,i){"@"==t.charAt(0)&&t==_C?this.disableAnimations(n,!!i):this.delegate.setProperty(n,t,i)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,i){return this.delegate.listen(n,t,i)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class r3 extends wC{constructor(n,t,i,r,o){super(t,i,r,o),this.factory=n,this.namespaceId=t}setProperty(n,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==_C?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,t.slice(1),i):this.delegate.setProperty(n,t,i)}listen(n,t,i){if("@"==t.charAt(0)){const r=function o3(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function s3(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(n,t,i)}}const SC=[{provide:Vb,useClass:e3},{provide:uh,useFactory:function l3(){return new I2}},{provide:Vl,useClass:(()=>{class e extends Vl{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(N(ct),N(Jf),N(uh),N(ki))},e.\u0275prov=$({token:e,factory:e.\u0275fac}),e})()},{provide:bo,useFactory:function c3(e,n,t){return new i3(e,n,t)},deps:[yf,Vl,Ae]}],yh=[{provide:Jf,useFactory:()=>new J2},{provide:km,useValue:"BrowserAnimations"},...SC],bC=[{provide:Jf,useClass:Qb},{provide:km,useValue:"NoopAnimations"},...SC];let u3=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?bC:yh}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Dn({providers:yh,imports:[MS]}),e})();var C=function(e){return e.Shields="Shields",e.LightArmor="Light Armor",e.MediumArmor="Medium Armor",e.HeavyArmor="Heavy Armor",e.MartialWeapons="Martial Weapons",e.SimpleWeapons="Simple Weapons",e.Rapiers="Rapiers",e.HandCrossbows="Hand Crossbows",e.Battleaxes="Battleaxes",e.Handaxes="Handaxes",e.LightHammers="Light Hammers",e.Warhammers="Warhammers",e.Longswords="Longswords",e.Shortswords="Shortswords",e.Longbows="Longbows",e.Shortbows="Shortbows",e.Greatswords="Greatswords",e.Morningstars="Morningstars",e.Flails="Flails",e.Scimitars="Scimitars",e.WarPicks="War Picks",e.Tridents="Tridents",e.Glaives="Glaives",e.Greataxes="Greataxes",e.Halberds="Halberds",e.Mauls="Mauls",e.Pikes="Pikes",e.HeavyCrossbows="Heavy Crossbows",e.Clubs="Clubs",e.Daggers="Daggers",e.Javelins="Javelins",e.Maces="Maces",e.Sickles="Sickles",e.Quarterstaves="Quarterstaves",e.Spears="Spears",e.Greatclubs="Greatclubs",e.Slings="Slings",e.LightCrossbows="Light Crossbows",e}(C||{});const f3=new Set([C.Morningstars,C.Flails,C.Scimitars,C.Rapiers,C.Shortswords,C.WarPicks,C.Battleaxes,C.Longswords,C.Tridents,C.Warhammers,C.Glaives,C.Greataxes,C.Greatswords,C.Halberds,C.Mauls,C.Pikes,C.HandCrossbows,C.HeavyCrossbows,C.Longbows]),h3=new Set([C.Clubs,C.Daggers,C.Handaxes,C.Javelins,C.LightHammers,C.Maces,C.Sickles,C.Quarterstaves,C.Spears,C.Greatclubs,C.Slings,C.LightCrossbows,C.Shortbows]);var S=function(e){return e.Athletics="Athletics",e.Acrobatics="Acrobatics",e.SleightOfHand="Sleight Of Hand",e.Stealth="Stealth",e.Arcana="Arcana",e.History="History",e.Investigation="Investigation",e.Nature="Nature",e.Religion="Religion",e.AnimalHandling="Animal Handling",e.Insight="Insight",e.Medicine="Medicine",e.Perception="Perception",e.Survival="Survival",e.Deception="Deception",e.Intimidation="Intimidation",e.Performance="Performance",e.Persuasion="Persuasion",e}(S||{});const vh=new Map([[S.Athletics,{name:"Athletics",ability:"STR",description:"Stay fit. Perform physical stunts. It helps you shove and resist against being shoved."}],[S.Acrobatics,{name:"Acrobatics",ability:"DEX",description:"Stay fit. Perform physical stunts. It helps you shove and resist against being shoved."}],[S.SleightOfHand,{name:"Sleight Of Hand",ability:"DEX",description:"Wield nimble fingers. Steal stuff. It helps you pick locks, pick pockets, and disarm traps."}],[S.Stealth,{name:"Stealth",ability:"DEX",description:"Stay out of sight. Melt into the shadows. It helps you with staying hidden from enemies or other NPCs."}],[S.Arcana,{name:"Arcana",ability:"INT",description:"Recognise magic. Interact with enchanted items."}],[S.History,{name:"History",ability:"INT",description:"Remember the past -- of the world and its people."}],[S.Investigation,{name:"Investigation",ability:"INT",description:"Analyse clues. Solve mysteries.",effects:"It helps you shove and resist against being shoved."}],[S.Nature,{name:"Nature",ability:"INT",description:"Recognise plants and animals. Hug trees."}],[S.Religion,{name:"Religion",ability:"INT",description:"Recognise deties. Understand holy rites."}],[S.AnimalHandling,{name:"Animal Handling",ability:"WIS",description:"Influence animals. Pet all of the dogs."}],[S.Insight,{name:"Insight",ability:"WIS",description:"Read people and situations. Detect lies."}],[S.Medicine,{name:"Medicine",ability:"WIS",description:"Recognise symptoms. Diagnose diseases."}],[S.Perception,{name:"Perception",ability:"WIS",description:"Observe your environment. Spot hidden details."}],[S.Survival,{name:"Survival",ability:"WIS",description:"Stay fit. Perform physical stunts.",effects:"It helps you shove and resist against being shoved."}],[S.Deception,{name:"Deception",ability:"CHA",description:"Lie and cheat. Manipulate the truth."}],[S.Intimidation,{name:"Intimidation",ability:"CHA",description:"Be a bully. Threaten and induce fear."}],[S.Performance,{name:"Performance",ability:"CHA",description:"Entertain audiences. Command the stage."}],[S.Persuasion,{name:"Persuasion",ability:"CHA",description:"Turn on the charm. Coax and cajole."}]]);var ve=function(e){return e.Abjuration="Abjuration",e.Conjuration="Conjuration",e.Divination="Divination",e.Enchantment="Enchantment",e.Evocation="Evocation",e.Illusion="Illusion",e.Necromancy="Necromancy",e.Transmutation="Transmutation",e}(ve||{}),pe=function(e){return e.Action="Action",e.BonusAction="Bonus Action",e.Reaction="Reaction",e}(pe||{});const CC={name:"Dancing Lights",icon:"assets/img/spells/300px-Dancing_Lights_Icon.png",school:ve.Evocation,resources:[pe.Action],range:18,radius:0,concentration:!0,roll:!1,duration:10,description:"Create a wisp of light that illuminates a 12\u202fm / 40\u202fft radius."},jl={name:"Mage Hand",icon:"assets/img/spells/300px-Mage_Hand_Icon.png",school:ve.Conjuration,resources:[pe.Action],range:18,radius:0,concentration:!0,roll:!1,duration:10,description:"Create a spectral hand that can manipulate and interact with objects."},DC={name:"Faerie Fire",icon:"assets/img/spells/300px-Faerie_Fire_Icon.png",school:ve.Evocation,resources:[pe.Action],range:18,radius:0,concentration:!0,roll:!1,duration:10,description:"Encase multiple targets in colorful light. The targets turn visible, and Attack Rolls against the target have Advantage."},_h={name:"Darkness",icon:"assets/img/spells/300px-Darkness_Icon.png",school:ve.Evocation,resources:[pe.Action],range:18,radius:5,concentration:!0,roll:!1,duration:-2,description:"Create a cloud of magical darkness to Heavily Obscure and Blind creatures within. Creatures cannot make ranged attacks into or out of the darkness."},A3={name:"Enlarge",icon:"assets/img/spells/300px-Enlarge_Icon.png",school:ve.Transmutation,resources:[pe.Action],range:9,radius:0,concentration:!0,roll:!1,duration:10,save:"CON",description:"Make a creature larger. Its weapons deal an extra 1d4 damage. It has Advantage on Strength Checks and Saving Throws."},I3={name:"Invisibility",icon:"assets/img/spells/300px-Invisibility_Icon.png",school:ve.Illusion,resources:[pe.Action],range:1.5,radius:0,concentration:!0,roll:!1,duration:10,description:"Touch a creature to turn it Invisible. Attacks against it have Disadvantage. It attacks with Advantage. The spell ends early if the creature attacks or casts a spell."},wh={name:"Speak with Animals",icon:"assets/img/spells/300px-Speak_With_Animals_Icon.png",school:ve.Divination,resources:[pe.Action],range:0,radius:0,concentration:!1,roll:!1,duration:-2,description:"Gain the ability to comprehend and verbally communicate with beasts."},T3={name:"Produce Flame",icon:"assets/img/spells/300px-Produce_Flame_Icon.png",school:ve.Conjuration,resources:[pe.Action],range:0,radius:0,concentration:!1,roll:!1,duration:-2,description:"A flickering flame appears in your hand. It sheds bright light in a 9\u202fm / 30\u202fft radius and deals 1d8 Fire damage when thrown."},k3={name:"Hellish Rebuke",icon:"assets/img/spells/300px-Hellish_Rebuke_Icon.png",school:ve.Evocation,resources:[pe.Reaction],range:18,radius:0,concentration:!1,roll:!1,duration:0,save:"DEX",description:"The next time you take damage, you use your Reaction to surround your attacker in hellish flames that deal 2d10 Fire damage. On a successful save, the target still takes half damage."},M3={name:"Flame Blade",icon:"assets/img/spells/300px-Flame_Blade_Icon.png",school:ve.Evocation,resources:[pe.Reaction],range:0,radius:0,concentration:!0,roll:!1,duration:10,description:"Conjure a flaming scimitar in your hand that deals 3d6 Fire damage. It sheds a bright light in a 3m / 10ft radius and a dim light in a 6m / 20ft radius."},R3={name:"Thaumaturgy",icon:"assets/img/spells/300px-Thaumaturgy_Icon.png",school:ve.Transmutation,resources:[pe.Action],range:0,radius:0,concentration:!1,roll:!1,duration:10,description:"Manifest a sign of supernatural power that grants you Advantage on Intimidation and Performance Skill Checks."},P3={name:"Searing Smite",icon:"assets/img/spells/300px-Searing_Smite_Icon.png",school:ve.Evocation,resources:[pe.Action,pe.BonusAction],range:0,radius:0,concentration:!0,roll:!1,duration:10,description:"Your weapon flares with white-hot intensity. It deals an extra 1d6 Fire damage and marks the target with Searing Smite. A target with Searing Smite takes 1d6 Fire damage every turn, until it succeeds on a Constitution Saving Throw."},F3={name:"Branding Smite",icon:"assets/img/spells/300px-Branding_Smite_(Melee)_Icon.png",school:ve.Evocation,resources:[pe.Action,pe.BonusAction],range:0,radius:0,concentration:!0,roll:!1,duration:10,description:"Your weapon gleams with astral radiance as you strike and possibly marks your target with light, preventing it from turning invisible. It deals an extra 2d6 Radiant damage."},EC={name:"Burning Hands",icon:"assets/img/spells/300px-Burning_Hands_Icon.png",school:ve.Evocation,resources:[pe.Action],range:0,radius:0,concentration:!1,roll:!1,duration:0,save:"DEX",description:"Fire shoots from your outstretched fingers. It ignites anything flammable and deals 3d6 Fire damage. On a successful save, targets still take half damage."},x3={name:"Enhance Leap",icon:"assets/img/spells/300px-Jump_Spell_Icon.png",school:ve.Transmutation,resources:[pe.Action],range:1.5,radius:0,concentration:!1,roll:!1,duration:10,description:"Triple a creature's Jumping distance."},O3={name:"Misty Step",icon:"assets/img/spells/Misty_Step_Icon.png",school:ve.Conjuration,resources:[pe.BonusAction],range:0,radius:0,concentration:!1,roll:!1,duration:0,description:"Surrounded by silver mists, you teleport to an unoccupied space you can see within 18m / 60ft."},AC=[[{name:"Acid Splash",icon:"assets/img/spells/300px-Acid_Splash_Icon.png",school:ve.Conjuration,resources:[pe.Action],range:18,radius:2,concentration:!1,roll:!1,duration:0,description:"Hurl a bubble of acid that deals 1d6 Acid damage to each creature it hits in a small area."},{name:"Blade Ward",icon:"assets/img/spells/300px-Blade_Ward_Icon.png",school:ve.Abjuration,resources:[pe.Action],range:0,radius:0,concentration:!1,roll:!1,duration:2,description:"The caster gains resistance against Bludgeoning, Piercing, and Slashing damage dealt by weapon attacks for two turns. Damage of these types is halved."},{name:"Bone Chill",icon:"assets/img/spells/300px-Bone_Chill_Icon.png",school:ve.Necromancy,resources:[pe.Action],range:18,radius:0,concentration:!1,roll:!0,duration:1,description:"Assail a creature with the chill of the grave. It takes 1d8 Necrotic damage and cannot regain Hit Points. Undead creatures also get Disadvantage on Attack Rolls."},CC,{name:"Fire Bolt",icon:"assets/img/spells/300px-Fire_Bolt_Icon.png",school:ve.Evocation,resources:[pe.Action],range:18,radius:0,concentration:!1,roll:!0,duration:0,description:"Hurl a bolt of fire at an enemy as a ranged attack, dealing 1d10 Fire damage if it hits."},{name:"Friends",icon:"assets/img/spells/300px-Friends_Icon.png",school:ve.Enchantment,resources:[pe.Action],range:18,radius:0,concentration:!0,roll:!1,duration:10,description:"Gain Advantage on Charisma Checks against a non-hostile creature. In higher difficulty modes, the target might accuse you of enchanting them."},{name:"Light",icon:"assets/img/spells/300px-Light_Cantrip_Icon.png",school:ve.Evocation,resources:[pe.Action],range:1.5,radius:0,concentration:!1,roll:!1,duration:-2,description:"Infuse an object with an aura of light. Only affects one target at a time."},jl,{name:"Minor Illusion",icon:"assets/img/spells/300px-Minor_Illusion_Icon.png",school:ve.Illusion,resources:[pe.Action],range:18,radius:0,concentration:!0,roll:!1,duration:10,description:"Create an illusory image that distracts nearby creatures, compelling them to investigate."},{name:"Poison Spray",icon:"assets/img/spells/300px-Poison_Spray_Icon.png",school:ve.Conjuration,resources:[pe.Action],range:3,radius:0,concentration:!1,roll:!1,duration:0,save:"CON",description:"Project a puff of noxious gas that deals 1d12 Poison damage."},{name:"Ray of Frost",icon:"assets/img/spells/300px-Ray_of_Frost_Icon.png",school:ve.Evocation,resources:[pe.Action],range:18,radius:0,concentration:!1,roll:!0,duration:0,description:"Call forth a frigid beam of blue light. Deals 1d8 Cold damage and reduces the target's Movement Speed by 3\u202fm / 10\u202fft."},{name:"Shocking Grasp",icon:"assets/img/spells/300px-Shocking_Grasp_Icon.png",school:ve.Evocation,resources:[pe.Action],range:1.5,radius:0,concentration:!1,roll:!0,duration:0,description:"Lightning springs from your hand. It deals 1d8 Lightning damage and prevents the target from taking Reactions. You have Advantage when using this spell on creatures wearing metal Armour."},{name:"True Strike",icon:"assets/img/spells/300px-True_Strike_Icon.png",school:ve.Divination,resources:[pe.Action],range:18,radius:0,concentration:!0,roll:!1,duration:2,description:"Divine a character's defences to give you Advantage on your next Attack Roll against it."}]],N3={name:"Human",icon:"assets/img/races/60px-Race_Human.png",description:"The most common face to see in Faer\xfbn, humans are known for their tenacity, creativity, and endless capacity for growth.",speed:9,features:[{name:"Civil Militia",description:"You gain proficiency with Pikes, Spears, Halberds, Glaives, Light Armor, and Shields.",effect:{equipmentProficiencies:[C.Pikes,C.Spears,C.Halberds,C.Glaives,C.LightArmor,C.Shields]}},{name:"Human Versatility",description:"You gain proficiency in a skill of your choosing, and your carrying capacity is increased by 25%.",skillSelection:Object.values(S),selectionCount:1,selectSameAllowed:!1}]},IC={name:"Elf",icon:"assets/img/races/60px-Race_Elf.png",description:"With an ethereal countenance and long lifespans, elves are at home with nature's power, flourishing in light and dark alike.",speed:9,features:[{name:"Elven Weapon Training",description:"You gain proficiency with Longswords, Shortswords, Longbows, and Shortbows.",effect:{equipmentProficiencies:[C.Longswords,C.Shortswords,C.Longbows,C.Shortbows]}},{name:"Darkvision",description:"You can see in the dark up to 12m/40ft."},{name:"Fey Ancestry",description:"You have Advantage on Saving Throws against being Charmed, and magic can't put you to Sleep."},{name:"Keen Senses",description:"You gain proficiency in the perception skill.",effect:{skillProficiencies:[S.Perception]}}]},TC={name:"Drow",icon:"assets/img/races/60px-Race_Drow.png",description:"Driven to the Underdark, most drow have adopted a ruthless pragmatism. While the Lolth-sworn delight in the goddess' evil tenets, the Seldarine reject Her attempt to overthrow the leader of the elven pantheon. ",speed:9,features:[{name:"Drow Weapon Training",description:"You gain proficiency with Rapiers, Shortswords, and Hand Crossbows.",effect:{equipmentProficiencies:[C.Rapiers,C.Shortswords,C.HandCrossbows]}},{name:"Superior Darkvision",description:"You can see in the dark up to 24m/80ft."},{name:"Fey Ancestry",description:"You have Advantage on Saving Throws against being Charmed, and magic can't put you to Sleep."},{name:"Keen Senses",description:"You gain proficiency in the perception skill.",effect:{skillProficiencies:[S.Perception]}},{name:"Drow Magic",description:"You gain access to the 1st level spell Fairie Fire (at level 3), and the second level spell Darkness (at level 5), which can be cast once per each Long Rest.",effect:{spells:[DC,_h]}}]},Sh={name:"Half-Elf",icon:"assets/img/races/60px-Race_Half-Elf.png",description:"Half-Elves inherit blessings from both their parents, but at the price of never quite fitting in. Curious, ambitious, and versatile, half-elves are welcome everywhere, but struggle without a community to call their own.",speed:9,features:[{name:"Civil Militia",description:"You gain proficiency with Pikes, Spears, Halberds, Glaives, Light Armor, and Shields.",effect:{equipmentProficiencies:[C.Pikes,C.Spears,C.Halberds,C.Glaives,C.LightArmor,C.Shields]}},{name:"Darkvision",description:"You can see in the dark up to 12m/40ft."},{name:"Fey Ancestry",description:"You have Advantage on Saving Throws against being Charmed, and magic can't put you to Sleep."}]},kC={name:"Halfling",icon:"assets/img/races/60px-Race_Halfling.png",description:"Small yet capable, halflings prefer the comforts of home and hearth - but their natural luck and dexterity makes them fine adventurers.",speed:7.5,features:[{name:"Lucky",description:"When you roll a 1 for an Attack Roll, Ability Check, or Saving Throw, you can reroll the die and must use the new roll."},{name:"Brave",description:"You have Advantage on Saving Throws against being Frightened."}]},bh={name:"Dwarf",icon:"assets/img/races/60px-Race_Dwarf.png",description:"As durable and unyielding as their homes of stone, dwarves are some of the finest warriors, miners, and smiths of Faerun",speed:7.5,features:[{name:"Dwarven Combat Training",description:"You gain proficiency with Battleaxes, Handaxes, Light Hammers, and Warhammers.",effect:{equipmentProficiencies:[C.Battleaxes,C.Handaxes,C.LightHammers,C.Warhammers]}},{name:"Darkvision",description:"You can see in the dark up to 12m/40ft."},{name:"Dwarven Resilience",description:"You have Advantage on Saving Throws against Poison, and have Resistance to Poison damage."}]},Ch={name:"Gnome",icon:"assets/img/races/60px-Race_Gnome.png",description:"Small, clever, and energetic, gnomes use their long lives to explore Faer\xfbn's brightest corners and darkest depths.",speed:7.5,features:[{name:"Gnome Cunning",description:"You gain Advantage on Intelligence, Wisdom, and Charisma Saving Throws."}]},Dh={name:"Tiefling",icon:"assets/img/races/60px-Race_Tiefling.png",description:"Descended from devils of the Nine Hells, tieflings face constant suspicion in Faer\xfbn. Thankfully, their arcane abilities make them natural survivors.",speed:9,features:[{name:"Darkvision",description:"You can see in the dark up to 12m/40ft."},{name:"Hellish Resistance",description:"Your blood protects you from flame, abyssal or otherwise. Gain resistance to Fire damage, taking only half damage from it."}]},wn={name:"Dragonborn",icon:"assets/img/races/60px-Race_Dragonborn.png",description:"Dragonborn resemble draconic humanoids. They are a proud race that values clan and skills above all else. Once enslaved by dragons, they strive to be self-sufficient, not wanting to be beholden to anyone, not even the gods. Dragonborn can have scales in a variety of colours, and may or may not have a tail.",speed:9,features:[]},ps=[N3,{name:"High Elf",icon:"assets/img/races/40px-Race_High_Elf.png",description:"Heirs of the mystical Feywild, high elves value magic in all its forms, and even those who do not study spellcraft can manipulate the Weave.",speed:9,parentRace:IC,features:[{name:"Cantrip",description:"Choose 1 cantrip from the wizard spell list.",spellSelection:AC[0],selectionCount:1,selectSameAllowed:!1}]},{name:"Wood Elf",icon:"assets/img/races/40px-Race_Wood_Elf.png",description:"Wood elves spend their reclusive lives in Faer\xfbn's forests. Decades of training in archery and camouflage are enhanced by an otherworldly swiftness.",speed:10.5,parentRace:IC,features:[{name:"Fleet of Foot",description:"Your movement speed is 10.5m/35ft."},{name:"Mask of the Wild",description:"You gain proficiency in stealth.",effect:{skillProficiencies:[S.Stealth]}}]},{name:"Lolth-Sworn Drow",icon:"assets/img/races/40px-Race_Lolth-Sworn_Drow.png",description:"Raised by Lolth's cult in the city of Menzoberranzan, these drow extol the virtues of their corrupt and merciless goddess. Lolth marks her followers with bright red eyes so the Underdark will learn to fear Drow on sight.",speed:9,parentRace:TC,features:[]},{name:"Seldarine Drow",icon:"assets/img/races/40px-Race_Seldarine_Drow.png",description:"Drow are the result of an ancient schism between the elven dieties Corellon Larethian and Lolth. The latter's treachery drove the drow into the Underdark, where they splintered into warring factions. Seldarine drow can be found seeking allies from all over Faer\xfbn, aiming to settle their conflict with Lolth - and themselves - by any means necessary.",speed:9,parentRace:TC,features:[]},{name:"High Half-Elf",icon:"assets/img/races/40px-Race_High_Half-Elf.png",description:"A touch of the Feywild remains in half-elves with this bloodline, and even those untrained in magic possess a hint of wild power.",speed:9,parentRace:Sh,features:[{name:"Cantrip",description:"Choose 1 cantrip from the wizard spell list.",spellSelection:AC[0],selectionCount:1,selectSameAllowed:!1}]},{name:"Wood Half-Elf",icon:"assets/img/races/40px-Race_Wood_Half-Elf.png",description:"Like their wood elf parent, these half-elves have a quickened stride and eye for stealth. Yet many break away from isolation in Faer\xfbn's forests to explore the rest of the Realms.",speed:10.5,parentRace:Sh,features:[{name:"Fleet of Foot",description:"Your movement speed is 10.5m/35ft."},{name:"Mask of the Wild",description:"You gain proficiency in stealth.",effect:{skillProficiencies:[S.Stealth]}}]},{name:"Drow Half-Elf",icon:"assets/img/races/40px-Race_Drow_Half-Elf.png",description:"Most Half-Drow result from liaisons between Seldarine Drow and surfacers. While Half-Drow inherit a few magical gifts, they aren't usually raised in the Underdark.",speed:9,parentRace:Sh,features:[{name:"Drow Magic",description:"You gain access to the Cantrip Dancing Lights (at level 1), 1st level spell Fairie Fire (at level 3), and the second level spell Darkness (at level 5), which can be cast once per each Long Rest.",effect:{spells:[CC,DC,_h]}}]},{name:"Half-Orc",icon:"assets/img/races/60px-Race_Half-Orc.png",description:"Half-Orcs exhibit a blend of orcish and human characteristics, and their appearance varies widely. Creatures of intense emotion, Half-Orcs are more inclined to act than contemplate - whether the rage burning their bodies compels them to fight, or the love filling their hearts inspires acts of incredible kindness.",speed:9,features:[{name:"Darkvision",description:"You can see in the dark up to 12m/40ft."},{name:"Menacing",description:"You gain proficiency in the Intimidation skill.",effect:{skillProficiencies:[S.Intimidation]}},{name:"Relentless Endurance",description:"Once per Long Rest, if you reach 0 Hit Points, you regain 1 hit point instead of becoming Downed."},{name:"Savage Attacks",description:"When you score a Critical Hit with a melee Weapon attack, an additional Damage Dice is added to your total damage."}]},{name:"Lightfoot Halfling",icon:"assets/img/races/40px-Race_Lightfoot_Halfling.png",description:"Lightfoot Halflings are stealthy but social, travelling all over Faer\xfbn to make a name for themselves.",speed:7.5,parentRace:kC,features:[{name:"Naturally Stealthy",description:"You have Advantage on Stealth Checks."}]},{name:"Strongheart Halfling",icon:"assets/img/races/40px-Race_Strongheart_Halfling.png",description:"Legends say dwarven blood gave stronghearts their hardiness. Resistant to poison and wellsprings of endurance, these halflings easily hold their own.",speed:7.5,parentRace:kC,features:[{name:"Strongheart Resilience",description:"You have Advantage on Saving Throws against Poison, and have Resistance to Poison damage."}]},{name:"Gold Dwarf",icon:"assets/img/races/40px-Race_Hill_Dwarf.png",description:"Gold Dwarves are known for their confidence and keen intuition. The culture of their Deep Kingdom values family, ritual, and fine craftsmanship.",speed:7.5,parentRace:bh,features:[{name:"Dwarven Toughness",description:"Your Hit Point maximum increases by 1, and increases by 1 again every time you gain a level."}]},{name:"Shield Dwarf",icon:"assets/img/races/40px-Race_Mountain_Dwarf.png",description:"Shield Dwarves survived a long fall from grace, surrendering many of their ancient kingdoms in wars with Goblins and Orcs. These losses have lead to a cynical mindset, yet Shield Dwarves will endure anything to restore their ancestral homelands.",speed:7.5,parentRace:bh,features:[{name:"Dwarven Armor Training",description:"You gain proficiency with Light and Medium Armor.",effect:{equipmentProficiencies:[C.LightArmor,C.MediumArmor]}}]},{name:"Duergar",icon:"assets/img/races/40px-Race_Duergar.png",description:"Once enslaved by the eldritch Mind Flayers, Duergar adapted to freedom with harsh practicality. Their cold demeanours and gift of stealth are well-known through the Underdark.",speed:7.5,parentRace:bh,features:[{name:"Superior Darkvision",description:"You can see in the dark up to 24m/80ft."},{name:"Duergar Resilience",description:"You have Advantage on Saving Throws against illusions, as well as against being Charmed or Paralysed."},{name:"Duergar Magic",description:"You gain access to the 1st level spell Enlarge (at level 3), and the 2nd level spell Invisibility (at level 5), which can be cast once per each Long Rest.",effect:{spells:[A3,I3]}}]},{name:"Rock Gnome",icon:"assets/img/races/40px-Race_Rock_Gnome.png",description:"The most commonly seen gnome on Faer\xfbn's surface, Rock Gnomes are named as such for their hardiness and affinity to metal.",speed:7.5,parentRace:Ch,features:[{name:"Darkvision",description:"You can see in the dark up to 12m/40ft."},{name:"Artificer's Lore",description:"Add twice your Proficiency Bonus to History Checks."}]},{name:"Forest Gnome",icon:"assets/img/races/40px-Race_Forest_Gnome.png",description:"Even smaller than their cousins and twice as reclusive, Forest Gnomes are rare sight in Faer\xfbn. They master magic and craftmanship in their distant, idyllic groves.",speed:7.5,parentRace:Ch,features:[{name:"Darkvision",description:"You can see in the dark up to 12m/40ft."},{name:"Speak with Animals",description:"Once per Long Rest, you may cast the spell 'Speak with Animals'.",effect:{spells:[wh]}}]},{name:"Deep Gnome",icon:"assets/img/races/40px-Race_Deep_Gnome.png",description:"More guarded than their surface cousins, Deep Gnomes survive in the Underdark with darkvision and skillful stealth.",speed:7.5,parentRace:Ch,features:[{name:"Superior Darkvision",description:"You can see in the dark up to 24m/80ft."},{name:"Stone Camouflage",description:"You have Advantage on Stealth Checks"}]},{name:"Asmodeus Tiefling",icon:"assets/img/races/40px-Race_Asmodeus_Tiefling.png",description:"Bound to Nessus, the deepest layer of the Hells, these Tieflings inherit the ability to wield fire and darkness from the archdevil Asmodeus' infernal bloodline.",speed:9,parentRace:Dh,features:[{name:"Asmodeus Magic",description:"You gain access to the Cantrip Produce Flame (at level 1), 1st level spell Hellish Rebuke (at level 3), and the 2nd level spell Darkness (at level 5), which can be cast once per each Long Rest.",effect:{spells:[T3,k3,_h]}}]},{name:"Mephistopheles Tiefling",icon:"assets/img/races/40px-Race_Mephistopheles_Tiefling.png",description:"Descended from the archdevil Mephistopheles, these Tieflings are gifted with a particular affinity for arcane magic.",speed:9,parentRace:Dh,features:[{name:"Mephistopheles Magic",description:"You gain access to the Cantrip Mage Hand (at level 1), 1st level spell Burning Hands (at level 3), and the 2nd level spell Flame Blade (at level 5), which can be cast once per each Long Rest.",effect:{spells:[jl,EC,M3]}}]},{name:"Zariel Tiefling",icon:"assets/img/races/40px-Race_Zariel_Tiefling.png",description:"Tieflings from Zariel's bloodlines are empowered with martial strength, and can channel searing flame to punish their enemies.",speed:9,parentRace:Dh,features:[{name:"Zariel Magic",description:"You gain access to the Cantrip Thaumaturgy (at level 1), 1st level spell Searing Smite (at level 3), and the 2nd level spell Branding Smite (at level 5), which can be cast once per each Long Rest.",effect:{spells:[R3,P3,F3]}}]},{name:"Githyanki",icon:"assets/img/races/60px-Race_Githyanki.png",description:"Githyanki are peerless warriors from the Astral Plane, known for their legendary silver blades and red dragon mounts. They seek the total destruction of mind flayers, whose ancient empire enslaved the githyanki for millennia.",speed:9,features:[{name:"Astral Knowledge",description:"Once per long rest, gain Proficiency in all Skills corresponding to a chosen Ability."},{name:"Githyanki Psionics",description:"You gain access to the Cantrip Mage Hand (at level 1), 1st level spell Enhance Leap (at level 3), and 2nd level spell Misty Step (at level 5), which can be cast once per each Long Rest.",effect:{spells:[jl,x3,O3]}},{name:"Martial Prodigy",description:"You gain proficiency with Light Armor, Medium Armor, Shortswords, Longswords, and Greatswords.",effect:{equipmentProficiencies:[C.LightArmor,C.MediumArmor,C.Shortswords,C.Longswords,C.Greatswords]}}]},{name:"Black Dragonborn",icon:"assets/img/races/40px-Race_Black_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the charcoal colouration and fizzling, acid breath of black dragons.",speed:9,parentRace:wn,features:[{name:"Acid Breath",description:"Spew forth a cone of acid."},{name:"Draconic Ancestry (Acid)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Acid damage."}]},{name:"Blue Dragonborn",icon:"assets/img/races/40px-Race_Blue_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the deep sapphire scales and charged, crackling breath of blue dragons.",speed:9,parentRace:wn,features:[{name:"Lightning Breath",description:"Spew forth a cone of lightning."},{name:"Draconic Ancestry (Lightning)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Lightning damage."}]},{name:"Brass Dragonborn",icon:"assets/img/races/40px-Race_Brass_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the burnished ochre hue and flickering, fiery breath of brass dragons.",speed:9,parentRace:wn,features:[{name:"Fire Breath (Line)",description:"Spew forth a column of fire."},{name:"Draconic Ancestry (Fire)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Fire damage."}]},{name:"Bronze Dragonborn",icon:"assets/img/races/40px-Race_Bronze_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the shining sepia scales and sparkling breath of bronze dragons.",speed:9,parentRace:wn,features:[{name:"Lightning Breath",description:"Spew forth a cone of lightning."},{name:"Draconic Ancestry (Lightning)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Lightning damage."}]},{name:"Copper Dragonborn",icon:"assets/img/races/40px-Race_Copper_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the pink-gold colouration and corrosive breath of copper dragons.",speed:9,parentRace:wn,features:[{name:"Acid Breath",description:"Spew forth a cone of acid."},{name:"Draconic Ancestry (Acid)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Acid damage."}]},{name:"Gold Dragonborn",icon:"assets/img/races/40px-Race_Gold_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the resplendent shine and roiling, blazing breath of gold dragons.",speed:9,parentRace:wn,features:[{name:"Fire Breath (Cone)",description:"Spew forth a cone of fire."},{name:"Draconic Ancestry (Fire)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Fire damage."}]},{name:"Green Dragonborn",icon:"assets/img/races/40px-Race_Green_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the brilliant emerald aspect and stinking, putrid breath of green dragons.",speed:9,parentRace:wn,features:[{name:"Poison Breath",description:"Spew forth a cone of poison."},{name:"Draconic Ancestry (Poison)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Poison damage."}]},{name:"Red Dragonborn",icon:"assets/img/races/40px-Race_Red_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the bright scarlet likeness and roiling, burning breath of red dragons.",speed:9,parentRace:wn,features:[{name:"Fire Breath (Cone)",description:"Spew forth a cone of fire."},{name:"Draconic Ancestry (Fire)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Fire damage."}]},{name:"Silver Dragonborn",icon:"assets/img/races/40px-Race_Silver_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the glinting shine and scorching cold breath of silver dragons.",speed:9,parentRace:wn,features:[{name:"Frost Breath",description:"Spew forth a cone of ice."},{name:"Draconic Ancestry (Cold)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Cold damage."}]},{name:"White Dragonborn",icon:"assets/img/races/40px-Race_White_Dragonborn.png",description:"Despite no ancestral links to the mighty creatures, these dragonborn share the snowy aspect and frosty breath of white dragons.",speed:9,parentRace:wn,features:[{name:"Frost Breath",description:"Spew forth a cone of ice."},{name:"Draconic Ancestry (Cold)",description:"The blood of ancient dragons flow through your veins. You are Resistant to Cold damage."}]}];var B=function(e){return e.Strength="Strength",e.Dexterity="Dexterity",e.Constitution="Constitution",e.Intelligence="Intelligence",e.Wisdom="Wisdom",e.Charisma="Charisma",e}(B||{});const en=[B.Strength,B.Dexterity,B.Constitution,B.Intelligence,B.Wisdom,B.Charisma],gs=new Map([[B.Strength,{name:"Strength",abbr:"STR",icon:"assets/img/abilities/150px-Strength_Ability_Icon.png",description:"Strength affects your Athletics skill and Attack Rolls so you become better at melee combat. It also determines how far you can jump, how much you can carry and how far you can shove (possibly based on Athletics)."}],[B.Dexterity,{name:"Dexterity",abbr:"DEX",icon:"assets/img/abilities/150px-Dexterity_Ability_Icon.png",description:"Dexterity affects your Acrobatics, Sleight of Hand, and Stealth skills, as well as your Attack Rolls for ranged weapons and Finesse weapons. It also affects your Initiative and Armour Class."}],[B.Constitution,{name:"Constitution",abbr:"CON",icon:"assets/img/abilities/150px-Constitution_Ability_Icon.png",description:"Your Constitution modifier is added to the number of Hit Points gained per level (including negative values), and is applied retroactively."}],[B.Intelligence,{name:"Intelligence",abbr:"INT",icon:"assets/img/abilities/150px-Intelligence_Ability_Icon.png",description:"Intelligence affects your Arcana, History, Investigation, Nature, and Religion skills and improves spellcasting for Wizards, Eldritch Knights and Arcane Tricksters (better chance to hit enemies with Spell Attack Rolls; increases the Difficulty Class of spells with Saving Throws)."}],[B.Wisdom,{name:"Wisdom",abbr:"WIS",icon:"assets/img/abilities/150px-Wisdom_Ability_Icon.png",description:"Wisdom affects your Animal Handling, Insight, Medicine, Perception, and Survival skills and improves spellcasting for Clerics, Druids and Rangers (better chance to hit enemies with Spell Attack Rolls; increases the Difficulty Class of spells with Saving Throws)."}],[B.Charisma,{name:"Charisma",abbr:"CHA",icon:"assets/img/abilities/150px-Charisma_Ability_Icon.png",description:"Charisma affects its related skills (Deception, Intimidation, Performance, Persuasion) and improves spellcasting for Bards, Paladins, Warlocks and Sorcerers (better chance to hit enemies with Spell Attack Rolls; increases the Difficulty Class of spells with Saving Throws)."}]]),rB=[S.Athletics,S.Nature,S.AnimalHandling,S.Perception,S.Survival,S.Intimidation],Eh=[S.Athletics,S.Acrobatics,S.SleightOfHand,S.Stealth,S.Arcana,S.History,S.Investigation,S.Nature,S.Religion,S.AnimalHandling,S.Insight,S.Medicine,S.Perception,S.Survival,S.Deception,S.Intimidation,S.Performance,S.Persuasion],oB=[S.History,S.Religion,S.Insight,S.Medicine,S.Persuasion],sB=[S.Arcana,S.Nature,S.Religion,S.AnimalHandling,S.Insight,S.Medicine,S.Perception,S.Survival],aB=[S.Athletics,S.Acrobatics,S.History,S.AnimalHandling,S.Insight,S.Perception,S.Survival,S.Intimidation],lB=[S.Athletics,S.Acrobatics,S.Stealth,S.History,S.Religion,S.Insight],cB=[S.Athletics,S.Religion,S.Insight,S.Medicine,S.Intimidation,S.Persuasion],MC=[S.Athletics,S.Stealth,S.Investigation,S.Nature,S.AnimalHandling,S.Insight,S.Perception,S.Survival],RC=[S.Athletics,S.Acrobatics,S.SleightOfHand,S.Stealth,S.Investigation,S.Insight,S.Perception,S.Deception,S.Intimidation,S.Performance,S.Persuasion],uB=[S.Arcana,S.Religion,S.Insight,S.Deception,S.Intimidation,S.Persuasion],dB=[S.Arcana,S.History,S.Investigation,S.Nature,S.Religion,S.Deception,S.Intimidation],fB=[S.Arcana,S.History,S.Investigation,S.Religion,S.Insight,S.Medicine],ms=[{name:"Agonising Blast",description:"When you cast Eldritch Blast, add your Charisma Modifier to the damage it deals, unless it is negative."},{name:"Armour of Shadows",description:"You can cast Mage Armour on yourself at will, without expending a Spell Slot. Mage Armour increases your Armour Class when you are not wearing armour."},{name:"Beast Speech",description:"You can cast Speak with Animals on yourself at will, without expending a Spell Slot.",effect:{spells:[wh]}},{name:"Beguiling Influence",description:"You invoke your patron's bewitching charm. You gain Proficiency in the Deception and Persuasion.",effect:{skillProficiencies:[S.Deception,S.Persuasion]}},{name:"Devil's Sight",description:"You can see normally in darkness, both magical and non-magical, to a distance of 24m / 80ft."},{name:"Fiendish Vigour",description:"You can cast False Life on yourself at will as a 1st-level spell, without expending a Spell Slot. False Life grants you 7 Temporary Hit Points."},{name:"Mask of Many Faces",description:"You can cast Disguise Self on yourself at will, without expending a Spell Slot."},{name:"One with Shadows",description:"When you are in an area of dim light or darkness, you can use your action to become invisible. Invisibility ends early if you move, attack, cast another spell, take an action, or take damage."},{name:"Repelling Blast",description:"When you hit a creature with Eldritch Blast, you can push the creature up to 4.5m / 15ft away from you."},{name:"Thief of Five Fates",description:"You can cast Bane using a Warlock Spell Slot once a long rest. Bane targets up to 3 creatures (+1 creature per spell slot level above 1st). They receive a 1d4 penalty to Attack Rolls and Saving Throws."}],Ul=[{name:"Sign of Ill Omen",description:"You learn how to cast Bestow Curse with a Warlock spell slot."},{name:"Mire the Mind",description:"You can cast Slow with a Warlock spell slot."}],Ah=[{name:"Book of Ancient Secrets",description:"You can inscribe magical rituals in your Book of Shadows. Gain Ray of Sickness, Chromatic Orb, and Silence spells. You can cast them once per Long Rest and they don't expend spell slots."},{name:"Dreadful Word",description:"You can cast Confusion with a Warlock spell slot."},{name:"Sculptor of Flesh",description:"You can cast Polymorph with a Warlock spell slot."}],PC=[{name:"Minions of Chaos",description:"You can cast Conjure Elemental with a Warlock spell slot."}],Ih={name:"Favoured Enemy",description:"Choose 1 favoured enemy type.",featureSelection:[{name:"Bounty Hunter",description:"Gain Proficiency in Investigation. Creatures you hit with Ensnaring Strike (either ranged or melee) have Disadvantage on their Saving Throw.",effect:{skillProficiencies:[S.Investigation]}},{name:"Keeper of the Veil",description:"You specialise in hunting creatures from other planes of existence. You gain Proficiency in Arcana and can grant protection against aberrations, celestials, elementals, fey, fiends, and undead.",effect:{skillProficiencies:[S.Arcana]}},{name:"Mage Breaker",description:"You have a history of battling spellcasters. Gain Proficiency with Arcana and the True Strike Cantrip, which gives you Advantage on Attack Rolls against a creature. Wisdom is your Spellcasting Ability for this spell.",effect:{skillProficiencies:[S.Arcana]}},{name:"Ranger Knight",description:"You have sworn to serve a crown or nation and seek to bring its foes to ruin. Gain Proficiency with History and Proficiency with Heavy Armour.",effect:{equipmentProficiencies:[C.HeavyArmor],skillProficiencies:[S.History]}},{name:"Sanctified Stalker",description:"You swore to hunt the enemies of a holy or druidic order. Gain Proficiency with Religion and the Sacred Flame Cantrip, which deals 1d8 Radiant damage. Wisdom is your Spellcasting Ability for the Cantrip.",effect:{skillProficiencies:[S.Religion]}}],selectionCount:1,selectSameAllowed:!1},Wl=[{name:"Commander's Strike",description:"Expend one attack from your attack action and a bonus action to direct an ally to strike a foe. The ally uses their reaction to make a weapon attack on their turn."},{name:"Disarming Attack",description:"Spend a superiority die to make an attack that deals an additional 1d8 damage and possibly forces the target to drop the weapons they are holding."},{name:"Distracting Strike",description:"Distract your target, giving your allies Advantage on their next Attack Roll against the target."},{name:"Evasive Footwork",description:"You can evade attacks by imposing Disadvantage on melee attacks against you for a round."},{name:"Feinting Attack",description:"Use can use both your action and bonus action on a turn to attack a target with Advantage and deal an addition 1d8 damage."},{name:"Goading Attack",description:"Deal an additional 1d and attempt to goad the target attacking you. Target recieved Disadvantage on attacking any other creature."},{name:"Manoeuvring Attack",description:"Spend a superiority die to make an attack that deals an additional 1d8 damage. On a hit, select which friendly creature will gain half its movement speed. It will not provoke attacks of opportunity."},{name:"Menacing Attack",description:"Spend a superiority die to make an attack that deals an additional 1d8 damage and possibly Frightens the target."},{name:"Precision Attack",description:"Your can spend a Superiority Die to add it to a result to an Attack Roll."},{name:"Pushing Attack",description:"Spend a superiority die to make an attack that deals an additional 1d8 damage and possibly pushes the target back 4.5m."},{name:"Rally",description:"Expend a superiority die to grant an ally 8 temporary hit points, bolstering their resolve."},{name:"Riposte",description:"When a hostile creature misses you with a melee attack, expend a superiority die to retaliate with a powerful attack that deals an additional 1d8 damage."},{name:"Sweeping Attack",description:"Swing your weapon in a rapid, sweeping arc to attack multiple enemies at once. Roll you superiority die for damage."},{name:"Trip Attack",description:"Spend a superiority die to make an attack that deals an additional 1d8 damage and possibly knocks the target Prone. The target must be Large or smaller."}],Th={name:"Natural Explorer",description:"Choose 1 natural explorer archetype.",featureSelection:[{name:"Beast Tamer",description:"You have cultivated a strong bond with animals. You can cast Find Familiar as a ritual."},{name:"Urban Tracker",description:"An expert at navigating the wild within the city, you gain Sleight of Hand Proficiency.",effect:{skillProficiencies:[S.SleightOfHand]}},{name:"Wasteland Wanderer (Cold)",description:"You have spent endless days surviving desolate tundras. Gain resistance to Cold damage, taking only half damage from it."},{name:"Wasteland Wanderer (Fire)",description:"You have spent endless days surviving forbidding deserts. Gain resistance to Fire, taking only half damage from it."},{name:"Wasteland Wanderer (Poison)",description:"You have spent endless days surviving fetid swamps. Gain resistance to Poison, taking only half damage from it."}],selectionCount:1,selectSameAllowed:!1},FC={name:"Animal Aspect",description:"Choose an Aspect of the Beast.",featureSelection:[{name:"Bear",description:"Your carrying capacity is doubled, and you have Advantage on strength checks."},{name:"Chimpanzee",description:"You gain Resistance to fall damage, and throwing Camp Supplies Blinds targets."},{name:"Crocodile",description:"Your movement speed increases by 3 m / 10 ft while standing in water-based surfaces. On slippery surfaces, you also have Advantage on Saving Throws against being knocked prone."},{name:"Eagle",description:"You see in the dark up to 12m / 40 ft, and gain advantage on Perception checks."},{name:"Elk",description:"Grant yourself and nearby allies (18 m / 60 ft) +1.5 m / +5 ft permanent movement speed."},{name:"Honey Badger",description:"If you're Poisoned, Frightened or Charmed at the start of your turn, you have a 50% chance to begin Raging without expanding a Rage Charge."},{name:"Stallion",description:"Dashing grants you temporary hit points equal to twice your level."},{name:"Tiger",description:"You add an addition Strength modifier against Bleeding or Poisoned targets, and gain proficiency in Survival."},{name:"Wolf",description:"You and nearby allies (18 m / 60 ft) add your Dexterity modifier as a bonus to your Stealth checks."},{name:"Wolverine",description:"When you attack a Bleeding or Poisoned target, you inflict Maim on them."}],selectionCount:1,selectSameAllowed:!1},zl=[{name:"Blade of Rime",description:"Throw a shard of ice that deals 1d10 Piercing damage. It explodes and deals 2d6 Cold to anyone nearby. It leaves an ice surface. This spell can be cast while you are Silenced."},{name:"Chill of the Mountain",description:"Call forth the cold mountain winds and reduce the target's movement speed by 3\u202fm / 10\u202fft."},{name:"Fangs of the Fire Snake",description:"Hit foes from afar, dealing Unarmed damage with 1d10 Fire damage at up to 2.5m / 8ft. Your next melee attacks deal an additional 1d4 Fire damage."},{name:"Fist of Four Thunders",description:"Release a wave of thunderous force that pushes away all creatures and objects up to 5m / 17ft, and dealing 2d8 Thunder damage. Targets succeeding in a Constitution save take half damage."},{name:"Fist of Unbroken Air",description:"Push the target back 6\u202fm / 20\u202fft, dealing 3d10 Bludgeoning damage and knocking it Prone."},{name:"Rush of the Gale Spirits",description:"Summon a strong wind that clears all clouds and pushes creatures back Range Icon.png 5\u202fm / 17ft\u202fft, forcing them Off Balance."},{name:"Shaping of the Ice",description:"Create a climbable ice cube."},{name:"Sphere of Elemental Balance",description:"Hurl a sphere that deals 3d8 Thunder damage and possibly creates a surface on impact."},{name:"Sweeping Cinder Strike",description:"Expel fire from your outstretched hands, deadling 3d6 Fire damage and igniting anything flammable."},{name:"Touch of the Storm",description:"Perform a melee attack taht deals 1d10 Lighning damage. The target cannot use reactions. This spell has Advantage on creatures with metal armour."},{name:"Water Whip",description:"Deal 3d10 Bludgeoning damage to a target. Possibly pulls a target within 9m toward you or knocks it Prone."}],kh=[{name:"Clench of the North Wind",description:"Hold a humanoid enemy still. They can't Move, Act, or React. Attacks from within 3\u202fm / 10\u202fft are always Critical Hits. At the end of each turn, the affected creature can make a Wisdom Saving Throw Icons.png Saving Throw to end this condition."},{name:"Embrace of the Inferno",description:"Hurl 3 rays of fire. Each ray deals 2d6 Fire damage."},{name:"Gong of the Summit",description:"Deals 3d8 Thunder damage to all creatures and objects in a 3m / 10ft radius. Creatures made of inorganic material such as stone have Disadvantage on their Saving Throw. On a successful Constitution Saving Throw, targets take half damage."}],gB=[{name:"College of Lore",icon:"assets/img/classes/150px-College_Of_Lore_Icon.png",description:"You pursue beauty and truth, collecting knowledge from scholarly tomes to peasants' tales, and use your gifts to hold both audiences and enemies spellbound.",features:[[],[],[{name:"College of Lore Skill Proficiencies",description:"Choose three additional class skill in which to gain profiency.",skillSelection:Eh,selectionCount:3,selectSameAllowed:!1}],[],[],[{name:"Magical Secrets",description:"Learn 2 non-bard spells from the Magical Secrets spell list."}],[],[],[],[],[],[]]},{name:"College of Valour",icon:"assets/img/classes/150px-Class_Bard_Valour_Badge_Icon.png",description:"You wander the land to witness and relate the deeds of the mighty, keeping alive the memory of heroes of the past and inspiring heroes of the future.",equipmentProficiencies:[C.MediumArmor,C.Shields,C.MartialWeapons],features:[[],[],[{name:"Combat Inspiration",description:"Your Bardic Inspiration receives an upgrade, allowing inspired allies to add bonus damage to their next weapon attack or a bonus to their Armour Class for one attack."}],[],[],[{name:"Extra Attack",description:"You can make an additional free attack after making an unarmed or weapon attack. If you gain the Extra Attack feature from more than one class, they don't add together."}],[],[],[],[],[],[]]},{name:"College of Swords",icon:"assets/img/classes/150px-Class_Bard_Swords_Badge_Icon.png",description:"Bards of the College of Swords are called blades, and they entertain through daring feats of weapon prowess.",equipmentProficiencies:[C.MediumArmor,C.Scimitars],features:[[],[],[{name:"Fighting Style",description:"Choose a fighting style.",featureSelection:[{name:"Duelling",description:"When you are wielding a melee weapon that is not Two-Handed or Versatile in one hand, and no weapon in the other, you deal an additional 2 damage with that weapon."},{name:"Two-Weapon Fighting",description:"When you make an offhand attack, you can add your Ability Score Modifier to the damage of the attack."}],selectionCount:1,selectSameAllowed:!1},{name:"Blade Flourish",description:"Whenever you take the attack Action on your turn, your Movement Speed increases by 3\u202fm / 10\u202fft until the end of the turn,and if a weapon attack that you make as part of this action hits a creature, you can use a Blade Flourish option of your choice. You can use only one Blade Flourish option per turn."}],[],[],[{name:"Extra Attack",description:"You can make an additional free attack after making an unarmed or weapon attack. If you gain the Extra Attack feature from more than one class, they don't add together."}],[],[],[],[],[],[]]}],mB=[{name:"Berserker",icon:"assets/img/classes/150px-Berserker_Subclass_300px.png",description:"Violence is both a means and an end. You follow a path of untrammeled fury, slick with blood, as you thrill in the chaos of battle, heedless of your own well-being.",features:[[],[],[{name:"Frenzy",description:"Your Rage turns into a frenzy as you release your unquenchable fury and bloodlust. You gain the use of Frenzied Strike and Enraged Throw. You can also use an Improvised Melee Weapon as a bonus action. Frenzy ends early if you haven't attacked a creature or taken damage since your last turn."},{name:"Frenzied Strike",description:"As a bonus action, make a melee attack with your equipped weapon. Available only when Frenzied."},{name:"Enraged Throw",description:"As a bonus action, pick up an item or creature and throw it at a target, dealing additional damage and knocking it Prone. Your Strength affects the additional damage and how much weight you can throw. Heavier items deal more damage. The damage of weapons with the thrown property is the same as the weapon's melee damage. Available only when Frenzied."}],[],[],[{name:"Mindless Rage",description:"Your rage becomes all-consuming, repelling outside influence. While Frenzied, you can't be Charmed or Frightened, and Calm Emotions Icon.png Calm Emotions no longer ends your rage."}],[],[],[],[{name:"Intimidating Presence",description:"As an action, you can menace an enemy and instill a terrible Fear within them. You can use Maintain Intimidating Presence to prolong the targets fear."}],[],[]]},{name:"Wildheart",icon:"assets/img/classes/150px-Wildheart_Subclass_300px.png",description:"Your attunement with nature and its beasts inspires your rage, empowering you with supernatural might.",features:[[],[],[{name:"Speak with Animals",description:"Once per Long Rest, you can use the 1st Level Spell Speak with Animals without expending spell slots.",effect:{spells:[wh]}},{name:"Bestial Heart",description:"Choose a Beastial Heart.",featureSelection:[{name:"Bear Heart",description:"While Raging, you can use Unrelenting Ferocity to heal 1d8 + Constitution modifier hit points. You also have Resistance to all damage except psychic damage."},{name:"Eagle Heart",description:"While Raging, you can use Diving Strike, leaping down unto a foe below you, dealing Weapon Damage and knocking them Prone. Foes also have Disadvantage on Opportunity Attacks against you, and you can use Dash as a bonus action."},{name:"Elk Heart",description:"While Raging, you can use Primal Stampede, charging forward and dealing 1d4+2 Bludgeon damage to all hostile creatures in your way and knocking them prone. Your Movement Speed also increases by 4.5m / 15ft."},{name:"Tiger Heart",description:"While Raging, you can use Tiger's Bloodlust, lashing out to attack up to 3 enemies at once. They each take half the damage your weapon usually deals and start to Bleed. Your jump distance also increases by 4.5m / 15ft."},{name:"Wolf Heart",description:"While Raging, you can use Inciting Howl, allowing each ally within earshot to move an additional 3m / 10ft during their next turn. Your allies also have Advantage on melee Attack Rolls against enemies within 2m / 7ft of you."}],selectionCount:1,selectSameAllowed:!1}],[],[],[FC],[],[{name:"Land's Stride: Difficult Terrain",description:"You have become an expert at moving through the wilderness. Difficult Terrain no longer slows you down."}],[],[FC],[],[]]},{name:"Wild Magic Barbarian",icon:"assets/img/classes/150px-Wild_Magic_Barbarian_Subclass_Icon.png",description:"The wild influence of magic has transformed you, suffusing you with arcane power that churns within you, waiting to be released.",features:[[],[],[{name:"Rage: Wild Magic",description:"Rage instantly causes a magical effect randomly rolled from the Wild Magic table. Some of these effects can be activated every subsequent turn as a bonus action."},{name:"Magic Awareness",description:"Anyone within a 3m range adds their Proficiency Bonus to Saving Throws against spells."}],[],[],[{name:"Bolstering Magic: Boon",description:"As an action, you or an ally receive +1d4 bonus to Attack Rolls and Ability Checks for 10 turns."},{name:"Bolstering Magic: Level 1 Spell Slot",description:"As an action, you or an ally recover a level 1 spell slot."},{name:"Bolstering Magic: Level 2 Spell Slot",description:"As an action, you or an ally recover a level 2 spell slot."}],[],[],[{name:"Bolstering Magic: Level 3 Spell Slot",description:"As an action, you or an ally recover a level 3 spell slot."}],[{name:"Unstable Backlash",description:"While enraged, when you take damage or fail a Saving Throw, you trigger another Wild Magic effect that replaces the current one, as a reaction."}],[],[]]}],yB=[{name:"Knowledge Domain",icon:"assets/img/classes/150px-Knowledge_Domain_Icon.png",description:"Adaptable and adroit in all manner of languages and skills, your mind is an intellectual cup brimming with exquisite knowing.",features:[[{name:"Blessings of Knowledge",description:"You gain Proficiency in your choice of two of the following skills: Arcana, History, Nature, or Religion. Your Proficiency Bonus Proficiency Bonus is doubled for any ability check you make that uses either of these skills.",skillSelection:[S.Arcana,S.History,S.Nature,S.Religion],selectionCount:2,selectSameAllowed:!1},{name:"Domain Spells",description:"You gain the Command and Sleep spells from your domain. They are always prepared"}],[{name:"Knowledge of the Ages",description:"Use a Channel Divinity Charge to gain Proficiency in all Skills of a chosen Ability Score until the next Long Rest."}],[{name:"Domain Spells",description:"You gain the Calm Emotions and Hold Person spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Speak with Dead and Slow spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Confusion and Otiluke's Resilient Sphere spells from your domain. They are always prepared"}],[{name:"Potent Spellcasting",description:"Your god grants you even more intense power. You can add your Wisdom Modifier to the damage you deal with Cleric Cantrips."}],[{name:"Domain Spells",description:"You gain the Dominate Person and Telekinesis spells from your domain. They are always prepared"}],[],[],[]]},{name:"Life Domain",icon:"assets/img/classes/150px-Class_Cleric_Life_Badge_Icon.png",description:"The Life domain is an aspect of many good deities, offering spells that protect and restore the mind, body, and soul.",equipmentProficiencies:[C.HeavyArmor],features:[[{name:"Disciple of Life",description:"Your devotion empowers your healing Spells. When casting a healing spell, the target regains additional Hit Points equal to 2 + Spell's level."},{name:"Domain Spells",description:"You gain the Bless and Cure Wounds spells from your domain. They are always prepared"}],[{name:"Preserve Life",description:"Use a Channel Divinity Charge to evoke a healing energy that restores (3 x Cleric's Level) + 2 Hit Points to allied creatures. Has no effect on undead and constructs."}],[{name:"Domain Spells",description:"You gain the Aid and Lesser Restoration spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Revivify and Beacon of Hope spells from your domain. They are always prepared"}],[{name:"Blessed Healer",description:"Regain 2 + Spell Slot Level Hit Points when casting a healing spell on another creature."}],[{name:"Domain Spells",description:"You gain the Guardian of Faith and Death Ward spells from your domain. They are always prepared"}],[{name:"Divine Strike - Life",description:"Once per turn, deal 1d8 Radiant damage in addition to your weapon's weapon damage when you make a melee attack."}],[{name:"Domain Spells",description:"You gain the Greater Restoration and Mass Cure Wounds spells from your domain. They are always prepared"}],[],[],[]]},{name:"Light Domain",icon:"assets/img/classes/150px-Light_Domain_Subclass_300px.png",description:"The Light domain is offered by deities of justice, majesty, and primordial flame, providing spells that dispel darkness and harm the undead.",features:[[{name:"Warding Flare",description:"Shield yourself with divine light. Use your Reaction to impose Disadvantage on an attacker, potentially causing their attack to miss. An attacker that can\u2019t be Blinded is immune to this effect."},{name:"Domain Spells",description:"You gain the Light Cantrip and Burning Hands and Faerie Fire spells from your domain. They are always prepared"}],[{name:"Radiance of the Dawn",description:"Use a Channel Divinity Charge to harness the sun's divine power to dispel any magical darkness and deal 2d10 + Character Level Radiant damage to hostile creatures. On a successful save, targets still take half damage. Doesn't affect creatures that have total cover from you."}],[{name:"Domain Spells",description:"You gain the Flaming Sphere and Scorching Ray spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Daylight and Fireball spells from your domain. They are always prepared"}],[{name:"Improved Warding Flare",description:"When an enemy attacks an ally, you can use your Reaction to impose Disadvantage on the Attack Roll, possibly causing their attack to miss."}],[{name:"Domain Spells",description:"You gain the Guardian of Faith and Wall of Fire spells from your domain. They are always prepared"}],[{name:"Potent Spellcasting",description:"Your god grants you even more intense power. You can add your Wisdom Modifier to the damage you deal with Cleric Cantrips."}],[{name:"Domain Spells",description:"You gain the Destructive Wave and Flame Strike spells from your domain. They are always prepared"}],[],[],[]]},{name:"Nature Domain",icon:"assets/img/classes/150px-Nature_Domain_Icon.png",description:"You embody the vast viridian power of the natural world, an avatar of the subtle divinity of fruitfall, avian migration, woodland silence, and the landslide's roaring fury.",equipmentProficiencies:[C.HeavyArmor],features:[[{name:"Acolyte of Nature",description:"You learn a Druid cantrip, and become Proficient in Animal Handling, Nature, or Survival."},{name:"Domain Spells",description:"You gain the Speak with Animals and Animal Friendship spells from your domain. They are always prepared"}],[{name:"Charm Animals and Plants",description:"Use a Channel Divinity Charge to channel fey magic to Charm nearby beasts and plants."}],[{name:"Domain Spells",description:"You gain the Spike Growth and Barkskin spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Sleet Storm and Plant Growth spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Dominate Beast and Grasping Vine spells from your domain. They are always prepared"}],[{name:"Divine Strike - Elemental Fury",description:"Once per turn, deal 1d8 Cold, Fire, or Lightning damage in addition to your weapon's weapon damage when you make a melee attack."}],[{name:"Domain Spells",description:"You gain the Insect Plague and Wall of Stone spells from your domain. They are always prepared"}],[],[],[]]},{name:"Tempest Domain",icon:"assets/img/classes/150px-Tempest_Domain_Icon.png",description:"Your faith has made you the very thunder that quakes the black firmament, the lightning coursing through the veins of a terrible storm.",equipmentProficiencies:[C.HeavyArmor,C.MartialWeapons],features:[[{name:"Wrath of the Storm",description:"Using a Reaction, strike back at an attacking creature, potentially dealing 2d8 Lightning damage if they fail a Dexterity Saving Throw or otherwise take half of 2d8 Thunder damage."},{name:"Domain Spells",description:"You gain the Thunderwave and Fog Cloud spells from your domain. They are always prepared"}],[{name:"Destructive Wrath",description:"When you roll Thunder or Lightning damage, you can use a Channel Divinity Charge to deal maximum damage instead."}],[{name:"Domain Spells",description:"You gain the Shatter and Gust of Wind spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Call Lightning and Sleet Storm spells from your domain. They are always prepared"}],[{name:"Thunderbolt Strike",description:"When you deal Thunder or Lightning damage to a creature that is Large or smaller, you can also push it up to 3\u202fm / 10\u202fft."}],[{name:"Domain Spells",description:"You gain the Freedom of Movement and Ice Storm spells from your domain. They are always prepared"}],[{name:"Divine Strike - Tempest",description:"Once per turn, deal 1d8 Lightning damage in addition to your weapon's weapon damage when you make a melee attack."}],[{name:"Domain Spells",description:"You gain the Destructive Wave and Insect Plague spells from your domain. They are always prepared"}],[],[],[]]},{name:"Trickery Domain",icon:"assets/img/classes/150px-Class_Cleric_Trickery_Badge_Icon.png",description:"A domain shared by wicked, chaotic, and mischievous deities alike, those who channel Trickery specialise in deception and illusion magic.",features:[[{name:"Blessing of the Trickster",description:"Grant another creature Advantage on Stealth Checks."},{name:"Domain Spells",description:"You gain the Charm Person and Disguise Self spells from your domain. They are always prepared"}],[{name:"Invoke Duplicity",description:"Use a Channel Divinity Charge to summon an illusion to distract your enemies. You and your allies receive Advantage on Attack Rolls against a creature if both the attacker and the illusion are within 3m / 10ft of that creature."}],[{name:"Domain Spells",description:"You gain the Mirror Image and Pass Without Trace spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Bestow Curse and Fear spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Dimension Door and Polymorph spells from your domain. They are always prepared"}],[{name:"Divine Strike - Nightshade Poison",description:"Once per turn, deal 1d8 Poison damage in addition to your weapon's weapon damage when you make a melee attack."}],[{name:"Domain Spells",description:"You gain the Dominate Person and Seeming spells from your domain. They are always prepared"}],[],[],[]]},{name:"War Domain",icon:"assets/img/classes/150px-War_Domain_Icon.png",description:"Fortified by holy zeal, you brandish an arsenal of sacramental savagery to use against those you deem unrighteous.",equipmentProficiencies:[C.HeavyArmor,C.MartialWeapons],features:[[{name:"War Priest",description:"When you make an unarmed or weapon attack, you can spend a War Priest Charge to make an additional attack as a Bonus Action."},{name:"Domain Spells",description:"You gain the Divine Favour and Shield of Faith spells from your domain. They are always prepared"}],[{name:"Guided Strike",description:"Use a Channel Divinity Charge to gain a +10 bonus to your Attack Roll."}],[{name:"Domain Spells",description:"You gain the Magic Weapon and Spiritual Weapon spells from your domain. They are always prepared"}],[],[{name:"Domain Spells",description:"You gain the Spirit Guardians and Crusader's Mantle spells from your domain. They are always prepared"}],[{name:"War God's Blessing",description:"Use a Channel Divinity Charge to endow a nearby ally with the glory of your god to grant them a +10 bonus to their Attack Roll."}],[{name:"Domain Spells",description:"You gain the Stoneskin and Freedom of Movement spells from your domain. They are always prepared"}],[{name:"Divine Strike - Warmaster",description:"Once per turn, deal 1d8 damage in addition to your weapon's weapon damage when you make a melee attack."}],[{name:"Domain Spells",description:"You gain the Flame Strike and Hold Monster spells from your domain. They are always prepared"}],[],[],[]]}],_B=[{name:"Battle Master",icon:"assets/img/classes/Battle_Master_Icon.png",description:"Battle Masters are paragons of tactical superiority, combining combat maneuvers and experience in the field to dominate every fight.",features:[[],[],[{name:"Superiority Dice",description:"Your Superiority Dice are d8s, and you have 4. They fuel your battle master manoeuvers and are expended upon use. You gain an additional dice at level 7. You regain expended Superiority Dice after a Short or Long Rest."},{name:"Battle Manoeuvers",description:"Choose 3 Battle Manoeuvers. They are powerful attacks that use superiority dice.",featureSelection:Wl,selectionCount:3,selectSameAllowed:!1}],[],[],[],[{name:"Battle Manoeuvers",description:"Choose 2 additional Battle Manoeuvers.",featureSelection:Wl,selectionCount:2,selectSameAllowed:!1}],[],[],[{name:"Battle Manoeuvers",description:"Choose 2 additional Battle Manoeuvers.",featureSelection:Wl,selectionCount:2,selectSameAllowed:!1},{name:"Improved Superiority Dice",description:"The size of your Superiority Dice increases to 1d10."}],[],[]]},{name:"Champion",icon:"assets/img/classes/150px-Champion_Pic.png",description:"You approach the complex problems posed by combat with one distinctly effective solution - you hit those problems, really quite hard.",features:[[],[],[{name:"\xcdmproved Critical Hit",description:"The number you need to roll a Critical Hit while attacking is reduced by 1. This effect can stack."}],[],[],[],[{name:"Remarkable Athlete (Jump)",description:"You're a master of your own body, your athletic prowess extended beyond the usual. Your Jump distance is increased by 3m / 10ft."},{name:"Remarkable Athlete (Proficiency)",description:"You're a master of your own body, your athletic prowess extended beyond the usual. You can add half of your Proficiency Bonus to any Strength, Dexterity, and Constitution Checks that you are not Proficient in."}],[],[],[{name:"Fighting Style",description:"Choose 1 fighting style.",featureSelection:[{name:"Archery",description:"You gain a +2 bonus to Attack Rolls you make with ranged Weapons."},{name:"Defense",description:"You gain a +1 bonus to Armour Class while wearing Armour."},{name:"Duelling",description:"When you are wielding a melee weapon that is not Two-Handed or Versatile in one hand, and no weapon in the other, you deal an additional 2 damage with that weapon."},{name:"Great Weapon Fighting",description:"When you roll a 1 or 2 on a damage die for an attack with a Two-Handed melee weapon, that die is rerolled once."},{name:"Protection",description:"When you have a Shield, impose Disadvantage on an enemy who attacks one of your allies when you are within 1.5\u202fm / 5\u202fft. You must be able to see the enemy. This is a reaction."},{name:"Two Weapon Fighting",description:"When you make an offhand attack, you can add your Ability Score Modifier to the damage of the attack."}],selectionCount:1,selectSameAllowed:!1}],[],[]]},{name:"Eldritch Knight",icon:"assets/img/classes/Eldritch_Knight_Icon.png",description:"Eldritch Knights study magic to supplement their weaponry, allowing them to overcome resistance from the toughest foes.",features:[[],[],[{name:"Weapon Bond",description:"Ritually bind the weapon in your main hand. The weapon can't be knocked out of your hand, and it automatically returns to you when thrown."}],[],[],[],[{name:"War Magic",description:"You have honed your body and magic for war. After you cast a Cantrip, you can make a weapon attack using a bonus action."}],[],[],[{name:"Eldritch Strike",description:"When you hit a creature with a weapon attack, it has Disadvantage on its next Saving Throw against a spell you cast before the end of your next turn."}],[],[]]}],wB=[{name:"Way of the Open Hand",icon:"assets/img/classes/150px-Open_Hand.png",description:"You specialise in unarmed combat, using your hands and control of ki to heal or inflict grievous hurt.",features:[[],[],[{name:"Flurry of Blows (Topple)",description:"Punch twice in quick succession and possibly knock the target Prone."},{name:"Flurry of Blows (Stagger)",description:"Punch twice in quick succession and Stagger the target, making it unable to take reactions."},{name:"Flurry of Blows (Push)",description:"Punch twice in quick succession and possibly push the target 5m / 17ft away."}],[],[],[{name:"Manifestation of Body",description:"Passive (Toggle). Your hands sap the ki from your enemies' bodies. Your unarmed attacks deal an additional 1d4 + Wisdom Modifier Necrotic damage. Can't be used at the same time as Manifestation of Mind or Manifestation of Soul."},{name:"Manifestation of Mind",description:"Passive (Toggle). Your strikes interrupt the ki flow to your enemies' minds. Your unarmed attacks deal an additional 1d4 + Wisdom Modifier Psychic damage. Can't be used at the same time as Manifestation of Body or Manifestation of Soul."},{name:"Manifestation of Soul",description:"Passive (Toggle). Infuse your strikes with ki from outside your body. Your unarmed attacks deal an additional 1d4 + Wisdom Modifier Radiant damage. Can't be used at the same time as Manifestation of Body or Manifestation of Mind."},{name:"Wholeness of Body",description:"Regain half your Monk Ki points and enter a temporary state of Wholeness. Restores 3 x Monk Level Hit Points, gain an extra Bonus Action, and recover 1 Ki Point every turn for 3 turns. Can be used once per Long Rest."}],[],[],[{name:"Ki Resonation (Punch)",description:"Hit a creature with your bare fists, making the ki in its body Resonate with yours. You can then make the ki explode with Ki Resonation: Blast."},{name:"Ki Resonation (Blast)",description:"Detonate the ki of a creature Resonating with you, hitting the creature and anyone within 5m / 17ft of it. The resulting explosion causes any nearby creatures Resonating with you to also detonate. On Dexterity Save targets still take half damage."}],[],[{name:"Tranquility",description:"Long Rests surround you with an aura of peace, granting you Sanctuary."}],[]]},{name:"Way of Shadow",icon:"assets/img/classes/150px-Shadow_Icon.png",description:"You value the arts of stealth and subterfuge, bending the shadows to your will to strike without warning.",features:[[],[],[{name:"Shadow Arts (Hide)",description:"Hide from enemies by succeeding Stealth Checks. Stick to the dark and avoid enemy sightlines. Attacking or casting a spell will reveal your location. Can be used as a Bonus Action."},{name:"Shadow Arts (Pass Without Trace)",description:"Call forth a veil of shadows and silence that gives you and all nearby companions a +10 bonus to Stealth Checks. Can be used as an Action, and uses 2 Ki points."},{name:"Shadow Arts (Darkness)",description:"Create a dark shroud that heavily Obscures and Blinds creatures within an 18m / 60ft radius. Creatures cannot make ranged attacks into or out of it. Lasts for 10 turns and requires Concentration. Can be used as an Action, and uses 2 Ki points."},{name:"Shadow Arts (Darkvision)",description:"Grant a creature the ability to see into the dark out to a range of 12 m / 40 ft. Lasts until the next Long Rest. Can be used as an Action, and uses 2 Ki points."},{name:"Shadow Arts (Silence)",description:"Create a sound-proof sphere of an 18m / 60ft radius for 100 turns. Requires concentration. All within are Silenced and Immune toDamage Types Thunder damage. Can be used as an Action, and uses 2 Ki points."},{name:"Cantrip (Minor Illusion)",description:"Create an illusion that compels nearby creatures to investigate. You can remain hidden while casting this spell. This spell can be cast while you are Silenced."}],[],[{name:"Cloak of Shadows",description:"Wrap yourself in shadows to become Invisible if you are obscured. Lasts for 10 turns. Invisibility ends early if you attack, cast another spell, take an action, or take damage."}],[{name:"Shadow Step",description:"Teleport from shadow to shadow, as a Bonus Action. Afterwards, you have Advantage on your next melee Attack Roll."}],[],[],[],[],[{name:"Shadow Strike",description:"Teleport to a foe from a hidden position, while invisible or sneaking. You strike them with the creeping, psychic ferocity of the shadows themselves, dealing an additional 3d8 Psychic damage. Can be used as an Action, and uses 3 Ki points."}],[]]},{name:"Way of the Four Elements",icon:"assets/img/classes/150px-Four_Elements_Icon.png",description:"You focus your ki to bend the elements to your will, using them as an extension of your own body.",features:[[],[],[{name:"Ki Spellcasting",description:"Learn 3 spells that can be cast using Ki points. These spells also trigger an Unarmed Strike.",featureSelection:zl,selectionCount:3,selectSameAllowed:!1},{name:"Harmony of Fire and Water",description:"While not in combat, regain half your Ki points. Can be used once per Long Rest."}],[],[],[{name:"Ki Spellcasting",description:"Learn 1 additional spell.",featureSelection:zl.concat(kh),selectionCount:1,selectSameAllowed:!1}],[],[],[{name:"Improved Elemental Casting",description:"Several of your Four Elemental Spells deal an additional dice of damage. Clench of the North Wind can hold an additional creature. Embrace of the Inferno fires an additional ray."},{name:"Ki Spellcasting",description:"Learn 1 additional spell.",featureSelection:zl.concat(kh),selectionCount:1,selectSameAllowed:!1}],[],[{name:"Ki Spellcasting",description:"Learn 1 additional spell.",featureSelection:zl.concat(kh).concat([{name:"Flames of the Phoenix",description:"Shoot a bright flame from your fingers that explodes upon contact, dealing 8d6 Fire damage to all creatures and objects in a 3m / 10ft radius. On a successful Dexterity Save, targets take half damage."},{name:"Mist Stance",description:"Transform yourself into a tiny gas cloud. It can't fall, and fits through small openings. The cloud has Advantage on Constitution, Dexterity, and Strength Saving Throws. While transformed, you won't be able to attack, cast spells, or talk. Requires Concentration."},{name:"Ride the Wind",description:"Gain the ability to Fly until the next Long Rest. Requires Concentration."}]),selectionCount:1,selectSameAllowed:!1}],[]]}],Gl=[{name:"Barbarian",icon:"assets/img/classes/160px-Class_Barbarian_Badge_Icon.png",flavorText:"The strong embrace the wild that hides inside - keen instincts, primal physicality, and most of all, an unbridled, unquenchable rage.",description:"Barbarians use their martial prowess and primal rage to strengthen themselves and dominate enemies in combat. Barbarians' key ability scores are Strength, Dexterity, and Constitution.",savingThrowProficiencies:[B.Strength,B.Dexterity],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:rB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.SimpleWeapons,C.MartialWeapons,C.Shields],initialEquipmentProficiencies:[C.LightArmor,C.MediumArmor],features:[[{name:"Rage",description:"Release your unbridled fury to become stronger and more robust. While Raging, you deal 2 extra damage with melee and improvised weapons, and when throwing objects. You also have Resistance to physical damage and Advantage on Strength Checks and Saving Throws. Rage ends early if you haven't attacked a creature or taken damage since your last turn. Activating Rage is a Bonus Action."},{name:"Unarmoured Defence (Barbarian)",description:"Your body is as resilient as any armour. You add your Constitution modifier to your Armour Class in addition to your Dexterity modifier when not wearing armour."}],[{name:"Reckless Attack",description:"Make a Reckless Attack, granting you Advantage on attacks but also granting enemies Advantage on attacks against you."},{name:"Danger Sense",description:"You have Advantage on Dexterity Saving Throws against traps, Spells and surfaces while not Blinded, Deafened, or Incapacitated."}],[],[],[{name:"Extra Attack",description:"You can make an additional free attack after making an unarmed or weapon attack."},{name:"Fast Movement",description:"Your Movement Speed increases by 1.5\u202fm / 5\u202fft while not wearing Heavy Armour."}],[],[{name:"Feral Instinct",description:"You have honed your instincts to the utmost degree. You gain a +3 to Initiative and can't be Surprised."}],[],[{name:"Brutal Critical",description:"You've trained to strike swift and true. When you land a Critical Hit, you roll an extra damage die as well as the normal additional critical die."}],[],[{name:"Relentless Rage",description:"Once per Short Rest, if you drop to 0 hit point while Enraged, you regain 1 hit points instead of being Downed."}],[]],featLevels:[4,8,12],subclassLevel:3,subclasses:mB},{name:"Bard",icon:"assets/img/classes/160px-Bard_Class_Icon.png",flavorText:"You know music is more than a fancy - it is power. Through study and adventure, you have mastered song, speech, and the magic within.",description:"Bards are expert storytellers, artists, and performers. Bards channel their power through song, speech, or performance to cast Spells. Bards use Charisma as their primary ability score.",savingThrowProficiencies:[B.Dexterity,B.Charisma],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:Eh,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor],initialEquipmentProficiencies:[C.SimpleWeapons,C.HandCrossbows,C.Rapiers,C.Longswords,C.Shortswords],features:[[{name:"Bardic Inspiration",description:"As a bonus action, you can inspire an ally to go beyond their capabilities with your performance. They can add a +1d6 bonus to their next Attack Roll, Ability Check, or Saving Throw."},{name:"Bonus Skill Proficiency",description:"Choose one additional class skill in which to gain profiency.",skillSelection:Eh,selectionCount:1,selectSameAllowed:!1}],[{name:"Song of Rest",description:"Once per long rest, you can use your craft to soothe. You and your allies are revitalized as though you had taken a Short Rest."},{name:"Jack of All Trades",description:"Your vast experiences make you more likely to succeed in any undertaking. Add half of your Proficiency Bonus (rounded down) to Ability Checks that you are not Proficient in."}],[{name:"Skill Expertise",description:"Gain Expertise in 2 Skills you are proficient in.",skillExpertiseSelection:!0,selectionCount:2,selectSameAllowed:!1}],[],[{name:"Font of Inspiration",description:"You regain all of your Bardic Inspiration Charges after a Long or Short Rest."},{name:"Improved Bardic Inspiration",description:"Your Bardic Inspiration bonus improves to 1d8."}],[{name:"Countercharm",description:"For 3 turns, you and any allies within 9\u202fm / 30\u202fft have Advantage on Saving Throws against being Charmed or Frightened."}],[],[],[],[{name:"Skill Expertise",description:"Gain Expertise in 2 Skills you are proficient in.",skillExpertiseSelection:!0,selectionCount:2,selectSameAllowed:!1},{name:"Magical Secrets",description:"Learn 2 non-bard spells from the Magical Secrets spell list."},{name:"Improved Bardic Inspiration",description:"Your Bardic Inspiration bonus improves to 1d10."}],[],[]],featLevels:[4,8,12],subclassLevel:3,subclasses:gB},{name:"Cleric",icon:"assets/img/classes/150px-Cleric_Class_300px.png",flavorText:"Clerics are representatives of the gods they worship, wielding potent divine magic for good or ill.",description:"Clerics worship and enact their deities' will to the world, for better or worse. They channel the power of their faith to cast Spells. Clerics use Wisdom as their primary ability score.",savingThrowProficiencies:[B.Wisdom,B.Charisma],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:oB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor,C.MediumArmor,C.Shields,C.Morningstars],initialEquipmentProficiencies:[C.SimpleWeapons,C.Flails],features:[[],[{name:"Turn Undead",description:"As an action and using a Channel Divinity Charge, present your holy symbol and pray. Each undead that can see or hear you is forced to spend its turns fleeing from you, until it takes damage."}],[],[],[{name:"Destroy Undead",description:"Your Turn Undead ability deals 4d6 Radiant damage to Turned creatures."},{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die."}],[],[],[],[],[{name:"Divine Intervention",description:"Call upon your deity in your moment of greatest need. Once they interfere, your deity will never do so again in this manner. Sunder the Heretical deals 8d10 Radiant damage to all enemies in a 50 ft (15 m) radius. Targets can succeed on a Wisdom saving throw to take half damage. Opulent Revival resurrects fallen companions within an 18m / 60ft radius with half their hit points, and restores all nearby allies as if they had Long Rested. Arm Thy Servant creates the Devotee's Mace in the cleric's inventory and immediately equips it. Golden Generosity spawns a chest Bestowed Bounty on the ground next to the cleric, containing camp supplies, superior or supreme healing potions, and six to seven elixirs."},{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die."}],[],[]],featLevels:[4,8,12],subclassLevel:1,subclasses:yB},{name:"Druid",icon:"assets/img/classes/150px-Druid_Class_300px.png",flavorText:"Druids channel the elemental forces of nature and share a deep kinship with animals. Mastery of Wild Shape allows them to transform into beasts from all over the Realms.",description:"Druids are closely attuned with nature and the animals that live in it. They ultilize the power of nature to cast Spells and have the ability to transform into various creatures. Druids use Wisdom as their primary ability score.",savingThrowProficiencies:[B.Wisdom,B.Intelligence],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:sB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor,C.MediumArmor,C.Shields],initialEquipmentProficiencies:[C.Clubs,C.Daggers,C.Javelins,C.Maces,C.Quarterstaves,C.Scimitars,C.Sickles,C.Spears],features:[[],[{name:"Wild Shape",description:"Magically assume the shape of a beast. While in animal shape, you can't talk or cast Spells. You can take on the attributes your beast form - excluding your Intelligence, Wisdom, and Charisma scores. When your beast form drops to 0 Hit Points, you revert to your normal form. You may take the form of a Badger, Cat, Spider, and Wolf."}],[],[{name:"Wild Shape Improvement",description:"You can now Wild Shape into a Deep Roth\xe9."}],[],[{name:"Wild Shape Improvement",description:"You can now Wild Shape into a Panther, and Owlbear."}],[],[{name:"Wild Shape Improvement",description:"You can now Wild Shape into a Sabre-Toothed Tiger."}],[],[{name:"Wild Shape Improvement",description:"You can now Wild Shape into a Dilophosaurus."}],[],[]],featLevels:[4,8,12],subclassLevel:2,subclasses:[{name:"Circle of the Land",icon:"assets/img/classes/Circle_Of_The_Land_Icon.png",description:"Druids of this Circle connect to powerful magic that flows through the earth and binds all living things together.",features:[[],[{name:"Natural Recovery",description:"Once per day while out of combat, you can replenish expended Spell Slots. The recovered spell slots must have a combined level that is less than or equal to half your Druid level (rounded up)."}],[],[],[],[{name:"Land's Stride",description:"Difficult Terrain no longer slows you down."}],[],[],[],[{name:"Nature's Ward",description:"You can't be charmed or frightened by elementals and fey. Disease and poison no longer affect you."}],[],[]]},{name:"Circle of the Moon",icon:"assets/img/classes/Circle_Of_The_Moon_Icon.png",description:"Druids sworn to the moon draw on its mercurial nature to transform into massive creatures and primal elementals.",features:[[],[{name:"Lunar Mend",description:"As a bonus action, expend spell slots to regain Hit Points while in Wild Shape. You regain 1d8 hit points per Spell Slot level."},{name:"Combat Wild Shape",description:"Wild Shape now uses a Bonus Action instead of an Action. You can now transform into a Bear."}],[],[{name:"Improved Combat Wild Shape",description:"You can now transform into a Dire Raven."}],[{name:"Wild Strike",description:"You can make an additional attack after making an unarmed strike while in wildshape."}],[{name:"Primal Strike",description:"While in beast form, your attacks count as magical for the purpose of overcoming resistance and immunity to non-magical damage."}],[],[],[],[{name:"Elemental Combat Wild Shape",description:"You can now transform into a Air Myrmidon, Earth Myrmidon, Fire Myrmidon, and Water Myrmidon."},{name:"Improved Wild Strike",description:"You can make 2 additional attacks after making an unarmed strike while in wildshape."}],[],[]]},{name:"Circle of the Spores",icon:"assets/img/classes/150px-Circle_of_the_Spores_Icon.png",description:"Viewing death, necrosis, fungal growth, and sportulation as just another part of life, you can manipulate such spores to augment yourself and harm your foes.",features:[[],[{name:"Halo of Spores",description:"As a reaction, unleash a cloud of necrotic spores upon a target that deals 1d4 Necrotic damage. A Constitution Save negates the damage."},{name:"Symbiotic Entity",description:"Use a Wild Shape Charge to gain 4 Temporary Hit Points per Druid Druid level and deal an additional 1d6 Necrotic damage while you have them. you can cast Halo of Spores with double damage."}],[],[],[],[{name:"Fungal Infestation",description:"Target a Beast or Humanoid corpse and raise a Zombie until next Long Rest. Counts as a Reaction."}],[],[],[],[{name:"Spreading Spores",description:"Requires Symbiotic Entity to be active. As a Bonus Action, create a cloud within 9m that deals 2d8 Necrotic damage per turn to all enemies. Lasts 10 turns or until Symbiotic Entity deactivates. A Constitution Save negates the damage."}],[],[]]}]},{name:"Fighter",icon:"assets/img/classes/Fighter_Class_Icon.png",flavorText:"Fighters have mastered the art of combat, wielding weapons with unmatched skill and wearing armour like a second skin.",description:"Fighters use their martial expertise to fight enemies and support their allies in combat. Fighters use Strength or Dexterity as their primary ability score.",savingThrowProficiencies:[B.Strength,B.Constitution],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:aB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor,C.MediumArmor,C.Shields,C.SimpleWeapons,C.MartialWeapons],initialEquipmentProficiencies:[C.HeavyArmor],features:[[{name:"Second Wind",description:"Draw on your stamina to protect yourself. You regain 1d10 + Fighter Level Hit Points as a Bonus Action. Can be used once per short rest."},{name:"Fighting Style",description:"Choose 1 fighting style.",featureSelection:[{name:"Archery",description:"You gain a +2 bonus to Attack Rolls you make with ranged Weapons."},{name:"Defense",description:"You gain a +1 bonus to Armour Class while wearing Armour."},{name:"Duelling",description:"When you are wielding a melee weapon that is not Two-Handed or Versatile in one hand, and no weapon in the other, you deal an additional 2 damage with that weapon."},{name:"Great Weapon Fighting",description:"When you roll a 1 or 2 on a damage die for an attack with a Two-Handed melee weapon, that die is rerolled once."},{name:"Protection",description:"When you have a Shield, impose Disadvantage on an enemy who attacks one of your allies when you are within 1.5\u202fm / 5\u202fft. You must be able to see the enemy. This is a reaction."},{name:"Two Weapon Fighting",description:"When you make an offhand attack, you can add your Ability Score Modifier to the damage of the attack."}],selectionCount:1,selectSameAllowed:!1}],[{name:"Action Surge",description:"Immediately gain an extra action to use this turn. Can be used once per Short Rest."}],[],[],[{name:"Extra Attack",description:"You can make an additional free attack after making an unarmed or weapon attack. If you gain the Extra Attack feature from more than one class, they don't add together."}],[],[],[],[{name:"Indomitable",description:"You have become as durable as an iron golem. Whenever you fail a Saving Throw, you can roll again, using the new result instead. Can be used once per Long Rest."}],[],[{name:"Improved Extra Attack",description:"You can make two additional attacks after attacking with your main-hand weapon."}],[]],featLevels:[4,6,8,12],subclassLevel:3,subclasses:_B},{name:"Monk",icon:"assets/img/classes/160px-Monk_Class_Icon.png",flavorText:"Channel your cosmic enlightenment by deftly dodging and efficiently disassembling your foes through stunning strikes and a whirlwind of martial art attacks.",description:"Monks are unarmed combatants capable of spending Ki Points to perform special abilities. The Monk's key ability scores are Wisdom, Dexterity, and Constitution.",savingThrowProficiencies:[B.Strength,B.Dexterity],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:lB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.SimpleWeapons,C.Shortswords],initialEquipmentProficiencies:[],features:[[{name:"Unarmoured Defence (Monk)",description:"Your reflexes are as effective as any armour. While not wearing armour, you add your Wisdom Modifier to your Armour Class."},{name:"Flurry of Blows",description:"Punch twice in quick succession, as a Bonus Action. Consumes a Ki Point."},{name:"Dextrous Attacks",description:"Attacks with Monk Weapons and unarmed attacks scale with your Dexterity instead of your Strength if your Dexterity is higher."},{name:"Deft Strikes",description:"Attacks with Monk Weapons and unarmed attacks deal 1d4 Bludgeoning damage, unless their normal damage is higher."},{name:"Bonus Unarmed Attack",description:"After making an attack with a Monk Weapon or while unarmed, you can make another unarmed attack as a Bonus Action."}],[{name:"Patient Defence",description:"Attack Rolls against you have Disadvantage, and you have Advantage on Dexterity Saving Throws."},{name:"Step of the Wind (Dash)",description:"Double your movement speed, as a Bonus Action and using a Ki Point. Jump no longer requires a Bonus Action."},{name:"Step of the Wind (Disengage)",description:"Move without triggering Opportunity Attacks, as a Bonus Action and using a Ki Point. Jump no longer requires a Bonus Action."},{name:"Unarmoured Movement",description:"Your movement speed increases by 3m / 10 ft while you are not wearing armor or using a shield."}],[{name:"Deflect Missiles",description:"Use your reaction to reduce the damage from a ranged weapon attack by 1d10 + your Dexterity Modifier + your monk level. If the damage is reduced to 0, you use a Ki Point to Deflect the Missile."},{name:"Improved Deft Strikes",description:"Attacks with Monk Weapons and unarmed attacks deal 1d6 Bludgeoning damage, unless their normal damage is higher."}],[{name:"Slow Fall",description:"When you fall, you can use your reaction to gain Resistance to Falling damage."}],[{name:"Extra Attack",description:"You can make an additional free attack after making an unarmed or weapon attack. If you gain the Extra Attack feature from more than one class, they don't add together."},{name:"Stunning Strike",description:"Use a Ki Point to attempt to Stun an opponent while performing an unarmed or Monk Weapon attack. Stun effect can be negated with a Constitution Save."}],[{name:"Ki-Empowered Strikes",description:"Your unarmed attacks count as magical for the purpose of overcoming enemies' Resistances and Immunity to non-magical damage."},{name:"Improved Unarmoured Movement",description:"Your movement speed increases by 4.5 m / 15 ft while you are not wearing armour or using a shield."}],[{name:"Evasion",description:"Your agility lets you dodge out of the way of certain spells. When a spell or effect would deal half damage on a successful Dexterity Saving Throw, it deals no damage if you succeed, and only half damage if you fail."},{name:"Stillness of Mind",description:"If you are Charmed or Frightened, you automatically cast Stillness of Mind to remove the condition."}],[],[{name:"Advanced Unarmoured Movement",description:"Difficult Terrain doesn't slow you down and you can jump an additional 6 m / 20 ft while you are not wearing armour or using a shield."},{name:"Improved Deft Strikes",description:"Attacks with Monk Weapons and unarmed attacks deal 1d8 Bludgeoning damage, unless their normal damage is higher."}],[{name:"Purity of Body",description:"You are Immune to Poison damage and can't be Poisoned or affected by disease thanks to the purifying ki flowing through your meridians."},{name:"Improved Unarmoured Movement",description:"Your movement speed increases by 6 m / 20 ft while you are not wearing armour or using a shield."}],[],[]],featLevels:[4,8,12],subclassLevel:3,subclasses:wB},{name:"Paladin",icon:"assets/img/classes/150px-Paladin_Class_Icon.png",flavorText:"Fuelled by the Oath you swore to uphold justice and righteousness, you are a beacon of hope in dark times.",description:"Paladins are masters of a variety of weapons and armour. They channel the power of their sacred oath to heal the sick and injured and to smite their foes. Important Ability Scores for Paladins include Strength (or Dexterity), Charisma, and ",savingThrowProficiencies:[B.Wisdom,B.Charisma],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:cB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor,C.MediumArmor,C.Shields,C.SimpleWeapons,C.MartialWeapons],initialEquipmentProficiencies:[C.HeavyArmor],features:[[{name:"Divine Sense",description:"As a Bonus Action, tap into your spiritual awareness to gain Advantage on Attack Rolls against celestials, fiends, and undead."},{name:"Lay on Hands",description:"As an action and using a Lay on Hands Charge, use your blessed touch to heal a creature or cure it of all diseases and poisons."}],[{name:"Divine Smite",description:"Your weapon emanates divine might as you strike, dealing an additional 2d8 Radiant damage. Deals an additional 1d8 Radiant damage to Fiends and Undead. Uses a Spell Slot, and deals an additional 1d8 Radiant damage for each Spell Slot Level above 1st."},{name:"Fighting Style",description:"Choose 1 fighting style.",featureSelection:[{name:"Defense",description:"You gain a +1 bonus to Armour Class while wearing Armour."},{name:"Duelling",description:"When you are wielding a melee weapon that is not Two-Handed or Versatile in one hand, and no weapon in the other, you deal an additional 2 damage with that weapon."},{name:"Great Weapon Fighting",description:"When you roll a 1 or 2 on a damage die for an attack with a Two-Handed melee weapon, that die is rerolled once."},{name:"Protection",description:"When you have a Shield, impose Disadvantage on an enemy who attacks one of your allies when you are within 1.5\u202fm / 5\u202fft. You must be able to see the enemy. This is a reaction."}],selectionCount:1,selectSameAllowed:!1}],[{name:"Divine Health",description:"The divine magic flowing within you prevents disease from affecting you."}],[],[{name:"Extra Attack",description:"You can make an additional free attack after making an unarmed or weapon attack. If you gain the Extra Attack feature from more than one class, they don't add together."}],[{name:"Aura of Protection",description:"You and nearby allies gain a bonus to Saving Throws equal to your Charisma modifier."}],[],[],[],[{name:"Aura of Courage",description:"You and any nearby allies can't be Frightened. The aura disappears if you fall Unconscious."}],[{name:"Improved Divine Smite",description:"Whenever you hit a creature with a melee weapon, the creature takes an extra 1d8 Radiant damage."}],[]],featLevels:[4,8,12],subclassLevel:1,subclasses:[{name:"Oath of the Ancients",icon:"assets/img/classes/150px-Paladin_Oath_of_the_Ancients_Icon.png",description:"You fight on the side of light in the cosmic struggle against darkness to preserve the sanctity of life and the beauty of nature.",features:[[{name:"Healing Radiance",description:"Call upon your Oath to let nature heal all nearby allies. Allies immediately gain Proficiency Bonus + Paladin Level + Charisma Modifier hit points, and will regain the same amount at the start of your next turn. Can be used as a Bonus Action, and uses 1 Channel Oath Charge."}],[],[{name:"Nature's Wrath",description:"Invoke primaeval forces to restrain an enemy. For 10 turns, the target cannot move, Attack Rools against it have Advantage, and it's Attack Rools and Dexterity Saving Throws have Disadvantage. Strength Saving Throw negates the effects. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Turn the Faithless",description:"Channel your Oath using ancient words to Turn nearby fey and fiends. Wisdom Saving Throw negates the effect. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Oath Spells",description:"You gain the Speak with Animals and Ensnaring Strike spells from your oath. They are Always Prepared."}],[],[{name:"Oath Spells",description:"You gain the Misty Step and  Moonbeam spells from your oath. They are Always Prepared."}],[],[{name:"Aura of Warding",description:"You and any nearby allies take only half the damage from spells. The aura disappears if you fall Unconscious."}],[],[{name:"Oath Spells",description:"You gain the Protection from Energy and Plant Growth spells from your oath. They are Always Prepared."}],[],[],[]]},{name:"Oath of Devotion",icon:"assets/img/classes/150px-Paladin_Oath_of_Devotion_Icon.png",description:"Following the ideal of the knight in shining armour, you act with honour and virtue to protect the weak and pursue the greater good.",features:[[{name:"Holy Rebuke",description:"Call upon your Oath to grant a vengeful aura that lasts for 2 turns and deals 1d4 Radiant damage to anyone who hits them with a melee attack. Can be used as an Action, and uses 1 Channel Oath Charge."}],[],[{name:"Sacred Weapon",description:"Imbue the weapon in your main hand with positive energy to turn it into a Sacred Weapon for 10 turns. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Turn the Unholy",description:"Channel your Oath and speak a prayer to Turn nearby fiends and undead. Wisdom Saving Throw negates the effect. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Oath Spells",description:"You gain the Protection from Evil and Good, and Sanctuary spells from your oath. They are Always Prepared."}],[],[{name:"Oath Spells",description:"You gain the Lesser Restoration and Silence spells from your oath. They are Always Prepared."}],[],[{name:"Aura of Devotion",description:"You and any nearby allies can't be Charmed. The aura disappears if you fall Unconscious."}],[],[{name:"Oath Spells",description:"You gain the Remove Curse and Beacon of Hope spells from your oath. They are Always Prepared."}],[],[],[]]},{name:"Oath of Vengeance",icon:"assets/img/classes/150px-Paladin_Oath_of_Vengeance.png",description:"You have set aside even your own purity to right wrongs and deliver justice to those who have committed the most grievous sins.",features:[[{name:"Inquisitor's Might",description:"You or an ally's weapon attacks deal an additional 3 Radiant damage and can Daze enemies for 1 turn. Can be used as a Bonus Action, and uses 1 Channel Oath Charge."}],[],[{name:"Abjure Enemy",description:"Frighten an enemy. They'll be easier to hit and cannot move. Fiends and undead have Disadvantage on this Saving Throw. Wisdom Saving Throw negates the effect. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Vow of Enmity",description:"Gain Advantage on Attack Rolls against an enemy for 10 turns. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Oath Spells",description:"You gain the Bane and Hunter's Mark spells from your oath. They are Always Prepared."}],[],[{name:"Oath Spells",description:"You gain the Misty Step and Hold Person spells from your oath. They are Always Prepared."}],[],[{name:"Relentless Avenger",description:"If you hit an enemy with an Opportunity Attack, gain 4.5m / 15ft movement next turn."}],[],[{name:"Oath Spells",description:"You gain the Haste and Protection from Energy spells from your oath. They are Always Prepared."}],[],[],[]]},{name:"Oathbreaker",icon:"assets/img/classes/150px-Paladin_Oathbreaker_Icon.png",description:"You have broken your sacred Oath in pursuit of power and ambition. Only darkness remains to fuel you now.",features:[[{name:"Spiteful Suffering",description:"Steep an enemy in the darkness that churns within you. For 3 turns, the target takes 1d4 + Charisma Modifier Necrotic damage each turn and Attack Rolls against it have Advantage. Charisma Saving Throw negates the effects. Can be used as a Action, and uses 1 Channel Oath Charge."}],[],[{name:"Control Undead",description:"Use the power of your Oath to gain control over an undead creature. The undead will follow you around and attack your enemies. The target's level must be lower than yours. Wisdom Saving Throw negates the effects. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Dreadful Aspect",description:"Let your darkest emotions burst forth as a menacing pulse to Frighten enemies in a 9m / 30ft radius around you for 10 turns. Wisdom Saving Throw negates the effect. Can be used as an Action, and uses 1 Channel Oath Charge."},{name:"Oath Spells",description:"You gain the Hellish Rebuke and Inflict Wounds spells from your oath. They are Always Prepared."}],[],[{name:"Oath Spells",description:"You gain the Crown of Madness and Darkness spells from your oath. They are Always Prepared."}],[],[{name:"Aura of Hate",description:"You and any nearby fiends and undead gain additional damage to melee weapon attacks equal to your Charisma Modifier. The aura disappears if you fall Unconscious."}],[],[{name:"Oath Spells",description:"You gain the Bestow Curse and Animate Undead spells from your oath. They are Always Prepared."}],[],[],[]]}]},{name:"Ranger",icon:"assets/img/classes/Ranger_Class_Icon.png",flavorText:"Rangers are unrivalled scouts and trackers, honing a deep connection with nature in order to hunt their favoured prey.",description:"In tune with nature and their surroundings, Rangers utilize both their knowledge of the wilds and spellcasting to pursue their prey. Important Ability Scores for Rangers include Dexterity (or Strength), Constitution, and Wisdom.",savingThrowProficiencies:[B.Strength,B.Dexterity],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:MC,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor,C.MediumArmor,C.Shields,C.SimpleWeapons,C.MartialWeapons],initialEquipmentProficiencies:[],features:[[{name:"Bonus Skill Proficiency",description:"Choose one additional class skill in which to gain profiency.",skillSelection:MC,selectionCount:1,selectSameAllowed:!1},Ih,Th],[{name:"Fighting Style",description:"Choose 1 fighting style.",featureSelection:[{name:"Archery",description:"You gain a +2 bonus to Attack Rolls you make with ranged Weapons."},{name:"Defense",description:"You gain a +1 bonus to Armour Class while wearing Armour."},{name:"Duelling",description:"When you are wielding a melee weapon that is not Two-Handed or Versatile in one hand, and no weapon in the other, you deal an additional 2 damage with that weapon."},{name:"Two Weapon Fighting",description:"When you make an offhand attack, you can add your Ability Score Modifier to the damage of the attack."}],selectionCount:1,selectSameAllowed:!1}],[],[],[{name:"Extra Attack",description:"You can make an additional free attack after making an unarmed or weapon attack. If you gain the Extra Attack feature from more than one class, they don't add together."}],[Ih,Th],[],[{name:"Land's Stride",description:"Difficult Terrain no longer slows you down."}],[],[{name:"Hide in Plain Sight",description:"Become Invisible and gain +10 bonus to Stealth Checks as long as you stand still."},Ih,Th],[],[]],featLevels:[4,8,12],subclassLevel:3,subclasses:[{name:"Hunter",icon:"assets/img/classes/Hunter_Icon.png",description:"Hunters seek the most dangerous prey in Faer\xfbn, from ancient dragons to massive hordes of undead, and excel at slaying them all.",features:[[],[],[{name:"Hunter's Prey",description:"Choose 1 type of prey.",featureSelection:[{name:"Colossus Slayer",description:"Once per turn, your weapon attack deals an extra 1d8 damage if the target is below its Hit Point maximum."},{name:"Giant Killer",description:"Once per turn, your weapon attack deals an extra 1d8 damage if the target is below its Hit Point maximum."},{name:"Horde Breaker",description:"Target two creatures standing close to each other, attacking them in quick succession."}],selectionCount:1,selectSameAllowed:!1}],[],[],[],[{name:"Defensive Tactics",description:"Choose 1 Defensive Tactic.",featureSelection:[{name:"Escape the Horde",description:"Opportunity Attacks against you have Disadvantage."},{name:"Steel Will",description:"Advantage on Saving Throws against being Frightened."},{name:"Multiattack Defence",description:"When a enemy attacks you, they suffer -4 penalty to additional Attack Rolls against you until start of their next turn."}],selectionCount:1,selectSameAllowed:!1}],[],[],[],[{name:"Volley",description:"Fire a cascade of arrows upon nearby enemies."},{name:"Whirlwind Attack",description:"Whirl your body around striking all nearby foes."}],[]]},{name:"Beast Master",icon:"assets/img/classes/Beast_Master_Icon.png",description:"Beast Masters bind themselves to an animal companion, sharing an intelligent bond that flourishes in and out of combat.",features:[[],[],[{name:"Summon Companion",description:"Gain a beast companion that accompanies you on your adventures and fights alongside you. You can summon a Bear, Boar, Dire Raven, Wolf, or Wolf Spider. It's Hit Points and damage scale with your level."}],[],[{name:"Companion's Bond",description:"The bond between you and your companion grows stronger. Your Proficiency Bonus is added to its Armour Class and damage rolls."}],[],[{name:"Exceptional Training",description:"Your companion is now able to Dash, Disengage, and Help as a Bonus Action."}],[],[],[],[{name:"Bestial Fury",description:"The bond between you and your companion has deepened. Your Summon Companion gains an Extra Attack."}],[]]},{name:"Gloom Stalker",icon:"assets/img/classes/150px-Gloom_Stalker_Icon.png",description:"Emerging like a horrible gift from the envelope of darkness and shadow, you ambush and put down your foes before they can even scream.",features:[[],[],[{name:"Dread Ambusher",description:"You specialise in taking out foes swiftly and ruthlessly. You gain a +3 bonus to Initiative. On the first turn of combat, your Movement Speed increases by 3\u202fm / 10\u202fft, and you can make an extra attack that deals an additional 1d8 damage. As a Bonus Action, you can Hide from enemies by succeeding on Stealth Checks. Attacking or casting a spell will make you visible."},{name:"Umbral Shroud",description:"Use an Action to wrap yourself in shadows to become Invisible for 10 turns if you are obscured. Invisibility ends early if you attack, cast another spell, take an action, or take damage. Can be used once per Short Rest."},{name:"Superior Darkvision",description:"You can see in the dark up to 24m / 80ft."},{name:"Gloom Stalker Spells",description:"You gain the Disguise Self spell. It is always prepared."}],[],[{name:"Gloom Stalker Spells",description:"You gain the Misty Step spell. It is always prepared."}],[],[{name:"Iron Mind",description:"You gain Proficiency in Wisdom and Intelligence Saving Throws."}],[],[{name:"Gloom Stalker Spells",description:"You gain the Fear spell. It is always prepared."}],[],[{name:"Stalker's Flurry",description:"When you miss with a weapon attack, you can make another one for free."}],[]]}]},{name:"Rogue",icon:"assets/img/classes/Rogue_Class_Icon.png",flavorText:"With stealth, skill, and uncanny reflexes, a rogue's versatility lets them get the upper hand in almost any situation.",description:"Rogues are well versed in the art of stealth and rely on their resourcefulness to be in control of any challenging situation. Rogues use Dexterity as their primary ability score.",savingThrowProficiencies:[B.Dexterity,B.Intelligence],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:RC,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor],initialEquipmentProficiencies:[C.SimpleWeapons,C.HandCrossbows,C.Longswords,C.Rapiers,C.Shortswords],features:[[{name:"Bonus Skill Proficiency",description:"Choose one additional class skill in which to gain profiency.",skillSelection:RC,selectionCount:1,selectSameAllowed:!1},{name:"Skill Expertise",description:"Gain Expertise in 2 Skills you are proficient in.",skillExpertiseSelection:!0,selectionCount:2,selectSameAllowed:!1},{name:"Sneak Attack",description:"Deal an extra 1d6 damage to a foe you have Advantage against. You can also use Sneak Attack if you have an ally within 1.5m / 5ft of the target and you don't have Disadvantage."}],[{name:"Cunning Action",description:"You can use Dash, Disengage, and Hide as a Bonus Action."}],[],[],[{name:"Uncanny Dodge",description:"Use your lightning-quick reflexes to protect yourself. When an attack hits you, you only take half the usual damage."}],[{name:"Skill Expertise",description:"Gain Expertise in 2 Skills you are proficient in.",skillExpertiseSelection:!0,selectionCount:2,selectSameAllowed:!1}],[{name:"Evasion",description:"Your agility lets you dodge out of the way of certain spells. When a spell or effect would deal half damage on a successful Dexterity Saving Throw, it deals no damage if you succeed, and only half damage if you fail."}],[],[],[],[{name:"Reliable Talent",description:"When you make an Ability Check with a Skill you are Proficient with, the lowest result you can roll on the die is 10."}],[{}]],featLevels:[4,8,10,12],subclassLevel:3,subclasses:[{name:"Arcane Trickster",icon:"assets/img/classes/150px-Class_Rogue_Arcane_Trickster_Badge_Icon.png",description:"Arcane Tricksters are rogues with a clever touch of magic, using illusions and enchantments to keep their opponents on the back foot.",features:[[],[],[{name:"Mage Hand Legerdemain",description:"You learn the Mage Hand Cantrip. When you cast it, the spectral hand is invisible and can carry out additional tasks. It also doesn't expire until destroyed",effect:{spells:[jl]}}],[],[],[],[],[],[],[],[],[]]},{name:"Thief",icon:"assets/img/classes/150px-Class_Rogue_Thief_Badge_Icon.png",description:"Thieves use their skills in stealth and larceny to acquire whatever they wish, whether from a third story window or the depths of long-forgotten ruins.",features:[[],[],[{name:"Fast Hands",description:"Gain an additional Bonus Action."},{name:"Second-Story Work",description:"You've mastered the art of falling and gain Resistance to Falling damage."}],[],[],[],[],[],[{name:"Supreme Sneak",description:"Blend into the environment so completely that you become Invisible for 10 turns. Can be used once per Short Rest."}],[],[],[]]},{name:"Assassin",icon:"assets/img/classes/150px-Class_Rogue_Assassin_Badge_Icon.png",description:"You prefer to deal sublime punishment to a single foe at a time - not in a duel, mind, because a duel implies chivalry, and you're too busy getting the job done for honour.",features:[[],[],[{name:"Assassin's Alacrity",description:"Quick as an alley cat in a rain-dark city, you immediately restore your Action and Bonus Action at the start of combat."},{name:"Assassinate",description:"Any successful Attack Roll against a Surprised creature is a Critical Hit. Moreover, you have Advantage on Attack Rolls against creatures that haven't taken a turn yet."}],[],[],[],[],[],[{name:"Infiltration Expert",description:"Adopt a new identity, changing your appearance."}],[],[],[]]}]},{name:"Sorcerer",icon:"assets/img/classes/150px-Sorcerer_Class_Icon.png",flavorText:"Sorcerers are natural spellcasters, drawing on inherent magic from a gift or bloodline.",description:"Sorcerers use their innate magical powers to fight enemies and aid allies in combat. Sorcerers use Charisma as their primary ability score.",savingThrowProficiencies:[B.Charisma,B.Constitution],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:uB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[],initialEquipmentProficiencies:[C.Daggers,C.Quarterstaves,C.LightCrossbows],features:[[],[{name:"Metamagic",description:"Choose 2 Metamagic abilities.",featureSelection:[{name:"Careful Spell",description:"Allies automatically succeed Saving Throws against spells that required them. Costs 1 Sorcery Point per spell."},{name:"Distant Spell",description:"Increases the range of the spell by 50%. Spells with a range of 1.5m / 5ft are increased to 9m / 30ft. Costs 1 Sorcery Point per spell."},{name:"Extended Spell",description:"Doubles the duration of Conditions, summons, and surfaces caused by spells. Costs 1 Sorcery Point per spell."},{name:"Twinned Spell",description:"Spells that only target 1 creature can target an additional creature. Costs 1 Sorcery Point per Spell Slot level used. Cantrips also cost 1 Sorcery Point."}],selectionCount:2,selectSameAllowed:!1},{name:"Create Spell Slot",description:"Spend Sorcery Points to unlock a Spell Slot, as a Bonus Action."},{name:"Create Sorcery Points",description:"Spend Spell Slots to gain Sorcery Points equal to the slot's level, as a Bonus Action."}],[{name:"Metamagic",description:"Choose 1 additional Metamagic ability.",featureSelection:[{name:"Careful Spell",description:"Allies automatically succeed Saving Throws against spells that required them. Costs 1 Sorcery Point per spell."},{name:"Distant Spell",description:"Increases the range of the spell by 50%. Spells with a range of 1.5m / 5ft are increased to 9m / 30ft. Costs 1 Sorcery Point per spell."},{name:"Extended Spell",description:"Doubles the duration of Conditions, summons, and surfaces caused by spells. Costs 1 Sorcery Point per spell."},{name:"Twinned Spell",description:"Spells that only target 1 creature can target an additional creature. Costs 1 Sorcery Point per Spell Slot level used. Cantrips also cost 1 Sorcery Point."},{name:"Heightened Spell",description:"Targets of spells that require Saving Throws have Disadvantage on their first Saving Throw. Costs 3 Sorcery Point per spell."},{name:"Quickend Spell",description:"Spells that take an Action take a Bonus Action instead. Costs 3 Sorcery Point per spell."},{name:"Sutble Spell",description:"You can cast spells while Silenced. Costs 1 Sorcery Point per spell."}],selectionCount:1,selectSameAllowed:!1}],[],[{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die."}],[],[],[],[],[{name:"Metamagic",description:"Choose 1 additional Metamagic ability.",featureSelection:[{name:"Careful Spell",description:"Allies automatically succeed Saving Throws against spells that required them. Costs 1 Sorcery Point per spell."},{name:"Distant Spell",description:"Increases the range of the spell by 50%. Spells with a range of 1.5m / 5ft are increased to 9m / 30ft. Costs 1 Sorcery Point per spell."},{name:"Extended Spell",description:"Doubles the duration of Conditions, summons, and surfaces caused by spells. Costs 1 Sorcery Point per spell."},{name:"Twinned Spell",description:"Spells that only target 1 creature can target an additional creature. Costs 1 Sorcery Point per Spell Slot level used. Cantrips also cost 1 Sorcery Point."},{name:"Heightened Spell",description:"Targets of spells that require Saving Throws have Disadvantage on their first Saving Throw. Costs 3 Sorcery Point per spell."},{name:"Quickend Spell",description:"Spells that take an Action take a Bonus Action instead. Costs 3 Sorcery Point per spell."},{name:"Sutble Spell",description:"You can cast spells while Silenced. Costs 1 Sorcery Point per spell."}],selectionCount:1,selectSameAllowed:!1},{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die."}],[],[]],featLevels:[4,8,12],subclassLevel:1,subclasses:[{name:"Draconic Bloodline",icon:"assets/img/classes/Draconic_Bloodline_Subclass_Icon.png",description:"Your veins carry draconic magic, the result of a powerful dragon ancestor.",features:[[{name:"Draconic Resilience",description:"Your maximum Hit Points increase by 1 for each Sorcerer Level. Dragon-like scales cover parts of your skin. When you aren't wearing Armour, your Base Armour Class is 13 + Dexterity Modifier."},{name:"Draconic Ancestry",description:"Choose 1 type of Draconic Ancestry.",featureSelection:[{name:"Red (Fire)",description:"Fire is the damage type associated with your dragon ancestor. Burning Hands is added to your spell list.",effect:{spells:[EC]}},{name:"Black (Acid)",description:"Acid is the damage type associated with your dragon ancestor. Grease is added to your spell list."},{name:"Blue (Lightning)",description:"Lightning is the damage type associated with your dragon ancestor. Witch Bolt is added to your spell list."},{name:"White (Cold)",description:"Cold is the damage type associated with your dragon ancestor. Armour of Agathys is added to your spell list."},{name:"Green (Poison)",description:"Poison is the damage type associated with your dragon ancestor. Ray of Sickness is added to your spell list."},{name:"Gold (Fire)",description:"Fire is the damage type associated with your dragon ancestor. Disguise Self is added to your spell list."},{name:"Silver (Cold)",description:"Cold is the damage type associated with your dragon ancestor. Feather Fall is added to your spell list."},{name:"Bronze (Lightning)",description:"Lightning is the damage type associated with your dragon ancestor. Fog Cloud is added to your spell list."},{name:"Copper (Acid)",description:"Acid is the damage type associated with your dragon ancestor. Tasha's Hideous Laughter is added to your spell list."},{name:"Brass (Fire)",description:"Fire is the damage type associated with your dragon ancestor. Sleep is added to your spell list."}],selectionCount:1,selectSameAllowed:!1}],[],[],[],[],[{name:"Elemental Affinity",description:"When you cast a spell that deals damage of the type associated with your draconic ancestry, you add your Charisma modifier to the damage. Moreover, you can spend 1 Sorcery Point to gain Resistance to that damage type."}],[],[],[],[],[{name:"Flight",description:"You can now fly at will using your movement speed."}],[]]},{name:"Wild Magic",icon:"assets/img/classes/Wild_Magic_Subclass_Icon.png",description:"Your powers come from ancient forces of chaos. They churn within you -- waiting to burst free at any time.",features:[[{name:"Wild Magic",description:"Wild Magic stems from the forces of chaos. It churns within the sorcerers that wield it, waiting to burst free. Each time you cast a Spell of level 1 or higher, your magic might surge and trigger a random magical effect."},{name:"Tides of Chaos",description:"Activate to gain Advantage on your next Attack Roll, Ability Check, or Saving Throw. Increased chance of Wild Magic surge afterwards. Can be used once per Short Rest."}],[],[],[],[],[{name:"Bend Luck",description:"Spend 2 Sorcery Points as a free action to give a target a 1d4 bonus or a 1d4 penalty to all Ability Checks for two turns, or spend 2 Sorcery Points as a reaction to give a target a 1d4 bonus or a 1d4 penalty on a single Attack Roll or Saving Throw."}],[],[],[],[],[{name:"Controlled Chaos",description:"When an enemy casts a spell, spend your reaction to cause a Wild Magic Surge near the enemy . This Wild Magic Surge is more likely to be negative."}],[]]},{name:"Storm Sorcery",icon:"assets/img/classes/150px-Storm_Sorcery_Subclass_Icon.png",description:"Whether crackling with the energy of ancient deluges or pierced by gales and hurricanes, your lineage is a strange tapestry scrawled by a tempest.",features:[[{name:"Tempestuous Magic",description:"After you cast a Spell of level 1 or higher you can Fly as a Bonus Action until the end of your turn without receiving Opportunity Attacks. The distance you fly is up to 9m / 30ft."}],[],[],[],[],[{name:"Heart of the Storm",description:"When you cast a Spell of level 1 or higher that deals Lightning or Thunder damage, you cause a small, local storm. All enemies within 6m / 20ft take additional Lightning or Thunder damage equal to half your Sorcerer level. Moreover, you are Resistant to Lightning and Thunder damage."}],[],[],[],[],[{name:"Storm's Fury",description:"When you are hit by a melee attack, you deal Lightning equal to your Sorcerer level to the attacker. The attacker will also have to make a Strength Saving Throw. On a failed save, the attacker is pushed away from you 6m / 20ft in a straight line."}],[]]}]},{name:"Warlock",icon:"assets/img/classes/Warlock_Class_Icon.png",flavorText:"Bound by a pact to an all-powerful patron, Warlocks trade their loyalty for supernatural abilities and unique magic.",description:"Warlocks channel their patron's pact magic to fight enemies and aid allies in combat. Warlocks use Charisma as their primary ability score.",savingThrowProficiencies:[B.Charisma,B.Wisdom],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:dB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[C.LightArmor,C.SimpleWeapons],initialEquipmentProficiencies:[],features:[[{name:"Pact Magic",description:'Warlock spell slots are equal to the highest level of Spells the Warlock has access to. Casting a lower level Spell will always "upcast" it to the highest level available. Warlocks have a very limited number of spell slots, but also regain those slots by taking a Short Rest or Long Rest.'}],[{name:"Eldritch Invocation",description:"Choose 2 eldritch invocations.",featureSelection:ms,selectionCount:2,selectSameAllowed:!1}],[{name:"Pact Boon",description:"Choose 1 Warlock pact boon.",featureSelection:[{name:"Pact of the Chain",description:"Gain the service of a familiar, a fey spirit that takes a form you choose. This can be an animal, imp, or quasit."},{name:"Pact of the Blade",description:"You can Summon a pact weapon, or Bind the one you are wielding, making it magical. Pact weapons use the wielder's Spellcasting Ability Modifier instead of Strength or Dexterity."},{name:"Pact of the Tome",description:"Your patron grants you a grimoire called 'The Book of Shadows', which allows you to cast Guidance, Vicious Mockery, and Thorn Whip."}],selectionCount:1,selectSameAllowed:!1}],[],[{name:"Eldritch Invocation",description:"Choose 1 eldritch invocation.",featureSelection:ms.concat(Ul),selectionCount:1,selectSameAllowed:!1},{name:"Deepened Pact",description:"Pleased with your service, your otherworldly patron added new boons to the terms of your pact. Pact of the Blade: Gain an Extra Attack with your pact weapon. Pact of the Chain: Your familiar gains an Extra Attack. Pact of the Tome: You can cast Animate Dead, Haste, and Call Lightning once per Long Rest."},{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die. Unlike other cantrips, Eldritch Blast instead fires an additional beam, allowing you to attack two targets once or the same target twice."}],[],[{name:"Eldritch Invocation",description:"Choose 1 eldritch invocation.",featureSelection:ms.concat(Ul).concat(Ah),selectionCount:1,selectSameAllowed:!1}],[],[{name:"Eldritch Invocation",description:"Choose 1 eldritch invocation.",featureSelection:ms.concat(Ul).concat(Ah).concat(PC),selectionCount:1,selectSameAllowed:!1}],[{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die. Unlike other cantrips, Eldritch Blast instead fires an additional beam, allowing you to attack two targets once or the same target twice."}],[{name:"Mystic Arcanum",description:"Your patron bestows upon you a magical secret called an arcanum. Choose one 6th Level spell from the Warlock Spell list. You can cast your arcanum spell once without expending a spell slot. You must finish a long rest before you can do so again."}],[{name:"Eldritch Invocation",description:"Choose 1 eldritch invocation.",featureSelection:ms.concat(Ul).concat(Ah).concat(PC).concat([{name:"Lifedrinker",description:"Your melee attacks deal additional necrotic damage equal to your Charisma modifier."}]),selectionCount:1,selectSameAllowed:!1}]],featLevels:[4,8,12],subclassLevel:1,subclasses:[{name:"The Archfey",icon:"assets/img/classes/150px-The_Archfey_Subclass_Icon.png",description:"Graced by a lady or lord of the fey, you are imbued with all the sumptuous and scary qualities of your patron's extraordinary realm.",features:[[{name:"Fey Presence",description:"Charm or Frighten nearby foes with the feywild's beguiling, disturbing magics, for 2 turns. A successful Wisdom Save negates the effects. Can be used once per Short Rest."},{name:"Expanded Spell List",description:"You add the 1st level spells Faerie Fire and Sleep to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 2nd level spells Calm Emotions and Phantasmal Force to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 3rd level spells Blink and Plant Growth to your spell list."}],[{name:"Misty Escape",description:"Upon taking damage, become Invisible. On your next turn, you can cast Misty Step, though this will break your invisibility."}],[{name:"Expanded Spell List",description:"You add the 4th level spells Dominate Beast and Greater Invisibility to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 5th level spells Dominate Person and Seeming to your spell list."}],[{name:"Beguiling Defenses",description:"You are immune to being charmed."}],[],[]]},{name:"The Fiend",icon:"assets/img/classes/The_Fiend_Subclass_Icon.png",description:"Warlocks in service to fiends work toward corrupting, destructive ends -- intentionally or otherwise -- and receive hellish blessings in turn.",features:[[{name:"Dark One's Blessing",description:"Whenever you reduce a hostile creature to 0 Hit Points, this gift from your patron grants you Charisma Modifier + Warlock Level temporary hit points."},{name:"Expanded Spell List",description:"You add the 1st level spells Burning Hands and Command to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 2nd level spells Blindness and Scorching Ray to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 3rd level spells Fireball and Stinking Cloud to your spell list."}],[{name:"Dark One's Own Luck",description:"Call on your patron to change your fate and add a 1d10 to an Ability Check once per short rest."}],[{name:"Expanded Spell List",description:"You add the 4th level spells Wall of Fire and Fire Shield to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 5th level spells Cone of Cold and Flame Strike to your spell list."}],[{name:"Fiendish Resilience",description:"Choose a damage type and become Resistant to it. You can pick a new damage type each Short Rest."}],[],[]]},{name:"The Great Old One",icon:"assets/img/classes/The_Great_Old_One_Subclass_Icon.png",description:"Warlocks bound to eldritch beings in the Far Realms work toward inscrutable goals, gaining strange powers over entropy and the mind.",features:[[{name:"Mortal Reminder",description:"When you land a Critical Hit against a creature, that creature and any nearby enemies must succeed a Wisdom Saving Throw or become Frightened until the end of their next turn."},{name:"Expanded Spell List",description:"You add the 1st level spells Dissonant Whispers and Tasha's Hideous Laughter to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 2nd level spells Detect Thoughts and Phantasmal Force to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 3rd level spells Bestow Curse and Slow to your spell list."}],[{name:"Entropic Ward",description:"Impose Disadvantage on an Attack Roll against you as a Reaction. If the attack misses, you gain Advantage on your next Attack Roll against the attacker for 1 turn."}],[{name:"Expanded Spell List",description:"You add the 4th level spells Dominate Beast and Evard's Black Tentacles to your spell list."}],[],[{name:"Expanded Spell List",description:"You add the 5th level spells Dominate Person and Telekinesis to your spell list."}],[{name:"Thought Shield",description:"An elder being shields your brain. You gain Resistance to Psychic damage. When you take Psychic damage, your attacker takes the same damage."}],[],[]]}]},{name:"Wizard",icon:"assets/img/classes/Wizard_Class_Icon.png",flavorText:"Wizards master the arcane by specialising in individual schools of magic, combining ancient spells with modern research.",description:"Wizards channel magic through their extensive knowledge of the arcane to fight enemies and aid allies in combat. Wizards use Intelligence as their primary ability score.",savingThrowProficiencies:[B.Intelligence,B.Wisdom],skillProficiencies:{name:"Skill Proficiency",description:"Choose two class skills in which to gain profiency.",skillSelection:fB,selectionCount:2,selectSameAllowed:!1},equipmentProficiencies:[],initialEquipmentProficiencies:[C.Daggers,C.Quarterstaves,C.LightCrossbows],features:[[{name:"Arcane Recovery",description:"Once per day out of combat, you can replenish expended Spell Slots."}],[],[],[],[{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die."}],[],[],[],[],[{name:"Cantrip Damage Boost",description:"Damage rolls for cantrips roll an additional die."}],[],[]],featLevels:[4,8,12],subclassLevel:2,subclasses:[{name:"Abjuration School",icon:"assets/img/classes/Abjuration_School_Subclass_Icon.png",description:"Abjuration spells summon wards, banish enemies, and nullify magic, suitable for those who wish to defend themselves and others.",features:[[],[{name:"Abjuration Savant",description:"Halves the cost to learn Abjuration spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Arcane Ward",description:"The residual magic of your spells forms a ward around you that protects you from harm. Each time you cast an Abjuration spell, the intensity of the ward increases by the amount of the spell's Level, up to a maximum of 2x your Wizard level. Each time you take damage, the ward blocks an amount of damage equal to its intensity, and its intensity decreases by 1. After each Long Rest, the ward's intensity resets, and becomes the same as your Wizard level."}],[],[],[],[{name:"Projected Ward",description:"As a reaction, when a nearby ally takes damage you can sacrifice your Arcane Ward to reduce the damage they take, and its intensity reduces by 1."}],[],[],[],[{name:"Improved Abjuration",description:"Each time you take a Short Rest the intensity of your Arcane Ward increases by an amount equal to your Wizard level."}],[],[]]},{name:"Conjuration School",icon:"assets/img/classes/150px-Wizard_conjuration.png",description:"Compelled by shape and motion, your favoured arcane style involves summoning creatures and objects, as well as displacing them in space.",features:[[],[{name:"Conjuration Savant",description:"Halves the cost to learn Conjuration spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Minor Conjuration (Create Water)",description:"Gain the ability to cast the Create Water spell without consuming a spell slot, once per Short Rest."}],[],[],[],[{name:"Benign Transposition",description:"Gain the ability to teleport yourself to an unoccupied space or swap with an ally (of size Medium or Small) within Range9m / 30ft. Once used, this action cannot be reused until after a Long Rest or casting a Conjuration Spell of Level 1 or higher."}],[],[],[],[{name:"Focused Conjuration",description:"Damage taken while you are Concentrating on a Conjuration spell will not break your concentration."}],[],[]]},{name:"Divination School",icon:"assets/img/classes/150px-Wizard_divination.png",description:"You peer through time itself and can sculpt the future, like temporal clay, into a more favourable form.",features:[[],[{name:"Divination Savant",description:"Halves the cost to learn Divination spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Portent",description:"Your dreams grant you glimpses that let you influence the future. After each Long Rest you gain two random Portent Dice. During the day, you can use your reaction to change the die of any Attack Roll or Saving Throw rolled within Range18m / 60ft of you to one of your Portent Dice. Each Portent Die can only be used once, and you lose your unused Portent Dice at the end of the day."}],[],[],[],[{name:"Expert Divination",description:"You may gain an additional Portent Die: when taking a Short Rest you receive a Prophecy. Complete it to regain a missing Portent Die."}],[],[],[],[{name:"Third Eye",description:"Once per long rest, use an action to gain Superior Darkvision and cast See Invisibility without expending a Spell Slot."}],[],[]]},{name:"Enchantment School",icon:"assets/img/classes/150px-Wizard_enchantment.png",description:"Your magic influences, beguiles, and bends the will and conviction of those around you.",features:[[],[{name:"Enchantment Savant",description:"Halves the cost to learn Enchantment spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Hypnotic Gaze",description:"Once per Long Rest, use an action to target a non-ally creature within Range1.5m / 5ft. The target must succeed on a Wisdom icon.png Wisdom Saving Throw or become charmed and incapacitated for 2 turns. As an action, while still within range, you can maintain the charm, extending the charm for another 2 turns. If the target takes damage, the effect ends."}],[],[],[],[{name:"Instinctive Charm",description:"As a Reaction, charm an enemy that attacks you. They must succeed on a Wisdom saving throw or attack a new target if possible. If a target succeeds on its saving throw, it cannot be affected by this ability until after a long rest."}],[],[],[],[{name:"Split Enchantment",description:"You know your enchantments inside and out. You can target 2 creatures with Enchantment spells that would normally only target 1 creature."}],[],[]]},{name:"Evocation School",icon:"assets/img/classes/Evocation_School_Subclass_Icon.png",description:"Evocation spells focus elemental energy into powerful attacks and enchantments. Those who specialise in this school are known as evokers.",features:[[],[{name:"Evocation Savant",description:"Halves the cost to learn Evocation spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Sculpt Spells",description:"Create pockets of safety within your Evocation spells. Allies automatically succeed their Saving Throws and take no damage from these spells."}],[],[],[],[{name:"Potent Cantrip",description:"Your Cantrips become harder to evade entirely. When a creature succeeds its Saving Throw against one of your cantrips, it still takes half the cantrip's damage, but suffers no additional effects."}],[],[],[],[{name:"Empowered Evocation",description:"Your grasp of Evocation magic has tightened, and you can add your Intelligence Modifier to damage rolls with any Evocation spells."}],[],[]]},{name:"Illusion School",icon:"assets/img/classes/150px-Wizard_illusion.png",description:"You specialise in unravelling and restitching the fabric of reality to fool the unwary, the gullible, and the monstrous.",features:[[],[{name:"Illusion Savant",description:"Halves the cost to learn Illusion spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Improved Minor Illusion",description:"You can cast Minor Illusion as a Bonus Action. You can remain hidden while casting this spell. This spell can be cast while you are Silenced."}],[],[],[],[{name:"See Invisibility",description:"Once per Short Rest, as an Action, you can cast the spell See Invisibility without consuming a Spell Slot."}],[],[],[],[{name:"Illusory Self",description:"As a Reaction, you magically fashion an illusory duplicate of yourself when attacked, causing the attack to miss. After use, this ability cannot be used until after a short rest."}],[],[]]},{name:"Necromancy School",icon:"assets/img/classes/150px-Wizard_necromancy.png",description:"You walk through the valley of the shadow of death, and make lots of friends there.",features:[[],[{name:"Necromancy Savant",description:"Halves the cost to learn Necromancy spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Grim Harvest",description:"Once per turn, if you kill a creature with a spell, you regain Hit Points equal to twice the Spell Slot level used - thrice if it's a Necromancy spell. Undead and Constructs are unaffected."}],[],[],[],[{name:"Undead Thralls",description:"You gain the Animate Dead spell, if you didn't have it already. When you use Animate Dead, you can raise an additional corpse. Creatures created with Animate Dead have additional hit points equal to your Wizard level, and your Proficiency Bonus is added to their damage."}],[],[],[],[{name:"Inured to Undeath",description:"You have steeped youself so completely in death that you are Resistant to Necrotic damage, and your hit point maximum cannot be reduced."}],[],[]]},{name:"Transmutation School",icon:"assets/img/classes/150px-Wizard_transmutation.png",description:"Your innate fascination with the structure of things has granted you an incredible power over crude matter and its manipulation.",features:[[],[{name:"Transmutation Savant",description:"Halves the cost to learn Transmutation spells from Scrolls. Learning these spells will only cost 25gp per spell level."},{name:"Experimental Alchemy",description:"You brew two Alchemical Solutions instead of one when combining extracts, if you succeed a Difficulty Class 15 Medicine Check."}],[],[],[],[{name:"Transmuter's Stone",description:"You can create Transmuter's Stones, storing some of your transmutation magic. A creature carrying the stone gains a benefit of your choice: Darkvision, Proficiency in Constitution Saving Throws, Movement Speed increased by 3m / 10ft, or Resistance to Acid, Cold, Fire, Lightning, or Thunder. Once you have created a stone, you must cast a Transmutation spell of level 1 or above or finish a Long Rest before you can create another one. Only one stone can be active at a time."}],[],[],[],[{name:"Shapechanger",description:"Transform into a blue jay, able to Fly. If the blue jay's Hit Points drop to 0, the target reverts to its original form with its original hit points."}],[],[]]}]}],ys=[{name:"Acolyte",icon:"assets/img/backgrounds/150px-Background_Acolyte_Icon.png",description:"You have spent your life in service to a temple, learning sacred rites and providing sacrifices to the god or gods you worship. Serving the gods and discovering their sacred works will guide you to greatness.",proficiencies:[S.Insight,S.Religion]},{name:"Charlatan",icon:"assets/img/backgrounds/150px-Background_Charlatan_Icon.png",description:"You\u2019re an expert in manipulation, prone to exaggeration and more than happy to profit from it. Bending the truth and turning allies against each other will lead to greater success down the road.",proficiencies:[S.Deception,S.SleightOfHand]},{name:"Criminal",icon:"assets/img/backgrounds/150px-Background_Criminal_Icon.png",description:"You have a history of breaking the law and survive by leveraging less-than-legal connections. Profiting from criminal enterprise will lead to greater opportunities in the future.",proficiencies:[S.Deception,S.Stealth]},{name:"Entertainer",icon:"assets/img/backgrounds/150px-Background_Entertainer_Icon.png",description:"You live to sway and subvert your audience, engaging common crowds and high society alike. Preserving art and bringing joy to the hapless and downtrodden heightens your charismatic aura.",proficiencies:[S.Acrobatics,S.Performance]},{name:"Folk Hero",icon:"assets/img/backgrounds/150px-Background_Folk_Hero_Icon.png",description:"You\u2019re the champion of the common people, challenging tyrants and monsters to protect the helpless. Saving innocents in imminent danger will make your legend grow.",proficiencies:[S.AnimalHandling,S.Survival]},{name:"Guild Artisan",icon:"assets/img/backgrounds/150px-Background_Guild_Artisan_Icon.png",description:"Your skill in a particular craft has earned you membership in a mercantile guild, offering privileges and protection while engaging in your art. Repairing and discovering rare crafts will bring new inspiration.",proficiencies:[S.Insight,S.Persuasion]},{name:"Noble",icon:"assets/img/backgrounds/150px-Background_Noble_Icon.png",description:"You were raised in a family among the social elite, accustomed to power and privilege. Accumulating renown, power, and loyalty will raise your status.",proficiencies:[S.History,S.Persuasion]},{name:"Outlander",icon:"assets/img/backgrounds/150px-Background_Outlander_Icon.png",description:"You grew up in the wilds, learning to survive far from the comforts of civilisation. Surviving unusual hazards of the wild will enhance your prowess and understanding.",proficiencies:[S.Athletics,S.Survival]},{name:"Sage",icon:"assets/img/backgrounds/150px-Background_Sage_Icon.png",description:"You\u2019re curious and well-read, with an unending thirst for knowledge. Learning about rare lore of the world will inspire you to put this knowledge to greater purpose.",proficiencies:[S.Arcana,S.History]},{name:"Soldier",icon:"assets/img/backgrounds/150px-Background_Soldier_Icon.png",description:"You are trained in battlefield tactics and combat, having served in a militia, mercenary company, or officer corps. Show smart tactics and bravery on the battlefield to enhance your prowess.",proficiencies:[S.Athletics,S.Intimidation]},{name:"Urchin",icon:"assets/img/backgrounds/150px-Background_Urchin_Icon.png",description:"After surviving a poor and bleak childhood, you know how to make the most out of very little. Using your street smarts bolsters your spirit for the journey ahead.",proficiencies:[S.SleightOfHand,S.Stealth]},{name:"Haunted One",icon:"assets/img/backgrounds/150px-Background_HauntedOne_Icon.png",description:"A wicked moment, person, or thing that cannot be slain by sword or spell haunts your mind and flickers in your peripheral vision. You carry it wherever your adventure takes you - or perhaps it carries you.",proficiencies:[S.Medicine,S.Intimidation],requirements:"Only available to 'The Dark Urge' origin characters."}],Mh=[{name:"Ability Improvement",icon:"assets/img/feats/40px-Passive_Feature_Generic_Icon.png",description:"Increase one Ability Score by 2, or two Ability Scores by 1. You can't increase an Ability Score above 20 using this feature.",abilitySelection:en,selectionCount:2,selectSameAllowed:!0,canReselect:!0},{name:"Actor",icon:"assets/img/feats/40px-Passive_Feature_Generic_Icon.png",description:"Your Charisma increases by 1, to a maximum of 20. Your gain Proficiency in Deception and Performance and your proficiency bonus is doubled for these skills.",effect:{skillProficiencies:[S.Performance,S.Deception],abilityScoreIncrease:new Map([[B.Charisma,1]])},canReselect:!1},{name:"Alert",icon:"assets/img/feats/40px-Alert_Icon.png",description:"You gain a +5 bonus to Initiative and can't be Surprised.",canReselect:!1},{name:"Athlete",icon:"assets/img/feats/40px-Athlete_Icon.png",description:"Your Strength or Dexterity increases by 1, to a maximum of 20. When you are Prone, standing up uses significantly less movement. Your Jump distance also increases by 50%.",abilitySelection:[B.Strength,B.Dexterity],selectionCount:1,selectSameAllowed:!0,canReselect:!1},{name:"Charger",icon:"assets/img/feats/40px-Charger_Icon.png",description:"You gain the Charge weapon attach, which uses both an action and bonus action to charge up to 9m and make a melee attack that deals +5 damage without provoking an Attack of Opportunity. You also gain the Shove attack, allowing you to charge forward and shove the first enemy in your way.",canReselect:!1},{name:"Crossbow Expert",icon:"assets/img/feats/40px-PassiveFeature_CrossbowExpert_BonusShot.png",description:"When you make crossbow attacks within melee range, the Attack Rolls do not have Disadvantage. Your Piercing Shot also inflicts Gaping Wounds (Condition) for twice as long.",canReselect:!1},{name:"Defensive Duelist",icon:"assets/img/feats/40px-Defensive_Duellist_Icon.png",description:"When you are attacked with a melee attack while wielding a Finesse Weapon you are Proficient in, you can use a Reaction to increase your Armour Class by your Proficiency Bonus, possibly causing the attack to miss.",canReselect:!1},{name:"Duel Wielder",icon:"assets/img/feats/40px-Dual_Wielder_Icon.png",description:"You can use Two-Weapon Fighting even if your weapons aren't Light, and you gain a +1 bonus to Armour Class while wielding a melee weapon in each hand. You cannot dual-wield Heavy weapons.",canReselect:!1},{name:"Dungeon Delver",icon:"assets/img/feats/40px-PassiveFeature_DungeonDelver_Perception.png",description:"You gain Advantage on Perception checks made to detect hidden objects and on Saving Throws made to avoid or resist traps. You gain Resistance to the damage dealt by traps.",canReselect:!1},{name:"Durable",icon:"assets/img/feats/40px-PassiveFeature_Durable.png",description:"Constitution increases by 1, to a maximum of 20. Regain full Hit Points every time you take a Short Rest.",effect:{abilityScoreIncrease:new Map([[B.Constitution,1]])},canReselect:!1},{name:"Elemental Adept",icon:"assets/img/feats/40px-PassiveFeature_ElementalAdept_Fire.png",description:"Spells you cast ignore Resistance to a damage type of your choice. In addition, when you deal that type of damage with a Spell, you cannot roll a 1.",featureSelection:[{name:"Acid Damage",description:"Your spells ignore Acid Resistance."},{name:"Cold Damage",description:"Your spells ignore Cold Resistance."},{name:"Lightning Damage",description:"Your spells ignore Lightning Resistance."},{name:"Fire Damage",description:"Your spells ignore Fire Resistance."},{name:"Thunder Damage",description:"Your spells ignore Thunder Resistance."}],canReselect:!0,selectSameAllowed:!1,selectionCount:1},{name:"Great Weapon Master",icon:"assets/img/feats/40px-Great_Weapon_Master_Icon.png",description:"When an attack with a melee weapon lands a Critical Hit or kills a creature, you can make another melee weapon attack as a Bonus Action that turn. When attacking with a Two-Handed or Versatile melee weapon (in both hands) that you are Proficient with, Attack Rolls take a -5 penalty, but their damage increases by 10.",canReselect:!1},{name:"Heavily Armoured",icon:"assets/img/feats/40px-Heavily_Armoured_Icon.png",description:"Increase your Strength by 1, to a maximum of 20. Gain Proficiency with Heavy Armour.",effect:{equipmentProficiencies:[C.HeavyArmor],abilityScoreIncrease:new Map([[B.Strength,1]])},requirements:{equipmentProficiencies:[C.MediumArmor]},canReselect:!1},{name:"Heavy Armour Master",icon:"assets/img/feats/40px-PassiveFeature_HeavyArmorMaster.png",description:"Increase your Strength by 1, to a maximum of 20. Incoming damage from non-magical attacks also decreases by 3 while you're wearing heavy armour.",effect:{abilityScoreIncrease:new Map([[B.Strength,1]])},requirements:{equipmentProficiencies:[C.HeavyArmor]},canReselect:!1},{name:"Lightly Armoured",icon:"assets/img/feats/40px-Lightly_Armoured_Icon.png",description:"Increase your Strength or Dexterity by 1, to a maximum of 20. You gain Proficiency with Light Armour.",abilitySelection:[B.Strength,B.Dexterity],effect:{equipmentProficiencies:[C.LightArmor]},selectionCount:1,selectSameAllowed:!0,canReselect:!1},{name:"Lucky",icon:"assets/img/feats/40px-Lucky_Icon.png",description:"You gain 3 Luck Points. These can be used to gain Advantage on Attack Rolls, Ability Checks, Saving Throws, or to make an enemy reroll their Attack Roll.",canReselect:!1},{name:"Mage Slayer",icon:"assets/img/feats/40px-Mage_Slayer_Icon.png",description:"When a creature casts a Spell within melee range of you, you have Advantage on any Saving Throws against it, and you can use a Reaction to immediately make an attack against the caster. Enemies you hit have Disadvantage on Concentration Saving Throws.",canReselect:!1},{name:"Magic Initiate (Bard)",icon:"assets/img/feats/40px-Magic_Initiate_Bard_Icon.png",description:"Learn 2 Cantrips and a 1st-level Spell from the Bard spell list. You can cast the 1st-level Spell once per Long Rest. Your Spellcasting Ability for all three spells is Charisma.",canReselect:!0},{name:"Magic Initiate (Cleric)",icon:"assets/img/feats/40px-Magic_Initiate_Cleric_Icon.png",description:"Learn 2 Cantrips and a 1st-level Spell from the Cleric spell list. You can cast the 1st-level Spell once per Long Rest. Your Spellcasting Ability for all three spells is Wisdom.",canReselect:!0},{name:"Magic Initiate (Druid)",icon:"assets/img/feats/40px-Magic_Initiate_Druid_Icon.png",description:"Learn 2 Cantrips and a 1st-level Spell from the Druid spell list. You can cast the 1st-level Spell once per Long Rest. Your Spellcasting Ability for all three spells is Wisdom.",canReselect:!0},{name:"Magic Initiate (Sorcerer)",icon:"assets/img/feats/40px-Magic_Initiate_Sorcerer_Icon.png",description:"Learn 2 Cantrips and a 1st-level Spell from the Sorcerer spell list. You can cast the 1st-level Spell once per Long Rest. Your Spellcasting Ability for all three spells is Charisma.",canReselect:!0},{name:"Magic Initiate (Warlock)",icon:"assets/img/feats/40px-Magic_Initiate_Warlock_Icon.png",description:"Learn 2 Cantrips and a 1st-level Spell from the Warlock spell list. You can cast the 1st-level Spell once per Long Rest. Your Spellcasting Ability for all three spells is Charisma.",canReselect:!0},{name:"Magic Initiate (Wizard)",icon:"assets/img/feats/40px-Magic_Initiate_Wizard_Icon.png",description:"Learn 2 Cantrips and a 1st-level Spell from the Wizard spell list. You can cast the 1st-level Spell once per Long Rest. Your Spellcasting Ability for all three spells is Intelligence.",canReselect:!0},{name:"Martial Adept",icon:"assets/img/feats/40px-Martial_Adept_Icon.png",description:"Learn two manoeuvres from the Battle Master archetype and receive 1 (additional) Superiority Die to fuel them. You regain expended Superiority Dice after a Short or Long Rest.",featureSelection:Wl,selectionCount:2,selectSameAllowed:!1},{name:"Medium Armour Master",icon:"assets/img/feats/40px-PassiveFeature_MediumArmorMaster.png",description:"When you wear medium armour, it doesn't impose Disadvantage on Stealth checks. The bonus to Armour Class you can gain from your Dexterity modifier also becomes +3 instead of +2.",requirements:{equipmentProficiencies:[C.MediumArmor]},canReselect:!1},{name:"Mobile",icon:"assets/img/feats/40px-Mobile_Feat_Icon.png",description:"Your Movement Speed increases by Range Icon.png 3\u202fm / 10\u202fft. When you use the Dash action, difficult terrain doesn't slow you down. If you move after making a melee attack, you don't provoke an Opportunity Attack from that target.",canReselect:!1},{name:"Moderately Armoured",icon:"assets/img/feats/40px-Moderately_Armoured_Icon.png",description:"Increase your Strength or Dexterity by 1, to a maximum of 20. Gain Proficiency with Medium Armour and Shields.",requirements:{equipmentProficiencies:[C.LightArmor]},abilitySelection:[B.Strength,B.Dexterity],effect:{equipmentProficiencies:[C.MediumArmor,C.Shields]},selectionCount:1,selectSameAllowed:!0,canReselect:!1},{name:"Performer",icon:"assets/img/feats/40px-Passive_Feature_Generic_Icon.png",description:"Increase your Charisma by 1, to a maximum of 20. Gain Musical Instrument Proficiency.",effect:{abilityScoreIncrease:new Map([[B.Charisma,1]])},canReselect:!1},{name:"Polearm Master",icon:"assets/img/feats/40px-PassiveFeature_PolearmMaster_BonusAttack.png",description:"When attacking with a Glaive, Halberd, Quarterstaff, or Spear, you can use a Bonus Action to attack with the butt of your weapon. You can also make an Opportunity Attack when a target comes within range.",canReselect:!1},{name:"Resilient",icon:"assets/img/feats/40px-PassiveFeature_Resilient.png",description:"You increase an Ability by 1, to a maximum of 20. Gain Proficiency in that ability's Saving Throws.",abilitySelection:en,selectionCount:1,selectSameAllowed:!0,canReselect:!0},{name:"Ritual Caster",icon:"assets/img/feats/40px-PassiveFeature_RitualCaster_MemorizeSpells.png",description:"You learn two Ritual Spells of your choice.",canReselect:!1},{name:"Savage Attacker",icon:"assets/img/feats/40px-PassiveFeature_SavageAttacker.png",description:"When making melee weapon attacks, you roll your damage dice twice and use the highest result.",canReselect:!1},{name:"Sentinel",icon:"assets/img/feats/40px-Sentinel_Icon.png",description:"When an enemy in melee range attacks an ally, you can use a Reaction to make a weapon attack against that enemy. Target ally must not have the Sentinel feat. You gain Advantage on Opportunity Attacks, and when you hit a creature with an opportunity attack, it can no longer move for the rest of its turn.",canReselect:!1},{name:"Sharpshooter",icon:"assets/img/feats/40px-Sharpshooter_Icon.png",description:"Your ranged weapon attacks are not penalized for High Ground Rules. Ranged weapon attacks with weapons you are Proficient with have a -5 penalty to their Attack Roll, but deal an additional 10 damage.",canReselect:!1},{name:"Shield Master",icon:"assets/img/feats/40px-Shield_Master_Icon.png",description:"Gain a +2 bonus to Dexterity Saving Throws when wielding a Shield. If a Spell forces you to make a Dexterity Saving Throw, you can use your Reaction to shield yourself and diminish the effect's damage. On a failed save, you only take half damage.",requirements:{equipmentProficiencies:[C.Shields]},canReselect:!1},{name:"Skilled",icon:"assets/img/feats/40px-PassiveFeature_Skilled.png",description:"You gain Proficiency in 3 Skills of your choice.",skillSelection:Object.values(S),selectionCount:3,selectSameAllowed:!1,canReselect:!0},{name:"Spell Sniper",icon:"assets/img/feats/40px-PassiveFeature_SpellSniper_Snipe.png",description:"You learn a cantrip, and the number you need to roll a Critical Hit while attacking with a Spell is reduced by 1. This effect can stack. Applies to targeted projectile spells with a range greater than 1.5\u202fm / 5\u202fft and no area of effect.",canReselect:!1},{name:"Tavern Brawler",icon:"assets/img/feats/40px-PassiveFeature_TavernBrawler.png",description:"Increase your Strength or Constitution by 1, to a maximum of 20. When you make an unarmed attack, use an improvised weapon, or throw something, your strength modifier is added twice to the damage and Attack Rolls.",abilitySelection:[B.Strength,B.Constitution],selectionCount:1,selectSameAllowed:!0,canReselect:!1},{name:"Tough",icon:"assets/img/feats/40px-Tough_Icon.png",description:"Hit Point maximum increased by 2 for each level.",canReselect:!1},{name:"War Caster",icon:"assets/img/feats/40px-War_Caster_Icon.png",description:"You gain Advantage on Saving Throws to maintain Concentration Concentration on a Spell. You can also use a Reaction to cast Shocking Grasp at a target moving out of melee range.",canReselect:!1},{name:"Weapon Master",icon:"assets/img/feats/40px-PassiveFeature_WeaponMaster.png",description:"Increase your Strength or Dexterity by 1, to a maximum of 20. Gain Proficiency with four Weapon types of your choice.",abilitySelection:[B.Strength,B.Dexterity],selectionCount:1,canReselect:!0}];let di=(()=>{class e{constructor(){this.character=this.generateInitialCharacter()}getRace(){return this.character.race}setRace(t){this.character.race=t}getBackground(){return this.character.background}setBackground(t){this.character.background=t}getMajorAbility(){return this.character.majorAbility}getMinorAbility(){return this.character.minorAbility}setMajorAbility(t){this.character.majorAbility=t}setMinorAbility(t){this.character.minorAbility=t}setClass(t,i){this.character.classes[t-1]=i}getClass(t){return this.character.classes[t-1]}getClasses(){return this.character.classes}setSelectedSubclass(t,i){this.character.selectedSubclasses.set(t,i)}getSelectedSubclass(t){let i=this.character.selectedSubclasses.get(t);if(i&&i>0)return t.subclasses[i-1]}getFeat(t){if(this.isFeatLevel(t)){let i=this.getClass(t),r=this.getClassLevel(t),o=this.character.selectedFeats.get(i);return o?o.get(r):void 0}}setFeat(t,i){if(this.isFeatLevel(i)){let r=this.getClass(i),o=this.getClassLevel(i),s=this.character.selectedFeats.get(r);s?s.set(o,t):(s=new Map,s.set(o,t),this.character.selectedFeats.set(r,s))}}removeFeat(t){if(this.isFeatLevel(t)){let i=this.getClass(t),r=this.getClassLevel(t),o=this.character.selectedFeats.get(i);o&&o.delete(r)}}hasFeat(t,i){for(let r=1;r<=i;r++)if(this.isFeatLevel(r)){let o=this.getFeat(r);if(o&&o.name==t.name)return!0}return!1}satisfiesFeatRequirements(t,i){let r=t.requirements;if(r){let o=r.equipmentProficiencies;if(o){let s=this.getFeat(i),a=this.getEquipmentProficiencies(i,s);for(let l of o)if(!a.has(l))return!1}}return!0}getSkillProficiencyFeature(){return this.character.classes[0].skillProficiencies}loadFromParamMap(t){let i=t.get("char");if(i){let r=this.hexStringToByteArray(i),o=0,a=(o++,r[o++]);a>=0&&a<ps.length&&(this.character.race=ps[a]);for(let f of this.getRacialFeatures())if(this.isSelectionFeature(f)&&f.selectionCount)for(let h=0;h<f.selectionCount;h++){let y=r[o++];y>0&&y<=this.getFeatureOptionCount(f)&&this.setFeatureSelectedOption(0,f,h,y)}let l=r[o++];l>=0&&l<ys.length&&(this.character.background=ys[l]);for(let f of en)this.character.abilityScores.set(f,r[o++]);let c=r[o++],u=r[o++];0<=c&&c<en.length&&0<=u&&u<en.length&&c!=u&&(this.setMajorAbility(en[c]),this.setMinorAbility(en[u]));let d=r[o++];for(let f=1;f<=d;f++){if(this.character.classes[f-1]=Gl[r[o++]],1==f){let h=this.getSkillProficiencyFeature();if(h.skillSelection&&h.selectionCount)for(let y=0;y<h.selectionCount;y++)this.setFeatureSelectedOption(f,h,y,r[o++])}if(this.isSubclassLevel(f)&&this.character.selectedSubclasses.set(this.character.classes[f-1],r[o++]),this.isFeatLevel(f)){let h=r[o++];if(h>0){let y=Mh[h-1];if(this.setFeat(y,f),this.isSelectionFeature(y)&&y.selectionCount)for(let _=0;_<y.selectionCount;_++)this.setFeatureSelectedOption(f,y,_,r[o++])}}for(let h of this.getClassFeatures(f))if(this.isSelectionFeature(h)&&h.selectionCount)for(let y=0;y<h.selectionCount;y++)this.setFeatureSelectedOption(f,h,y,r[o++])}}}hexStringToByteArray(t){let i=Array(t.length/2);for(let r=0;r<t.length;r+=2)i[r/2]=+("0x"+t.substring(r,r+2));return i}createParamMap(){let t={},i=this.byteToHex(1);i+=this.byteToHex(ps.indexOf(this.character.race));for(let r of this.getRacialFeatures())if(this.isSelectionFeature(r)&&r.selectionCount)for(let o=0;o<r.selectionCount;o++){let s=this.getFeatureSelectedOption(0,r,o);i+=this.byteToHex(s||0)}i+=this.byteToHex(ys.indexOf(this.character.background));for(let r of en)i+=this.byteToHex(this.getAbilityScore(r));i+=this.byteToHex(en.indexOf(this.getMajorAbility())),i+=this.byteToHex(en.indexOf(this.getMinorAbility())),i+=this.byteToHex(this.getCharacterLevel());for(let r=1;r<=this.getCharacterLevel();r++){let o=this.getClass(r);if(i+=this.byteToHex(Gl.indexOf(o)),1==r){let s=this.getSkillProficiencyFeature();if(s.skillSelection&&s.selectionCount)for(let a=0;a<s.selectionCount;a++){let l=this.getFeatureSelectedOption(1,s,a);i+=this.byteToHex(l||0)}}if(this.isSubclassLevel(r)){let s=this.character.selectedSubclasses.get(o);i+=this.byteToHex(s||0)}if(this.isFeatLevel(r)){let s=this.getFeat(r);if(s){if(i+=this.byteToHex(Mh.indexOf(s)+1),this.isSelectionFeature(s)&&s.selectionCount)for(let a=0;a<s.selectionCount;a++){let l=this.getFeatureSelectedOption(r,s,a);i+=this.byteToHex(l||0)}}else i+=this.byteToHex(0)}for(let s of this.getClassFeatures(r))if(this.isSelectionFeature(s)&&s.selectionCount)for(let a=0;a<s.selectionCount;a++){let l=this.getFeatureSelectedOption(r,s,a);i+=this.byteToHex(l||0)}}return t.char=i,t}byteToHex(t){if(t<0||t>255)throw new Error("Invalid byte value");let i=t.toString(16);for(;i.length<2;)i="0"+i;return i}getFeatureSelectedOption(t,i,r){let o=this.getFeatureSelectedOptions(t,i);return o?o[r]:0}getFeatureSelectedOptions(t,i){if(this.isSelectionFeature(i)&&i.selectionCount){if(0==t){let r=this.character.selectedRaceFeatureOptions.get(this.character.race);return r&&r.get(i)||[]}{let r=this.getClass(t),o=this.getClassLevel(t),s=this.character.selectedClassFeatureOptions.get(r);return s&&s[o]&&s[o].get(i)||[]}}return[]}getFeatureAllSelectedOptions(t,i){let r=new Set;for(let o of this.getRacialFeatures())if(o.name==i.name)for(let s of this.getFeatureSelectedOptions(0,o))0!=s&&o.featureSelection&&r.add(o.featureSelection[s-1].name);for(let o=1;o<=t&&o<=this.getCharacterLevel();o++)for(let s of this.getClassFeatures(o))if(s.name==i.name)for(let a of this.getFeatureSelectedOptions(o,s))0!=a&&s.featureSelection&&r.add(s.featureSelection[a-1].name);return r}setFeatureSelectedOption(t,i,r,o){if(this.isSelectionFeature(i)&&i.selectionCount&&r>=0&&r<i.selectionCount)if(0==t){let s=this.character.selectedRaceFeatureOptions.get(this.character.race);if(s){let a=s.get(i);a?a[r]=o:(a=new Array,a[r]=o,s.set(i,a))}else{s=new Map;let a=new Array;a[r]=o,s.set(i,a),this.character.selectedRaceFeatureOptions.set(this.character.race,s)}}else{let s=this.getClass(t),a=this.getClassLevel(t),l=this.character.selectedClassFeatureOptions.get(s);if(l)if(l[a]){let c=l[a].get(i);c?c[r]=o:(c=new Array,c[r]=o,l[a].set(i,c))}else{let c=new Array;c[r]=o,l[a]=new Map,l[a].set(i,c)}else{l=new Array;let c=new Array;c[r]=o,l[a]=new Map,l[a].set(i,c),this.character.selectedClassFeatureOptions.set(s,l)}}}getFeatureOptionCount(t){let i=0;return t.skillSelection&&i<t.skillSelection.length&&(i=t.skillSelection.length),t.spellSelection&&i<t.spellSelection.length&&(i=t.spellSelection.length),t.featureSelection&&i<t.featureSelection.length&&(i=t.featureSelection.length),t.skillExpertiseSelection&&i<Object.values(S).length&&(i=Object.values(S).length),t.abilitySelection&&i<t.abilitySelection.length&&(i=t.abilitySelection.length),i}isSelectionFeature(t){return this.getFeatureOptionCount(t)>0}generateInitialCharacter(){return{name:"Tav",race:ps[0],background:ys[0],abilityScores:new Map([[B.Strength,8],[B.Dexterity,8],[B.Constitution,8],[B.Intelligence,8],[B.Wisdom,8],[B.Charisma,8]]),majorAbility:B.Strength,minorAbility:B.Dexterity,classes:[Gl[0]],selectedClassFeatureOptions:new Map,selectedRaceFeatureOptions:new Map,selectedSubclasses:new Map,selectedFeats:new Map}}resetCharacter(){this.character=this.generateInitialCharacter()}getRacialFeatures(){let t=new Array;if(this.character.race.parentRace)for(let i of this.character.race.parentRace.features)t.push(i);for(let i of this.character.race.features)t.push(i);return t}getClassFeatures(t){let i=this.getClassLevel(t),r=new Array;for(let s of this.getClass(t).features[i-1])r.push(s);let o=this.getSelectedSubclass(this.getClass(t));if(o)for(let s of o.features[i-1])r.push(s);return r}isFeatLevel(t){return this.character.classes[t-1].featLevels.includes(this.getClassLevel(t))}isSubclassLevel(t){return this.character.classes[t-1].subclassLevel==this.getClassLevel(t)}getAbilityScore(t){return this.character.abilityScores.get(t)||8}getFinalAbilityScore(t){if(this.character){let i=this.getAbilityScore(t);return t==this.character.majorAbility&&(i+=2),t==this.character.minorAbility&&(i+=1),i}return 0}getAbilityModifier(t){if(this.character){let i=Math.floor((this.getFinalAbilityScore(t)-10)/2);return i<0?""+i:"+"+i}return 0}getAbilityPointCost(t){return t<=13&&t>=8?t-8:14==t?7:15==t?9:NaN}getAvailableAbilityPoints(){let t=27;if(this.character)for(let i of this.character.abilityScores.values())t-=this.getAbilityPointCost(i);return t}increaseAbilityScore(t){if(this.character){let i=this.getAvailableAbilityPoints(),r=this.getAbilityScore(t);(r<=12?1:2)<=i&&r<15&&this.character.abilityScores.set(t,r+1)}}decreaseAbilityScore(t){if(this.character){let i=this.getAbilityScore(t);i>8&&this.character.abilityScores.set(t,i-1)}}getEquipmentProficiencies(t,i){let r=new Set;for(let o of this.character.race.features)for(let s of this.getFeatureEquipmentProficiencies(o,0))r.add(s);if(this.character.race.parentRace)for(let o of this.character.race.parentRace.features)for(let s of this.getFeatureEquipmentProficiencies(o,0))r.add(s);for(let o=1;o<=t;o++){for(let s of this.getClassEquipmentProficiencies(o))r.add(s);for(let s of this.getClassFeatures(o))for(let a of this.getFeatureEquipmentProficiencies(s,o))r.add(a);if(this.isFeatLevel(o)){let s=this.getFeat(o);if(s&&s!=i)for(let a of this.getFeatureEquipmentProficiencies(s,o))r.add(a)}}return r}getFeatureEquipmentProficiencies(t,i){let r=new Set;if(t.effect&&t.effect.equipmentProficiencies)for(let o of t.effect.equipmentProficiencies)r.add(o);if(t.featureSelection&&t.selectionCount)for(let o=0;o<t.selectionCount;o++){let s=this.getFeatureSelectedOption(i,t,o);if(s&&0!=s){let a=t.featureSelection[s-1];if(a.effect&&a.effect.equipmentProficiencies)for(let l of a.effect.equipmentProficiencies)r.add(l)}}return r}hasEquipmentProficiency(t,i,r){let o=this.getEquipmentProficiencies(t),s=o.has(C.MartialWeapons),a=o.has(C.SimpleWeapons);return o.has(i)||s&&f3.has(i)||a&&h3.has(i)}getClassEquipmentProficiencies(t){let i=new Array;if(1==t&&(i=i.concat(this.character.classes[t-1].initialEquipmentProficiencies)),1==this.getClassLevel(t)&&(i=i.concat(this.character.classes[t-1].equipmentProficiencies)),this.isSubclassLevel(t)){let r=this.getSelectedSubclass(this.getClass(t));r&&r.equipmentProficiencies&&(i=i.concat(r.equipmentProficiencies))}return i}getSkillProficiencies(t,i){let r=new Set;for(let o of this.character.race.features)if(o!==i)for(let s of this.getFeatureSkillProficiencies(o,0))r.add(s);if(this.character.race.parentRace)for(let o of this.character.race.parentRace.features)if(o!==i)for(let s of this.getFeatureSkillProficiencies(o,0))r.add(s);for(let o of this.character.background.proficiencies)r.add(o);if(t>=1&&i!=this.getSkillProficiencyFeature()){let o=this.getSkillProficiencyFeature();if(o.skillSelection&&o.selectionCount)for(let s=0;s<o.selectionCount;s++){let a=this.getFeatureSelectedOption(1,o,s);a&&0!=a&&r.add(o.skillSelection[a-1])}}for(let o=1;o<=t;o++){for(let s of this.getClassFeatures(o))if(s!==i)for(let a of this.getFeatureSkillProficiencies(s,o))r.add(a);if(this.isFeatLevel(o)){let s=this.getFeat(o);if(s&&s!=i)for(let a of this.getFeatureSkillProficiencies(s,o))r.add(a)}}return r}getFeatureSkillProficiencies(t,i){let r=new Set;if(t.effect&&t.effect.skillProficiencies)for(let o of t.effect.skillProficiencies)r.add(o);if(t.skillSelection&&t.selectionCount)for(let o=0;o<t.selectionCount;o++){let s=this.getFeatureSelectedOption(i,t,o);0!=s&&r.add(t.skillSelection[s-1])}if(t.featureSelection&&t.selectionCount)for(let o=0;o<t.selectionCount;o++){let s=this.getFeatureSelectedOption(i,t,o);if(s&&0!=s){let a=t.featureSelection[s-1];if(a)for(let l of this.getFeatureSkillProficiencies(a,i))r.add(l)}}return r}getSkillExpertises(t,i){let r=new Set,o=Object.values(S);for(let s of this.character.race.features)if(s!==i&&s.skillExpertiseSelection&&s.selectionCount)for(let a=0;a<s.selectionCount;a++){let l=this.getFeatureSelectedOption(0,s,a);0!=l&&r.add(o[l-1])}if(this.character.race.parentRace)for(let s of this.character.race.parentRace.features)if(s!==i&&s.skillExpertiseSelection&&s.selectionCount)for(let a=0;a<s.selectionCount;a++){let l=this.getFeatureSelectedOption(0,s,a);0!=l&&r.add(o[l-1])}for(let s=1;s<=t;s++)for(let a of this.getClassFeatures(s))if(a!==i&&a.skillExpertiseSelection&&a.selectionCount)for(let l=0;l<a.selectionCount;l++){let c=this.getFeatureSelectedOption(s,a,l);0!=c&&r.add(o[c-1])}return r}addLevel(){this.character.classes.length<12&&this.character.classes.push(this.character.classes[this.character.classes.length-1])}removeLevel(){this.character.classes.length>1&&this.character.classes.pop()}getCharacterLevel(){return this.character.classes.length}getClassLevel(t){if(t>this.getCharacterLevel())return 0;let i=0;for(let r=0;r<t&&r<this.getCharacterLevel();r++)this.character.classes[r]==this.character.classes[t-1]&&i++;return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class IB{constructor(n,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){const n=this._textarea;let t=!1;try{if(n){const i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let TB=(()=>{class e{constructor(t){this._document=t}copy(t){const i=this.beginCopy(t),r=i.copy();return i.destroy(),r}beginCopy(t){return new IB(t,this._document)}}return e.\u0275fac=function(t){return new(t||e)(N(ct))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kB(e,n){if(1&e){const t=oe();g(0,"div",22),H("click",function(){j(t);const r=v().$implicit;return U(v().selectFeatureOption(r,0))}),w(1),g(2,"div",23)(3,"i"),w(4),m()()()}if(2&e){const t=v().$implicit,i=v();p(1),z(" ",i.getFeatureString(0,t)," "),p(3),P(t.description)}}function MB(e,n){if(1&e&&(g(0,"div",24),w(1),g(2,"div",23)(3,"i"),w(4),m()()()),2&e){const t=v().$implicit,i=v();p(1),z(" ",i.getFeatureString(0,t)," "),p(3),P(t.description)}}function RB(e,n){if(1&e&&(g(0,"span"),A(1,kB,5,2,"div",20),A(2,MB,5,2,"div",21),m()),2&e){const t=n.$implicit,i=v();p(1),D("ngIf",i.getCharacterService().isSelectionFeature(t)),p(1),D("ngIf",!i.getCharacterService().isSelectionFeature(t))}}function PB(e,n){1&e&&(g(0,"button",29)(1,"span",19),w(2,"radio_button_checked"),m()())}function FB(e,n){if(1&e){const t=oe();g(0,"button",25),H("click",function(){j(t);const r=v().$implicit,o=v();return o.getCharacterService().setMajorAbility(r),U(o.updateQueryParams())}),g(1,"span",19),w(2,"radio_button_unchecked"),m()()}}function xB(e,n){1&e&&(g(0,"button",30)(1,"span",19),w(2,"radio_button_unchecked"),m()())}function OB(e,n){1&e&&(g(0,"button",29)(1,"span",19),w(2,"radio_button_checked"),m()())}function NB(e,n){if(1&e){const t=oe();g(0,"button",25),H("click",function(){j(t);const r=v().$implicit,o=v();return o.getCharacterService().setMinorAbility(r),U(o.updateQueryParams())}),g(1,"span",19),w(2,"radio_button_unchecked"),m()()}}function LB(e,n){1&e&&(g(0,"button",30)(1,"span",19),w(2,"radio_button_unchecked"),m()())}function BB(e,n){if(1&e){const t=oe();g(0,"tr")(1,"td")(2,"button",25),H("click",function(){const o=j(t).$implicit,s=v();return s.getCharacterService().decreaseAbilityScore(o),U(s.updateQueryParams())}),g(3,"span",19),w(4,"expand_circle_down"),m()(),w(5),g(6,"button",25),H("click",function(){const o=j(t).$implicit,s=v();return s.getCharacterService().increaseAbilityScore(o),U(s.updateQueryParams())}),g(7,"span",19),w(8,"expand_circle_up"),m()()(),g(9,"td"),A(10,PB,3,0,"button",26),A(11,FB,3,0,"button",27),A(12,xB,3,0,"button",28),m(),g(13,"td"),A(14,OB,3,0,"button",26),A(15,NB,3,0,"button",27),A(16,LB,3,0,"button",28),m(),g(17,"td"),w(18),m(),g(19,"td"),w(20),m()()}if(2&e){const t=n.$implicit,i=v();let r;p(5),z(" ",null==(r=i.abilityInfo.get(t))?null:r.abbr," "),p(5),D("ngIf",t==i.getCharacterService().getMajorAbility()),p(1),D("ngIf",t!=i.getCharacterService().getMajorAbility()&&t!=i.getCharacterService().getMinorAbility()),p(1),D("ngIf",t==i.getCharacterService().getMinorAbility()),p(2),D("ngIf",t==i.getCharacterService().getMinorAbility()),p(1),D("ngIf",t!=i.getCharacterService().getMinorAbility()&&t!=i.getCharacterService().getMajorAbility()),p(1),D("ngIf",t==i.getCharacterService().getMajorAbility()),p(2),P(i.getCharacterService().getFinalAbilityScore(t)),p(2),P(i.getCharacterService().getAbilityModifier(t))}}function HB(e,n){if(1&e&&(g(0,"div",44),w(1),m()),2&e){const t=v().index,i=v();p(1),z(" Saving Throw Proficiency: ",i.getSavingThrowProficiencyString(i.getCharacterService().getClass(t+1))," ")}}function VB(e,n){if(1&e){const t=oe();g(0,"div",45),H("click",function(){j(t);const r=v().index,o=v();return U(o.selectFeatureOption(o.getCharacterService().getSkillProficiencyFeature(),r+1))}),g(1,"div"),w(2),m(),g(3,"div",23)(4,"i"),w(5),m()()()}if(2&e){const t=v().index,i=v();p(2),P(i.getFeatureString(t+1,i.getCharacterService().getSkillProficiencyFeature())),p(3),P(i.getCharacterService().getSkillProficiencyFeature().description)}}function $B(e,n){if(1&e&&(g(0,"div",44),w(1),m()),2&e){const t=v().$implicit;p(1),z(" ",t," Proficiency ")}}function jB(e,n){if(1&e&&(g(0,"span"),A(1,$B,2,1,"div",41),m()),2&e){const t=n.$implicit,i=v().index,r=v();p(1),D("ngIf",!r.getCharacterService().hasEquipmentProficiency(i,t))}}function UB(e,n){1&e&&(g(0,"div"),w(1,"Choose a Feat"),m())}function WB(e,n){if(1&e&&(g(0,"div"),w(1),m()),2&e){const t=v(2).index,i=v();p(1),P(i.getFeatString(t+1,i.getCharacterService().getFeat(t+1)))}}function zB(e,n){if(1&e&&(g(0,"div",23)(1,"i"),w(2),m()()),2&e){const t=v(2).index,i=v();let r;p(2),P(null==(r=i.getCharacterService().getFeat(t+1))?null:r.description)}}function GB(e,n){if(1&e){const t=oe();g(0,"div",45),H("click",function(){j(t);const r=v().index;return U(v().selectFeat(r+1))}),A(1,UB,2,0,"div",46),A(2,WB,2,1,"div",46),A(3,zB,3,1,"div",47),m()}if(2&e){const t=v().index,i=v();p(1),D("ngIf",!i.getCharacterService().getFeat(t+1)),p(1),D("ngIf",i.getCharacterService().getFeat(t+1)),p(1),D("ngIf",i.getCharacterService().getFeat(t+1))}}function YB(e,n){if(1&e&&(g(0,"span"),ne(1,"br")(2,"br"),g(3,"i")(4,"b"),w(5),m(),w(6),m()()),2&e){const t=v(2).$implicit,i=v();let r,o;p(5),P(null==(r=i.getCharacterService().getSelectedSubclass(t))?null:r.name),p(1),z(": ",null==(o=i.getCharacterService().getSelectedSubclass(t))?null:o.description,"")}}function qB(e,n){if(1&e){const t=oe();g(0,"div",48),H("click",function(){j(t);const r=v().$implicit;return U(v().selectSubclass(r))}),w(1),g(2,"div",23)(3,"i"),w(4,"Choose a subclass"),m(),A(5,YB,7,2,"span",46),m()()}if(2&e){const t=v(),i=t.index,r=t.$implicit,o=v();p(1),z(" ",o.getSubclassString(o.getCharacterService().getClass(i+1))," "),p(4),D("ngIf",o.getCharacterService().getSelectedSubclass(r))}}function KB(e,n){if(1&e&&(g(0,"span"),ne(1,"br")(2,"br"),g(3,"i")(4,"b"),w(5),m(),w(6),m()()),2&e){const t=v().$implicit,i=v(3).$implicit;p(5),P(i.featureSelection[t-1].name),p(1),z(": ",i.featureSelection[t-1].description,"")}}function QB(e,n){if(1&e&&(g(0,"span"),A(1,KB,7,2,"span",46),m()),2&e){const t=n.$implicit;p(1),D("ngIf",t>0)}}function ZB(e,n){if(1&e&&(g(0,"span"),A(1,QB,2,1,"span",11),m()),2&e){const t=v(2).$implicit,i=v().index,r=v();p(1),D("ngForOf",r.getCharacterService().getFeatureSelectedOptions(i+1,t))}}function XB(e,n){if(1&e){const t=oe();g(0,"div",22),H("click",function(){j(t);const r=v().$implicit,o=v().index;return U(v().selectFeatureOption(r,o+1))}),w(1),g(2,"div",23)(3,"i"),w(4),m(),A(5,ZB,2,1,"span",46),m()()}if(2&e){const t=v().$implicit,i=v().index,r=v();p(1),z(" ",r.getFeatureString(i+1,t)," "),p(3),P(t.description),p(1),D("ngIf",t.featureSelection)}}function JB(e,n){if(1&e&&(g(0,"div",24),w(1),g(2,"div",23)(3,"i"),w(4),m()()()),2&e){const t=v().$implicit,i=v().index,r=v();p(1),z(" ",r.getFeatureString(i+1,t)," "),p(3),P(t.description)}}function eH(e,n){if(1&e&&(g(0,"span"),A(1,XB,6,3,"div",20),A(2,JB,5,2,"div",21),m()),2&e){const t=n.$implicit,i=v(2);p(1),D("ngIf",i.getCharacterService().isSelectionFeature(t)),p(1),D("ngIf",!i.getCharacterService().isSelectionFeature(t))}}function tH(e,n){if(1&e){const t=oe();g(0,"li")(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34)(5,"b"),w(6),m()()(),g(7,"div",35)(8,"button",36),H("click",function(){const o=j(t).index;return U(v().selectClass(o+1))}),g(9,"div",37),ne(10,"img",5),m(),g(11,"div",38)(12,"div",7)(13,"b"),w(14),m(),ne(15,"br"),g(16,"i"),w(17),m()()()()()(),g(18,"div",39)(19,"div",40)(20,"div",10)(21,"b"),w(22,"Class Features"),m()(),A(23,HB,2,1,"div",41),g(24,"span"),A(25,VB,6,2,"div",42),m(),A(26,jB,2,1,"span",11),A(27,GB,4,3,"div",42),g(28,"span"),A(29,qB,6,2,"div",43),m(),A(30,eH,3,2,"span",11),m()()()()}if(2&e){const t=n.$implicit,i=n.index,r=v();p(6),z("Level ",i+1,""),p(4),Me("src",t.icon,ke),p(4),P(t.name),p(3),z("Class Level: ",r.getCharacterService().getClassLevel(i+1),""),p(6),D("ngIf",0==i),p(2),D("ngIf",0==i),p(1),D("ngForOf",r.getCharacterService().getClassEquipmentProficiencies(i+1)),p(1),D("ngIf",r.getCharacterService().isFeatLevel(i+1)),p(2),D("ngIf",r.getCharacterService().isSubclassLevel(i+1)),p(1),D("ngForOf",r.getCharacterService().getClassFeatures(i+1))}}let nH=(()=>{class e{constructor(t){this.characterService=t,this.abilities=en,this.abilityInfo=gs}getCharacterService(){return this.characterService}getFeatureString(t,i){let r=this.getFeatureSelectedOptionsString(t,i);return r?i.name+": "+r:i.name}getFeatString(t,i){if(i){let r=this.getFeatureSelectedOptionsString(t,i);return r?"Feat: "+i.name+" ("+r+")":"Feat: "+i.name}}getFeatureSelectedOptionsString(t,i){let r;if(i.skillSelection&&i.selectionCount){r="";let o=!0;for(let s=0;s<i.selectionCount;s++){let a=this.getCharacterService().getFeatureSelectedOption(t,i,s);a&&a>0&&a<=i.skillSelection.length&&(o?o=!1:r+=", ",r+=vh.get(i.skillSelection[a-1])?.name)}}if(i.spellSelection&&i.selectionCount){r="";let o=!0;for(let s=0;s<i.selectionCount;s++){let a=this.getCharacterService().getFeatureSelectedOption(t,i,s);a&&a>0&&a<=i.spellSelection.length&&(o?o=!1:r+=", ",r+=i.spellSelection[a-1].name)}}if(i.featureSelection&&i.selectionCount){r="";let o=!0;for(let s=0;s<i.selectionCount;s++){let a=this.getCharacterService().getFeatureSelectedOption(t,i,s);a&&a>0&&a<=i.featureSelection.length&&(o?o=!1:r+=", ",r+=i.featureSelection[a-1].name)}}if(i.skillExpertiseSelection&&i.selectionCount){r="";let o=!0,s=Object.values(S);for(let a=0;a<i.selectionCount;a++){let l=this.getCharacterService().getFeatureSelectedOption(t,i,a);l&&l>0&&l<=s.length&&(o?o=!1:r+=", ",r+=s[l-1])}}if(i.abilitySelection&&i.selectionCount){r="";let o=new Map;for(let a=0;a<i.selectionCount;a++){let l=this.getCharacterService().getFeatureSelectedOption(t,i,a);if(l&&l>0&&l<=i.abilitySelection.length){let c=i.abilitySelection[l-1],u=o.get(c);o.set(c,u?u+1:1)}}let s=!0;for(let a of o.keys()){let l=gs.get(a);l&&(s?s=!1:r+=", ",r+=l.abbr+" +"+o.get(a))}}return r}getSubclassString(t){let i=this.characterService.getSelectedSubclass(t);return i?"Subclass: "+i.name:"Choose a Subclass"}getSavingThrowProficiencyString(t){let i=t.savingThrowProficiencies,r="",o=!0;for(let s of i){let a=gs.get(s);a&&(o?o=!1:r+=", ",r+=a.abbr)}return r}}return e.\u0275fac=function(t){return new(t||e)(L(di))},e.\u0275cmp=jt({type:e,selectors:[["app-character-view"]],inputs:{selectRace:"selectRace",selectBackground:"selectBackground",selectFeatureOption:"selectFeatureOption",selectClass:"selectClass",selectSubclass:"selectSubclass",selectFeat:"selectFeat",updateQueryParams:"updateQueryParams"},decls:52,vars:9,consts:[[1,"w3-container","w3-padding-small"],[1,"w3-third"],[1,"w3-margin"],[1,"w3-button","w3-block","w3-round","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border",3,"click"],[1,"w3-cell","w3-cell-middle"],["width","40","height","40",3,"src"],[1,"w3-cell","w3-cell-middle","w3-justify"],[1,"w3-margin-left"],[1,"w3-button","w3-block","w3-round","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-margin-top","w3-margin-bottom",3,"click"],[1,"w3-block","w3-round","w3-padding-small","w3-border","w3-margin-bottom"],[1,"w3-text-amber","w3-center","w3-margin"],[4,"ngFor","ngForOf"],[1,"w3-twothird"],[1,"w3-margin","w3-padding-small","w3-border","w3-round"],[1,"w3-table","w3-centered","w3-bordered","w3-margin-bottom"],[1,"w3-cell","w3-cell-middle","w3-padding-small"],[1,"w3-container","w3-padding","w3-margin"],[1,"w3-ul","w3-border","w3-round"],[1,"w3-btn","w3-margin","w3-padding-0","w3-hover-text-amber",3,"click"],[1,"material-symbols-outlined"],["class","w3-round w3-center w3-padding-small w3-border w3-margin w3-dropdown-hover w3-dark-grey w3-hover-amber",3,"click",4,"ngIf"],["class","w3-round w3-center w3-padding-small w3-border w3-margin w3-dropdown-hover w3-black",4,"ngIf"],[1,"w3-round","w3-center","w3-padding-small","w3-border","w3-margin","w3-dropdown-hover","w3-dark-grey","w3-hover-amber",3,"click"],[1,"w3-dropdown-content","w3-black","w3-border","w3-left-align","w3-padding-small"],[1,"w3-round","w3-center","w3-padding-small","w3-border","w3-margin","w3-dropdown-hover","w3-black"],[1,"w3-btn","w3-margin-0","w3-padding-0","w3-hover-text-amber",3,"click"],["class","w3-btn w3-margin-0 w3-padding-0 w3-text-amber",4,"ngIf"],["class","w3-btn w3-margin-0 w3-padding-0 w3-hover-text-amber",3,"click",4,"ngIf"],["class","w3-btn w3-margin-0 w3-padding-0 w3-text-dark-grey",4,"ngIf"],[1,"w3-btn","w3-margin-0","w3-padding-0","w3-text-amber"],[1,"w3-btn","w3-margin-0","w3-padding-0","w3-text-dark-grey"],[1,"w3-row"],[1,"w3-half"],[1,"w3-third","w3-container"],[1,"w3-text-amber","w3-margin"],[1,"w3-twothird","w3-container"],[1,"w3-button","w3-block","w3-round","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-margin",3,"click"],[1,"w3-cell","w3-cell-middle","w3-left"],[1,"w3-cell","w3-cell-middle","w3-justify","w3-padding-small",2,"width","25%"],[1,"w3-half","w3-container"],[1,"w3-block","w3-round","w3-border","w3-margin","w3-container","w3-padding"],["class","w3-round w3-center w3-padding-small w3-border w3-margin w3-black w3-dropdown-hover",4,"ngIf"],["class","w3-round w3-center w3-padding-small w3-border w3-margin w3-dark-grey w3-dropdown-hover w3-hover-amber",3,"click",4,"ngIf"],["class","w3-round w3-center w3-padding-small w3-border w3-margin w3-dark-grey w3-hover-amber w3-dropdown-hover",3,"click",4,"ngIf"],[1,"w3-round","w3-center","w3-padding-small","w3-border","w3-margin","w3-black","w3-dropdown-hover"],[1,"w3-round","w3-center","w3-padding-small","w3-border","w3-margin","w3-dark-grey","w3-dropdown-hover","w3-hover-amber",3,"click"],[4,"ngIf"],["class","w3-dropdown-content w3-black w3-border w3-left-align w3-padding-small",4,"ngIf"],[1,"w3-round","w3-center","w3-padding-small","w3-border","w3-margin","w3-dark-grey","w3-hover-amber","w3-dropdown-hover",3,"click"]],template:function(t,i){1&t&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),H("click",function(){return i.selectRace()}),g(4,"div",4),ne(5,"img",5),m(),g(6,"div",6)(7,"div",7)(8,"b"),w(9),m()()()(),g(10,"button",8),H("click",function(){return i.selectBackground()}),g(11,"div",4),ne(12,"img",5),m(),g(13,"div",6)(14,"div",7)(15,"b"),w(16),m(),ne(17,"br"),g(18,"i"),w(19),m()()()(),g(20,"div",9)(21,"div",10)(22,"b"),w(23,"Racial Traits"),m()(),A(24,RB,3,2,"span",11),m()()(),g(25,"div",12)(26,"div",13)(27,"table",14)(28,"thead")(29,"tr")(30,"th"),w(31,"Ability"),m(),g(32,"th"),w(33,"+2"),m(),g(34,"th"),w(35,"+1"),m(),g(36,"th"),w(37,"Score"),m(),g(38,"th"),w(39,"Modifier"),m()()(),A(40,BB,21,9,"tr",11),m(),g(41,"div",15),w(42),m()()()(),g(43,"div",16)(44,"ul",17),A(45,tH,31,10,"li",11),m(),g(46,"button",18),H("click",function(){return i.getCharacterService().removeLevel(),i.updateQueryParams()}),g(47,"span",19),w(48,"do_not_disturb_on"),m()(),g(49,"button",18),H("click",function(){return i.getCharacterService().addLevel(),i.updateQueryParams()}),g(50,"span",19),w(51,"add_circle"),m()()()),2&t&&(p(5),Me("src",i.getCharacterService().getRace().icon,ke),p(4),P(i.getCharacterService().getRace().name),p(3),Me("src",i.getCharacterService().getBackground().icon,ke),p(4),P(i.getCharacterService().getBackground().name),p(3),P(i.getCharacterService().getBackground().proficiencies.join(", ")),p(5),D("ngForOf",i.getCharacterService().getRacialFeatures()),p(16),D("ngForOf",i.abilities),p(2),z("Available Points: ",i.getCharacterService().getAvailableAbilityPoints(),""),p(3),D("ngForOf",i.getCharacterService().getClasses()))},dependencies:[ri,Vn]}),e})();function iH(e,n){if(1&e){const t=oe();g(0,"button",18),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedRace(r))})("click",function(){j(t);const r=v().$implicit;return U(v(2).changeRace(r))}),g(1,"div",12),ne(2,"img",19),m(),g(3,"div",12)(4,"div",20),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function rH(e,n){if(1&e){const t=oe();g(0,"button",21),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedRace(r))})("click",function(){j(t);const r=v().$implicit;return U(v(2).changeRace(r))}),g(1,"div",12),ne(2,"img",19),m(),g(3,"div",12)(4,"div",20),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function oH(e,n){if(1&e&&(g(0,"div"),A(1,iH,6,2,"button",16),A(2,rH,6,2,"button",17),m()),2&e){const t=n.$implicit,i=v(2);p(1),D("ngIf",i.getCharacterService().getRace().name!=t.name),p(1),D("ngIf",i.getCharacterService().getRace().name==t.name)}}function sH(e,n){if(1&e&&(g(0,"div",10)(1,"div",11)(2,"div",12),ne(3,"img",13),m(),g(4,"div",12)(5,"div",14)(6,"b"),w(7),m()()()(),A(8,oH,3,2,"div",15),m()),2&e){const t=n.$implicit;p(3),Me("src",t.key.icon,ke),p(4),P(t.key.name),p(1),D("ngForOf",t.value)}}function aH(e,n){if(1&e&&(g(0,"li")(1,"b"),w(2),m(),w(3),m()),2&e){const t=n.$implicit;p(2),P(t.name),p(1),z(": ",t.description,"")}}function lH(e,n){if(1&e&&(g(0,"div")(1,"p",25),w(2,"Racial traits:"),m(),g(3,"ul"),A(4,aH,4,2,"li",15),m()()),2&e){const t=v(3);p(4),D("ngForOf",t.selectedRace.parentRace.features)}}function cH(e,n){if(1&e&&(g(0,"div")(1,"p",24)(2,"b"),w(3),m()(),g(4,"p",25)(5,"i"),w(6),m()(),A(7,lH,5,1,"div",23),m()),2&e){const t=v(2);p(3),P(t.selectedRace.parentRace.name),p(3),P(t.selectedRace.parentRace.description),p(1),D("ngIf",t.selectedRace.parentRace.features.length>0)}}function uH(e,n){if(1&e&&(g(0,"li")(1,"b"),w(2),m(),w(3),m()),2&e){const t=n.$implicit;p(2),P(t.name),p(1),z(": ",t.description,"")}}function dH(e,n){if(1&e&&(g(0,"div")(1,"p",25),w(2,"Racial traits:"),m(),g(3,"ul"),A(4,uH,4,2,"li",15),m()()),2&e){const t=v(3);p(4),D("ngForOf",t.selectedRace.features)}}function fH(e,n){if(1&e&&(g(0,"div")(1,"p",24)(2,"b"),w(3),m()(),g(4,"p",25)(5,"i"),w(6),m()(),A(7,dH,5,1,"div",23),g(8,"p",25),w(9),m()()),2&e){const t=v(2);p(3),P(t.selectedRace.name),p(3),P(t.selectedRace.description),p(1),D("ngIf",t.selectedRace.features.length>0),p(2),z("Speed: ",t.selectedRace.speed,"m")}}function hH(e,n){if(1&e&&(g(0,"div",22),A(1,cH,8,3,"div",23),A(2,fH,10,4,"div",23),m()),2&e){const t=v();p(1),D("ngIf",t.selectedRace.parentRace),p(1),D("ngIf",t.selectedRace)}}let pH=(()=>{class e{constructor(t){this.characterService=t,this.selectedRace=t.getRace(),this.windowHeight=0,this.raceGroups=new Map;for(let i of ps)if(i.parentRace){let r=this.raceGroups.get(i.parentRace);r?r.push(i):this.raceGroups.set(i.parentRace,[i])}else this.raceGroups.set(i,[i])}ngOnInit(){this.windowHeight=window.innerHeight}onResize(t){this.windowHeight=window.innerHeight}setSelectedRace(t){this.selectedRace=t}changeRace(t){this.characterService.setRace(t),this.goBack()}meterToFeet(t){return 3.281*t}getCharacterService(){return this.characterService}}return e.\u0275fac=function(t){return new(t||e)(L(di))},e.\u0275cmp=jt({type:e,selectors:[["app-select-race"]],hostBindings:function(t,i){1&t&&H("resize",function(o){return i.onResize(o)},0,Ei)},inputs:{goBack:"goBack"},decls:14,vars:10,consts:[[1,"w3-left","w3-margin-bottom"],[1,"w3-btn","w3-padding-0","w3-hover-text-amber",3,"click"],[1,"material-symbols-outlined"],[1,"w3-container","w3-padding-small"],[1,"w3-padding"],[1,"w3-card"],[1,"w3-third"],["class","w3-margin",4,"ngFor","ngForOf"],[1,"w3-twothird","w3-hide-small"],["class","w3-margin w3-border w3-round",4,"ngIf"],[1,"w3-margin"],[1,"w3-margin-bottom"],[1,"w3-cell","w3-cell-middle"],["width","40","height","40",3,"src"],[1,"w3-margin-left","w3-text-amber"],[4,"ngFor","ngForOf"],["class","w3-button w3-block w3-round w3-padding-small w3-hover-amber w3-dark-grey w3-border w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],["class","w3-button w3-block w3-round w3-padding-small w3-hover-amber w3-amber w3-border w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],[1,"w3-button","w3-block","w3-round","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-margin-bottom",3,"mouseenter","click"],["width","20","height","20",3,"src"],[1,"w3-margin-left"],[1,"w3-button","w3-block","w3-round","w3-padding-small","w3-hover-amber","w3-amber","w3-border","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-margin","w3-border","w3-round"],[4,"ngIf"],[1,"w3-margin","w3-justify","w3-text-amber"],[1,"w3-margin","w3-justify"]],template:function(t,i){1&t&&(g(0,"div",0)(1,"button",1),H("click",function(){return i.goBack()}),g(2,"span",2),w(3,"arrow_back"),m()()(),g(4,"div",3)(5,"div",4)(6,"b"),w(7,"Select race:"),m()(),g(8,"div",5)(9,"div",6),A(10,sH,9,3,"div",7),function I_(e,n){const t=se();let i;const r=e+re;t.firstCreatePass?(i=function DM(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=vi(i.type)),s=ft(L);try{const a=Ys(!1),l=o();return Ys(a),function iT(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,k(),r,l),l}finally{ft(s)}}(11,"keyvalue"),m(),g(12,"div",8),A(13,hH,3,2,"div",9),m()()()),2&t&&(p(9),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-200,"px;"),p(1),D("ngForOf",T_(11,8,i.raceGroups)),p(2),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-200,"px;"),p(1),D("ngIf",i.selectedRace))},dependencies:[ri,Vn,cS]}),e})();function gH(e,n){if(1&e){const t=oe();g(0,"button",13),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v().setSelectedBackground(r))})("click",function(){j(t);const r=v().$implicit;return U(v().changeBackground(r))}),g(1,"div",14),ne(2,"img",15),m(),g(3,"div",14)(4,"div",16),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function mH(e,n){if(1&e){const t=oe();g(0,"button",17),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v().setSelectedBackground(r))})("click",function(){j(t);const r=v().$implicit;return U(v().changeBackground(r))}),g(1,"div",14),ne(2,"img",15),m(),g(3,"div",14)(4,"div",16),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function yH(e,n){if(1&e&&(g(0,"div",10),A(1,gH,6,2,"button",11),A(2,mH,6,2,"button",12),m()),2&e){const t=n.$implicit,i=v();p(1),D("ngIf",i.getCharacterService().getBackground()!=t),p(1),D("ngIf",i.getCharacterService().getBackground()==t)}}function vH(e,n){if(1&e&&(g(0,"p",23)(1,"b"),w(2),m()()),2&e){const t=v(2);p(2),P(t.selectedBackground.requirements)}}function _H(e,n){if(1&e&&(g(0,"li"),w(1),m()),2&e){const t=n.$implicit;p(1),P(t)}}function wH(e,n){if(1&e&&(g(0,"div",18)(1,"p",19)(2,"b"),w(3),m()(),g(4,"p",20)(5,"i"),w(6),m()(),A(7,vH,3,1,"p",21),g(8,"p",20),w(9,"Skill proficiencies:"),m(),g(10,"ul",20),A(11,_H,2,1,"li",22),m()()),2&e){const t=v();p(3),P(t.selectedBackground.name),p(3),P(t.selectedBackground.description),p(1),D("ngIf",t.selectedBackground.requirements),p(4),D("ngForOf",t.selectedBackground.proficiencies)}}let SH=(()=>{class e{constructor(t){this.characterService=t,this.backgrounds=ys,this.selectedBackground=t.getBackground(),this.windowHeight=0}ngOnInit(){this.windowHeight=window.innerHeight}onResize(t){this.windowHeight=window.innerHeight}setSelectedBackground(t){this.selectedBackground=t}changeBackground(t){this.characterService.setBackground(t),this.goBack()}getCharacterService(){return this.characterService}}return e.\u0275fac=function(t){return new(t||e)(L(di))},e.\u0275cmp=jt({type:e,selectors:[["app-select-background"]],hostBindings:function(t,i){1&t&&H("resize",function(o){return i.onResize(o)},0,Ei)},inputs:{goBack:"goBack"},decls:13,vars:8,consts:[[1,"w3-left","w3-margin-bottom"],[1,"w3-btn","w3-padding-0","w3-hover-text-amber",3,"click"],[1,"material-symbols-outlined"],[1,"w3-container","w3-padding-small"],[1,"w3-padding"],[1,"w3-card"],[1,"w3-third"],["class","w3-margin",4,"ngFor","ngForOf"],[1,"w3-twothird","w3-hide-small"],["class","w3-margin w3-border w3-round",4,"ngIf"],[1,"w3-margin"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-dark-grey w3-border w3-round w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-amber w3-border w3-round w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-round","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-cell","w3-cell-middle"],["width","40","height","40",3,"src"],[1,"w3-margin-left"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-amber","w3-border","w3-round","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-margin","w3-border","w3-round"],[1,"w3-margin","w3-justify","w3-text-amber"],[1,"w3-margin","w3-justify"],["class","w3-margin w3-justify w3-text-red",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"w3-margin","w3-justify","w3-text-red"]],template:function(t,i){1&t&&(g(0,"div",0)(1,"button",1),H("click",function(){return i.goBack()}),g(2,"span",2),w(3,"arrow_back"),m()()(),g(4,"div",3)(5,"div",4)(6,"b"),w(7,"Select background:"),m()(),g(8,"div",5)(9,"div",6),A(10,yH,3,2,"div",7),m(),g(11,"div",8),A(12,wH,12,4,"div",9),m()()()),2&t&&(p(9),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-200,"px;"),p(1),D("ngForOf",i.backgrounds),p(1),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-200,"px;"),p(1),D("ngIf",i.selectedBackground))},dependencies:[ri,Vn]}),e})();function bH(e,n){1&e&&(g(0,"span"),w(1,"Skill"),m())}function CH(e,n){1&e&&(g(0,"span"),w(1,"Spell"),m())}function DH(e,n){1&e&&(g(0,"span"),w(1,"Feature"),m())}function EH(e,n){1&e&&(g(0,"span"),w(1,"Ability"),m())}function AH(e,n){if(1&e){const t=oe();g(0,"button",19),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSkill(r))})("click",function(){j(t);const r=v().index;return U(v(2).selectFeatureOption(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t," ")}}function IH(e,n){if(1&e){const t=oe();g(0,"button",20),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSkill(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t," ")}}function TH(e,n){if(1&e){const t=oe();g(0,"button",21),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSkill(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t," ")}}function kH(e,n){if(1&e&&(g(0,"div"),A(1,AH,2,1,"button",16),A(2,IH,2,1,"button",17),A(3,TH,2,1,"button",18),m()),2&e){const t=n.$implicit,i=n.index,r=v(2);p(1),D("ngIf",!r.hasSkillProficiency(t)&&!r.hasSelectedOption(i)),p(1),D("ngIf",r.hasSkillProficiency(t)&&!r.hasSelectedOption(i)),p(1),D("ngIf",r.hasSelectedOption(i))}}function MH(e,n){if(1&e&&(g(0,"div",14),A(1,kH,4,3,"div",15),m()),2&e){const t=v();p(1),D("ngForOf",t.selectedFeature.skillSelection)}}function RH(e,n){if(1&e){const t=oe();g(0,"button",19),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedAbility(r))})("click",function(){j(t);const r=v().index;return U(v(2).selectFeatureOption(r))}),g(1,"div",23),ne(2,"img",24),m(),g(3,"div",23)(4,"div",8),w(5),m()()()}if(2&e){const t=v().$implicit,i=v(2);let r,o;p(2),Me("src",null==(r=i.getAbilityInfo(t))?null:r.icon,ke),p(3),P(null==(o=i.getAbilityInfo(t))?null:o.name)}}function PH(e,n){if(1&e){const t=oe();g(0,"button",25),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedAbility(r))}),g(1,"div",23),ne(2,"img",24),m(),g(3,"div",23)(4,"div",8),w(5),m()()()}if(2&e){const t=v().$implicit,i=v(2);let r,o;p(2),Me("src",null==(r=i.getAbilityInfo(t))?null:r.icon,ke),p(3),P(null==(o=i.getAbilityInfo(t))?null:o.name)}}function FH(e,n){if(1&e&&(g(0,"div"),A(1,RH,6,2,"button",16),A(2,PH,6,2,"button",22),m()),2&e){const t=n.$implicit,i=v(2);p(1),D("ngIf",i.canSelectAbility(t)),p(1),D("ngIf",!i.canSelectAbility(t))}}function xH(e,n){if(1&e&&(g(0,"div",14),A(1,FH,3,2,"div",15),m()),2&e){const t=v();p(1),D("ngForOf",t.selectedFeature.abilitySelection)}}function OH(e,n){if(1&e){const t=oe();g(0,"button",19),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSkill(r))})("click",function(){j(t);const r=v().index;return U(v(2).selectFeatureOption(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t," ")}}function NH(e,n){if(1&e){const t=oe();g(0,"button",20),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSkill(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t," ")}}function LH(e,n){if(1&e){const t=oe();g(0,"button",21),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSkill(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t," ")}}function BH(e,n){if(1&e&&(g(0,"div"),A(1,OH,2,1,"button",16),A(2,NH,2,1,"button",17),A(3,LH,2,1,"button",18),m()),2&e){const t=n.$implicit,i=n.index,r=v(2);p(1),D("ngIf",r.hasSkillProficiency(t)&&!r.hasSkillExpertise(t)&&!r.hasSelectedOption(i)),p(1),D("ngIf",r.hasSkillExpertise(t)),p(1),D("ngIf",r.hasSelectedOption(i))}}function HH(e,n){if(1&e&&(g(0,"div",14),A(1,BH,4,3,"div",15),m()),2&e){const t=v();p(1),D("ngForOf",t.getSkillList())}}function VH(e,n){if(1&e){const t=oe();g(0,"button",19),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedFeature(r))})("click",function(){j(t);const r=v().index;return U(v(2).selectFeatureOption(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t.name," ")}}function $H(e,n){if(1&e){const t=oe();g(0,"button",20),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedFeature(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t.name," ")}}function jH(e,n){if(1&e){const t=oe();g(0,"button",21),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedFeature(r))}),w(1),m()}if(2&e){const t=v().$implicit;p(1),z(" ",t.name," ")}}function UH(e,n){if(1&e&&(g(0,"div"),A(1,VH,2,1,"button",16),A(2,$H,2,1,"button",17),A(3,jH,2,1,"button",18),m()),2&e){const t=n.$implicit,i=n.index,r=v(2);p(1),D("ngIf",r.canSelectFeature(t)),p(1),D("ngIf",!r.canSelectFeature(t)&&!r.hasSelectedOption(i)),p(1),D("ngIf",!r.canSelectFeature(t)&&r.hasSelectedOption(i))}}function WH(e,n){if(1&e&&(g(0,"div",14),A(1,UH,4,3,"div",15),m()),2&e){const t=v();p(1),D("ngForOf",t.selectedFeature.featureSelection)}}function zH(e,n){if(1&e){const t=oe();g(0,"button",19),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSpell(r))})("click",function(){j(t);const r=v().index;return U(v(2).selectFeatureOption(r))}),g(1,"div",23),ne(2,"img",24),m(),g(3,"div",23)(4,"div",8),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function GH(e,n){if(1&e){const t=oe();g(0,"button",20),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSpell(r))}),g(1,"div",23),ne(2,"img",24),m(),g(3,"div",23)(4,"div",8),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function YH(e,n){if(1&e){const t=oe();g(0,"button",21),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedSpell(r))}),g(1,"div",23),ne(2,"img",24),m(),g(3,"div",23)(4,"div",8),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function qH(e,n){if(1&e&&(g(0,"div"),A(1,zH,6,2,"button",16),A(2,GH,6,2,"button",17),A(3,YH,6,2,"button",18),m()),2&e){const t=n.$implicit,i=n.index,r=v(2);p(1),D("ngIf",!r.hasSelectedOption(i)),p(1),D("ngIf",!r.canSelectSpell(t)&&!r.hasSelectedOption(i)),p(1),D("ngIf",!r.canSelectSpell(t)&&r.hasSelectedOption(i))}}function KH(e,n){if(1&e&&(g(0,"div",14),A(1,qH,4,3,"div",15),m()),2&e){const t=v();p(1),D("ngForOf",t.selectedFeature.spellSelection)}}function QH(e,n){if(1&e&&(g(0,"div",26)(1,"p",27)(2,"b",6),w(3),m(),ne(4,"br"),w(5),m(),g(6,"p",27)(7,"i"),w(8),m()()()),2&e){const t=v();p(3),P(t.selectedSkillInfo.name),p(2),z("Ability: ",t.selectedSkillInfo.ability," "),p(3),P(t.selectedSkillInfo.description)}}function ZH(e,n){if(1&e&&(g(0,"div",26)(1,"p",27)(2,"b",6),w(3),m()(),g(4,"p",27)(5,"i"),w(6),m()()()),2&e){const t=v();let i,r;p(3),P(null==(i=t.getAbilityInfo(t.selectedAbility))?null:i.name),p(3),P(null==(r=t.getAbilityInfo(t.selectedAbility))?null:r.description)}}function XH(e,n){if(1&e&&(g(0,"div",26)(1,"p",27)(2,"b",6),w(3),m()(),g(4,"p",27)(5,"i"),w(6),m()()()),2&e){const t=v();p(3),P(t.selectedFeatureFeature.name),p(3),P(t.selectedFeatureFeature.description)}}function JH(e,n){if(1&e&&(g(0,"li"),w(1),m()),2&e){const t=v(2);p(1),z("Range: ",t.selectedSpell.range,"m")}}function eV(e,n){if(1&e&&(g(0,"li"),w(1),m()),2&e){const t=v(2);p(1),z("Radius: ",t.selectedSpell.radius,"m")}}function tV(e,n){1&e&&(g(0,"li"),w(1,"Requires Concentration"),m())}function nV(e,n){1&e&&(g(0,"li"),w(1,"Requires successful Attack Roll "),m())}function iV(e,n){if(1&e&&(g(0,"li"),w(1),m()),2&e){const t=v(2);p(1),z("Save: ",t.selectedSpell.save,"")}}function rV(e,n){if(1&e&&(g(0,"li"),w(1),m()),2&e){const t=v(2);p(1),z("Duration: ",t.selectedSpell.duration," Turns")}}function oV(e,n){if(1&e&&(g(0,"li"),w(1),m()),2&e){const t=v(2);p(1),z("Duration: ",t.selectedSpell.duration," Turn")}}function sV(e,n){1&e&&(g(0,"li"),w(1,"Duration: Until Short Rest"),m())}function aV(e,n){1&e&&(g(0,"li"),w(1,"Duration: Until Long Rest"),m())}function lV(e,n){if(1&e&&(g(0,"div",26)(1,"p",27)(2,"b",6),w(3),m()(),g(4,"p",27)(5,"i"),w(6),m()(),g(7,"ul",14)(8,"li"),w(9),m(),g(10,"li"),w(11),m(),A(12,JH,2,1,"li",9),A(13,eV,2,1,"li",9),A(14,tV,2,0,"li",9),A(15,nV,2,0,"li",9),A(16,iV,2,1,"li",9),A(17,rV,2,1,"li",9),A(18,oV,2,1,"li",9),A(19,sV,2,0,"li",9),A(20,aV,2,0,"li",9),m()()),2&e){const t=v();p(3),P(t.selectedSpell.name),p(3),P(t.selectedSpell.description),p(3),z("School: ",t.selectedSpell.school,""),p(2),z("Resources: ",t.selectedSpell.resources.join(" + ")," "),p(1),D("ngIf",t.selectedSpell.range>0),p(1),D("ngIf",t.selectedSpell.radius>0),p(1),D("ngIf",t.selectedSpell.concentration),p(1),D("ngIf",t.selectedSpell.roll),p(1),D("ngIf",t.selectedSpell.save),p(1),D("ngIf",t.selectedSpell.duration>1),p(1),D("ngIf",1==t.selectedSpell.duration),p(1),D("ngIf",-1==t.selectedSpell.duration),p(1),D("ngIf",-2==t.selectedSpell.duration)}}let xC=(()=>{class e{constructor(t){this.characterService=t,this.skillInfo=vh,this.previousSelections=new Array,this.windowHeight=0}ngOnInit(){this.windowHeight=window.innerHeight}onResize(t){this.windowHeight=window.innerHeight}setSelectedSkill(t){this.selectedSkill=t,this.selectedSkillInfo=vh.get(t)}setSelectedSpell(t){this.selectedSpell=t}setSelectedFeature(t){this.selectedFeatureFeature=t}selectFeatureOption(t){this.previousSelections[this.optionIndex]=this.characterService.getFeatureSelectedOption(this.featureLevel,this.selectedFeature,this.optionIndex),this.characterService.setFeatureSelectedOption(this.featureLevel,this.selectedFeature,this.optionIndex++,t+1),this.optionIndex==this.selectedFeature.selectionCount&&this.goBack(!0)}getCharacterService(){return this.characterService}canSelectSpell(t){if(!this.selectedFeature.selectSameAllowed&&this.selectedFeature.spellSelection)for(let i=0;i<this.optionIndex;i++)if(t==this.selectedFeature.spellSelection[this.characterService.getFeatureSelectedOption(this.featureLevel,this.selectedFeature,i)-1])return!1;return!0}canSelectFeature(t){if(!this.selectedFeature.selectSameAllowed&&this.selectedFeature.featureSelection){if(this.getCharacterService().getFeatureAllSelectedOptions(this.featureLevel-1,this.selectedFeature).has(t.name))return!1;for(let r=0;r<this.optionIndex;r++)if(t==this.selectedFeature.featureSelection[this.characterService.getFeatureSelectedOption(this.featureLevel,this.selectedFeature,r)-1])return!1}return!0}canSelectAbility(t){if(!this.selectedFeature.selectSameAllowed&&this.selectedFeature.abilitySelection)for(let i=0;i<this.optionIndex;i++){let r=this.characterService.getFeatureSelectedOption(this.featureLevel,this.selectedFeature,i);if(r>0&&this.selectedFeature.abilitySelection[r-1]==t)return!1}return!0}hasSkillProficiency(t){return this.getCharacterService().getSkillProficiencies(this.featureLevel,this.selectedFeature).has(t)}hasSkillExpertise(t){return this.getCharacterService().getSkillExpertises(this.featureLevel,this.selectedFeature).has(t)}hasSelectedOption(t){for(let i=0;i<this.optionIndex;i++)if(this.characterService.getFeatureSelectedOption(this.featureLevel,this.selectedFeature,i)-1==t)return!0;return!1}setSelectedAbility(t){this.selectedAbility=t}getAbilityInfo(t){return gs.get(t)}localGoBack(){this.optionIndex>0?(this.optionIndex-=1,this.characterService.setFeatureSelectedOption(this.featureLevel,this.selectedFeature,this.optionIndex,this.previousSelections[this.optionIndex])):this.goBack(!1)}removeSelectedOptions(){if(this.selectedFeature.selectionCount)for(let t=0;t<this.selectedFeature.selectionCount;t++)this.characterService.setFeatureSelectedOption(this.featureLevel,this.selectedFeature,t,0);this.goBack(!1)}getSkillList(){return Object.values(S)}}return e.\u0275fac=function(t){return new(t||e)(L(di))},e.\u0275cmp=jt({type:e,selectors:[["app-select-feature-option"]],hostBindings:function(t,i){1&t&&H("resize",function(o){return i.onResize(o)},0,Ei)},inputs:{goBack:"goBack",selectedFeature:"selectedFeature",optionIndex:"optionIndex",featureLevel:"featureLevel"},decls:31,vars:22,consts:[[1,"w3-left","w3-margin-bottom"],[1,"w3-btn","w3-padding-0","w3-hover-text-amber",3,"click"],[1,"material-symbols-outlined"],[1,"w3-btn","w3-padding-0","w3-margin-left","w3-hover-text-amber",3,"click"],[1,"w3-container","w3-padding-small"],[1,"w3-padding"],[1,"w3-text-amber"],[1,"w3-card"],[1,"w3-margin-left"],[4,"ngIf"],[1,"w3-third"],["class","w3-margin",4,"ngIf"],[1,"w3-twothird","w3-hide-small"],["class","w3-margin w3-border w3-round",4,"ngIf"],[1,"w3-margin"],[4,"ngFor","ngForOf"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-dark-grey w3-border w3-round w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-black w3-hover-black w3-border w3-round w3-margin-bottom",3,"mouseenter",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-amber w3-hover-amber w3-border w3-round w3-margin-bottom",3,"mouseenter",4,"ngIf"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-round","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-button","w3-block","w3-padding-small","w3-black","w3-hover-black","w3-border","w3-round","w3-margin-bottom",3,"mouseenter"],[1,"w3-button","w3-block","w3-padding-small","w3-amber","w3-hover-amber","w3-border","w3-round","w3-margin-bottom",3,"mouseenter"],["class","w3-button w3-block w3-padding-small w3-hover-black w3-black w3-border w3-round w3-margin-bottom",3,"mouseenter",4,"ngIf"],[1,"w3-cell","w3-cell-middle"],["width","40","height","40",3,"src"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-black","w3-black","w3-border","w3-round","w3-margin-bottom",3,"mouseenter"],[1,"w3-margin","w3-border","w3-round"],[1,"w3-margin","w3-justify"]],template:function(t,i){1&t&&(g(0,"div",0)(1,"button",1),H("click",function(){return i.localGoBack()}),g(2,"span",2),w(3,"arrow_back"),m()(),g(4,"button",3),H("click",function(){return i.removeSelectedOptions()}),g(5,"span",2),w(6,"delete"),m()()(),g(7,"div",4)(8,"div",5)(9,"p")(10,"b",6),w(11),m()()(),g(12,"div",7)(13,"div",8),w(14," Select "),A(15,bH,2,0,"span",9),A(16,CH,2,0,"span",9),A(17,DH,2,0,"span",9),A(18,EH,2,0,"span",9),w(19),m(),g(20,"div",10),A(21,MH,2,1,"div",11),A(22,xH,2,1,"div",11),A(23,HH,2,1,"div",11),A(24,WH,2,1,"div",11),A(25,KH,2,1,"div",11),m(),g(26,"div",12),A(27,QH,9,3,"div",13),A(28,ZH,7,2,"div",13),A(29,XH,7,2,"div",13),A(30,lV,21,13,"div",13),m()()()),2&t&&(p(11),P(i.selectedFeature.name),p(4),D("ngIf",i.selectedFeature.skillSelection||i.selectedFeature.skillExpertiseSelection),p(1),D("ngIf",i.selectedFeature.spellSelection),p(1),D("ngIf",i.selectedFeature.featureSelection),p(1),D("ngIf",i.selectedFeature.abilitySelection),p(1),td(" (",i.optionIndex+1,"/",i.selectedFeature.selectionCount,") "),p(1),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-250,"px;"),p(1),D("ngIf",i.selectedFeature.skillSelection),p(1),D("ngIf",i.selectedFeature.abilitySelection),p(1),D("ngIf",i.selectedFeature.skillExpertiseSelection),p(1),D("ngIf",i.selectedFeature.featureSelection),p(1),D("ngIf",i.selectedFeature.spellSelection),p(1),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-250,"px;"),p(1),D("ngIf",i.selectedSkillInfo),p(1),D("ngIf",i.selectedAbility),p(1),D("ngIf",i.selectedFeatureFeature),p(1),D("ngIf",i.selectedSpell))},dependencies:[ri,Vn]}),e})();function cV(e,n){if(1&e){const t=oe();g(0,"button",13),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v().setSelectedClass(r))})("click",function(){j(t);const r=v().$implicit;return U(v().changeClass(r))}),g(1,"div",14),ne(2,"img",15),m(),g(3,"div",14)(4,"div",16),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function uV(e,n){if(1&e){const t=oe();g(0,"button",17),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v().setSelectedClass(r))})("click",function(){j(t);const r=v().$implicit;return U(v().changeClass(r))}),g(1,"div",14),ne(2,"img",15),m(),g(3,"div",14)(4,"div",16),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function dV(e,n){if(1&e&&(g(0,"div",10),A(1,cV,6,2,"button",11),A(2,uV,6,2,"button",12),m()),2&e){const t=n.$implicit,i=v();p(1),D("ngIf",i.getCharacterService().getClass(i.level)!=t),p(1),D("ngIf",i.getCharacterService().getClass(i.level)==t)}}function fV(e,n){if(1&e&&(g(0,"li",20)(1,"b"),w(2,"Skill Proficiencies"),m(),w(3),m()),2&e){const t=v(2);p(3),z(": ",t.selectedClass.skillProficiencies.skillSelection.join(", "),"")}}function hV(e,n){if(1&e&&(g(0,"li",20)(1,"b"),w(2,"Primary Equipment Proficiencies"),m(),w(3),m()),2&e){const t=v(2);p(3),z(": ",t.selectedClass.initialEquipmentProficiencies.concat(t.selectedClass.equipmentProficiencies).join(", "),"")}}function pV(e,n){if(1&e&&(g(0,"li",20)(1,"b"),w(2,"Multiclass Equipment Proficiencies"),m(),w(3),m()),2&e){const t=v(2);p(3),z(": ",t.selectedClass.equipmentProficiencies.join(", "),"")}}function gV(e,n){if(1&e&&(g(0,"li",20)(1,"b"),w(2),m(),w(3,": "),g(4,"i"),w(5),m()()),2&e){const t=n.$implicit;p(2),P(t.name),p(3),P(t.description)}}function mV(e,n){if(1&e&&(g(0,"li")(1,"b"),w(2,"Subclass selection"),m(),w(3),m()),2&e){const t=v(4);p(3),z(": ",t.getSubclassListString(),"")}}function yV(e,n){1&e&&(g(0,"li"),w(1,"Feat selection"),m())}function vV(e,n){if(1&e&&(g(0,"div")(1,"p",20),w(2),m(),g(3,"ul",20),A(4,gV,6,2,"li",24),A(5,mV,4,1,"li",23),A(6,yV,2,0,"li",23),m()()),2&e){const t=v(),i=t.index,r=t.$implicit,o=v(2);p(2),z("Level ",i+1,":"),p(2),D("ngForOf",r),p(1),D("ngIf",o.selectedClass.subclassLevel==i+1),p(1),D("ngIf",o.selectedClass.featLevels.includes(i+1))}}function _V(e,n){if(1&e&&(g(0,"div"),A(1,vV,7,4,"div",23),m()),2&e){const t=n.$implicit,i=n.index,r=v(2);p(1),D("ngIf",t.length>0||r.selectedClass.subclassLevel==i+1||r.selectedClass.featLevels.includes(i+1))}}function wV(e,n){if(1&e&&(g(0,"li")(1,"b"),w(2),m(),w(3,": "),g(4,"i"),w(5),m()()),2&e){const t=n.$implicit;p(2),P(t.name),p(3),P(t.description)}}function SV(e,n){if(1&e&&(g(0,"div")(1,"p"),w(2),m(),g(3,"ul"),A(4,wV,6,2,"li",22),m()()),2&e){const t=v(),i=t.index,r=t.$implicit;p(2),z("Level ",i+1,":"),p(2),D("ngForOf",r)}}function bV(e,n){if(1&e&&(g(0,"div",20),A(1,SV,5,2,"div",23),m()),2&e){const t=n.$implicit;p(1),D("ngIf",t.length>0)}}function CV(e,n){if(1&e&&(g(0,"div")(1,"p"),ne(2,"br"),m(),g(3,"p",19)(4,"b"),w(5),m()(),g(6,"p",20)(7,"i"),w(8),m()(),A(9,bV,2,1,"div",24),m()),2&e){const t=n.$implicit;p(5),z("",t.name," Subclass"),p(3),P(t.description),p(1),D("ngForOf",t.features)}}function DV(e,n){if(1&e&&(g(0,"div",18)(1,"p",19)(2,"b"),w(3),m()(),g(4,"p",20)(5,"i"),w(6),m()(),g(7,"p",20)(8,"i"),w(9),m()(),g(10,"p",20)(11,"b"),w(12,"Class information:"),m()(),g(13,"ul",20)(14,"li",20)(15,"b"),w(16,"Saving Throw Proficiencies"),m(),w(17),m(),A(18,fV,4,1,"li",21),A(19,hV,4,1,"li",21),A(20,pV,4,1,"li",21),m(),g(21,"p",20)(22,"b"),w(23,"Level progression:"),m()(),A(24,_V,2,1,"div",22),A(25,CV,10,3,"div",22),m()),2&e){const t=v();p(3),P(t.selectedClass.name),p(3),P(t.selectedClass.flavorText),p(3),P(t.selectedClass.description),p(8),z(": ",t.getSavingThrowProficiencyString(t.selectedClass),""),p(1),D("ngIf",t.selectedClass.skillProficiencies.skillSelection),p(1),D("ngIf",t.selectedClass.initialEquipmentProficiencies.length>0||t.selectedClass.equipmentProficiencies.length>0),p(1),D("ngIf",t.selectedClass.equipmentProficiencies.length>0),p(4),D("ngForOf",t.selectedClass.features),p(1),D("ngForOf",t.selectedClass.subclasses)}}let EV=(()=>{class e{constructor(t){this.characterService=t,this.classes=Gl,this.selectedClass=t.getClass(this.level),this.windowHeight=0}ngOnInit(){this.windowHeight=window.innerHeight}onResize(t){this.windowHeight=window.innerHeight}setSelectedClass(t){this.selectedClass=t}changeClass(t){this.characterService.setClass(this.level,t),this.goBack()}getCharacterService(){return this.characterService}getSubclassListString(){let t="",i=this.selectedClass.subclasses;if(i){let r=!0;for(let o of i)r?r=!1:t+=", ",t+=o.name}return t}getSavingThrowProficiencyString(t){let i=t.savingThrowProficiencies,r="",o=!0;for(let s of i){let a=gs.get(s);a&&(o?o=!1:r+=", ",r+=a.name)}return r}}return e.\u0275fac=function(t){return new(t||e)(L(di))},e.\u0275cmp=jt({type:e,selectors:[["app-select-class"]],hostBindings:function(t,i){1&t&&H("resize",function(o){return i.onResize(o)},0,Ei)},inputs:{goBack:"goBack",level:"level"},decls:13,vars:8,consts:[[1,"w3-left","w3-margin-bottom"],[1,"w3-btn","w3-padding-0","w3-hover-text-amber",3,"click"],[1,"material-symbols-outlined"],[1,"w3-container","w3-padding-small"],[1,"w3-padding"],[1,"w3-card"],[1,"w3-third"],["class","w3-margin",4,"ngFor","ngForOf"],[1,"w3-twothird","w3-hide-small"],["class","w3-margin w3-border w3-round",4,"ngIf"],[1,"w3-margin"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-dark-grey w3-border w3-round w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-amber w3-border w3-round w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-round","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-cell","w3-cell-middle"],["width","40","height","40",3,"src"],[1,"w3-margin-left"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-amber","w3-border","w3-round","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-margin","w3-border","w3-round"],[1,"w3-margin","w3-justify","w3-text-amber"],[1,"w3-margin","w3-justify"],["class","w3-margin w3-justify",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","w3-margin w3-justify",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(g(0,"div",0)(1,"button",1),H("click",function(){return i.goBack()}),g(2,"span",2),w(3,"arrow_back"),m()()(),g(4,"div",3)(5,"div",4)(6,"b"),w(7,"Select Class:"),m()(),g(8,"div",5)(9,"div",6),A(10,dV,3,2,"div",7),m(),g(11,"div",8),A(12,DV,26,9,"div",9),m()()()),2&t&&(p(9),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-200,"px;"),p(1),D("ngForOf",i.classes),p(1),Yt("overflow:hidden; overflow-y:auto; height: ",i.windowHeight-200,"px;"),p(1),D("ngIf",i.selectedClass))},dependencies:[ri,Vn]}),e})();function AV(e,n){if(1&e){const t=oe();g(0,"button",12),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v().setSelectedSubclass(r))})("click",function(){j(t);const r=v().index;return U(v().changeSubclass(r+1))}),ne(1,"img",13)(2,"br"),w(3),m()}if(2&e){const t=v().$implicit;p(1),Me("src",t.icon,ke),p(2),z(" ",t.name," ")}}function IV(e,n){if(1&e){const t=oe();g(0,"button",14),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v().setSelectedSubclass(r))})("click",function(){j(t);const r=v().index;return U(v().changeSubclass(r+1))}),ne(1,"img",13)(2,"br"),w(3),m()}if(2&e){const t=v().$implicit;p(1),Me("src",t.icon,ke),p(2),z(" ",t.name," ")}}function TV(e,n){if(1&e&&(g(0,"div",9)(1,"div",7),A(2,AV,4,2,"button",10),A(3,IV,4,2,"button",11),m()()),2&e){const t=n.$implicit,i=v();p(2),D("ngIf",i.getCharacterService().getSelectedSubclass(i.cls)!=t),p(1),D("ngIf",i.getCharacterService().getSelectedSubclass(i.cls)==t)}}function kV(e,n){if(1&e&&(g(0,"li")(1,"b"),w(2),m(),w(3,": "),g(4,"i"),w(5),m()()),2&e){const t=n.$implicit;p(2),P(t.name),p(3),P(t.description)}}function MV(e,n){if(1&e&&(g(0,"div")(1,"p"),w(2),m(),g(3,"ul"),A(4,kV,6,2,"li",20),m()()),2&e){const t=v(),i=t.index,r=t.$implicit;p(2),z("Level ",i+1,":"),p(2),D("ngForOf",r)}}function RV(e,n){if(1&e&&(g(0,"div",17),A(1,MV,5,2,"div",19),m()),2&e){const t=n.$implicit;p(1),D("ngIf",t.length>0)}}function PV(e,n){if(1&e&&(g(0,"div",15)(1,"p",16)(2,"b"),w(3),m()(),g(4,"p",17)(5,"i"),w(6),m()(),A(7,RV,2,1,"div",18),m()),2&e){const t=v();p(3),P(t.selectedSubclass.name),p(3),P(t.selectedSubclass.description),p(1),D("ngForOf",t.selectedSubclass.features)}}let FV=(()=>{class e{constructor(t){this.characterService=t,this.selectedSubclass=t.getSelectedSubclass(this.cls),this.windowHeight=0}ngOnInit(){this.windowHeight=window.innerHeight}onResize(t){this.windowHeight=window.innerHeight}setSelectedSubclass(t){this.selectedSubclass=t}changeSubclass(t){this.characterService.setSelectedSubclass(this.cls,t),this.goBack()}getCharacterService(){return this.characterService}}return e.\u0275fac=function(t){return new(t||e)(L(di))},e.\u0275cmp=jt({type:e,selectors:[["app-select-subclass"]],hostBindings:function(t,i){1&t&&H("resize",function(o){return i.onResize(o)},0,Ei)},inputs:{goBack:"goBack",cls:"cls"},decls:12,vars:3,consts:[[1,"w3-left","w3-margin-bottom"],[1,"w3-btn","w3-padding-0","w3-hover-text-amber",3,"click"],[1,"material-symbols-outlined"],[1,"w3-container","w3-padding-small"],[1,"w3-padding"],[1,"w3-row"],["class","w3-col l4 m4 s6",4,"ngFor","ngForOf"],[1,"w3-container"],["class","w3-border w3-round w3-padding w3-margin w3-block",4,"ngIf"],[1,"w3-col","l4","m4","s6"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-dark-grey w3-border w3-round w3-margin",3,"mouseenter","click",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-amber w3-border w3-round w3-margin",3,"mouseenter","click",4,"ngIf"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-round","w3-margin",3,"mouseenter","click"],["width","40","height","40",3,"src"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-amber","w3-border","w3-round","w3-margin",3,"mouseenter","click"],[1,"w3-border","w3-round","w3-padding","w3-margin","w3-block"],[1,"w3-margin","w3-justify","w3-text-amber"],[1,"w3-margin","w3-justify"],["class","w3-margin w3-justify",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(g(0,"div",0)(1,"button",1),H("click",function(){return i.goBack()}),g(2,"span",2),w(3,"arrow_back"),m()()(),g(4,"div",3)(5,"div",4)(6,"b"),w(7),m()(),g(8,"div",5),A(9,TV,4,2,"div",6),m(),g(10,"div",7),A(11,PV,8,3,"div",8),m()()),2&t&&(p(7),z("Select ",i.cls.name," Subclass:"),p(2),D("ngForOf",i.cls.subclasses),p(2),D("ngIf",i.selectedSubclass))},dependencies:[ri,Vn]}),e})();function xV(e,n){if(1&e){const t=oe();g(0,"div",18),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedFeat(r))}),g(1,"div",19),ne(2,"img",20),m(),g(3,"div",19)(4,"div",21),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function OV(e,n){if(1&e){const t=oe();g(0,"div",22),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedFeat(r))}),g(1,"div",19),ne(2,"img",20),m(),g(3,"div",19)(4,"div",21),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function NV(e,n){if(1&e){const t=oe();g(0,"div",23),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedFeat(r))})("click",function(){j(t);const r=v().$implicit;return U(v(2).pickFeat(r))}),g(1,"div",19),ne(2,"img",20),m(),g(3,"div",19)(4,"div",21),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function LV(e,n){if(1&e){const t=oe();g(0,"div",24),H("mouseenter",function(){j(t);const r=v().$implicit;return U(v(2).setSelectedFeat(r))})("click",function(){j(t);const r=v().$implicit;return U(v(2).pickFeat(r))}),g(1,"div",19),ne(2,"img",20),m(),g(3,"div",19)(4,"div",21),w(5),m()()()}if(2&e){const t=v().$implicit;p(2),Me("src",t.icon,ke),p(3),P(t.name)}}function BV(e,n){if(1&e&&(g(0,"div",13),A(1,xV,6,2,"div",14),A(2,OV,6,2,"div",15),A(3,NV,6,2,"div",16),A(4,LV,6,2,"div",17),m()),2&e){const t=n.$implicit,i=v(2);p(1),D("ngIf",!i.canSelectFeat(t)&&i.getCharacterService().satisfiesFeatRequirements(t,i.featLevel)),p(1),D("ngIf",!i.canSelectFeat(t)&&!i.getCharacterService().satisfiesFeatRequirements(t,i.featLevel)),p(1),D("ngIf",i.canSelectFeat(t)&&i.getCharacterService().getFeat(i.featLevel)!=t),p(1),D("ngIf",i.canSelectFeat(t)&&i.getCharacterService().getFeat(i.featLevel)==t)}}function HV(e,n){if(1&e&&(g(0,"span"),w(1),m()),2&e){const t=v().$implicit;p(1),z("Requires ",t," Proficiency.")}}function VV(e,n){if(1&e&&(g(0,"span",30),w(1),m()),2&e){const t=v().$implicit;p(1),z("Requires ",t," Proficiency.")}}function $V(e,n){if(1&e&&(g(0,"p",27),A(1,HV,2,1,"span",0),A(2,VV,2,1,"span",29),m()),2&e){const t=v(4);p(1),D("ngIf",t.getCharacterService().satisfiesFeatRequirements(t.selectedFeat,t.featLevel)),p(1),D("ngIf",!t.getCharacterService().satisfiesFeatRequirements(t.selectedFeat,t.featLevel))}}function jV(e,n){if(1&e&&(g(0,"div"),A(1,$V,3,2,"p",28),m()),2&e){const t=v(3);p(1),D("ngForOf",null==t.selectedFeat.requirements?null:t.selectedFeat.requirements.equipmentProficiencies)}}function UV(e,n){if(1&e&&(g(0,"div",25)(1,"p",26)(2,"b"),w(3),m()(),g(4,"p",27)(5,"i"),w(6),m()(),A(7,jV,2,1,"div",0),m()),2&e){const t=v(2);p(3),P(t.selectedFeat.name),p(3),P(t.selectedFeat.description),p(1),D("ngIf",null==t.selectedFeat.requirements?null:t.selectedFeat.requirements.equipmentProficiencies)}}function WV(e,n){if(1&e){const t=oe();g(0,"div")(1,"div",2)(2,"button",3),H("click",function(){return j(t),U(v().goBack())}),g(3,"span",4),w(4,"arrow_back"),m()(),g(5,"button",5),H("click",function(){return j(t),U(v().removeSelectedFeat())}),g(6,"span",4),w(7,"delete"),m()()(),g(8,"div",6)(9,"div",7)(10,"b"),w(11,"Select Feat:"),m()(),g(12,"div",8)(13,"div",9),A(14,BV,5,4,"div",10),m(),g(15,"div",11),A(16,UV,8,3,"div",12),m()()()()}if(2&e){const t=v();p(13),Yt("overflow:hidden; overflow-y:auto; height: ",t.windowHeight-200,"px;"),p(1),D("ngForOf",t.feats),p(1),Yt("overflow:hidden; overflow-y:auto; height: ",t.windowHeight-200,"px;"),p(1),D("ngIf",t.selectedFeat)}}function zV(e,n){if(1&e&&ne(0,"app-select-feature-option",31),2&e){const t=v();D("goBack",t.finishSelectFeatOptions)("selectedFeature",t.pickedFeat)("featureLevel",t.featLevel)("optionIndex",0)}}let GV=(()=>{class e{constructor(t){this.characterService=t,this.feats=Mh,this.finishSelectFeatOptions=i=>{i&&this.pickedFeat?(this.characterService.setFeat(this.pickedFeat,this.featLevel),this.showSelectFeatOptions=!1,this.pickedFeat=void 0,this.goBack()):(this.showSelectFeatOptions=!1,this.pickedFeat=void 0)},this.selectedFeat=void 0,this.windowHeight=0,this.showSelectFeatOptions=!1,this.pickedFeat=void 0}ngOnInit(){this.windowHeight=window.innerHeight}onResize(t){this.windowHeight=window.innerHeight}setSelectedFeat(t){this.selectedFeat=t}removeSelectedFeat(){this.getCharacterService().removeFeat(this.featLevel),this.goBack()}pickFeat(t){this.getCharacterService().isSelectionFeature(t)?(this.pickedFeat=t,this.showSelectFeatOptions=!0):(this.characterService.setFeat(t,this.featLevel),this.goBack())}canSelectFeat(t){return(t.canReselect||!this.getCharacterService().hasFeat(t,this.featLevel-1))&&this.getCharacterService().satisfiesFeatRequirements(t,this.featLevel)}getCharacterService(){return this.characterService}}return e.\u0275fac=function(t){return new(t||e)(L(di))},e.\u0275cmp=jt({type:e,selectors:[["app-select-feat"]],hostBindings:function(t,i){1&t&&H("resize",function(o){return i.onResize(o)},0,Ei)},inputs:{goBack:"goBack",featLevel:"featLevel"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"goBack","selectedFeature","featureLevel","optionIndex",4,"ngIf"],[1,"w3-left","w3-margin-bottom"],[1,"w3-btn","w3-padding-0","w3-hover-text-amber",3,"click"],[1,"material-symbols-outlined"],[1,"w3-btn","w3-padding-0","w3-margin-left","w3-hover-text-amber",3,"click"],[1,"w3-container","w3-padding-small"],[1,"w3-padding"],[1,"w3-card"],[1,"w3-third"],["class","w3-margin",4,"ngFor","ngForOf"],[1,"w3-twothird","w3-hide-small"],["class","w3-margin w3-border w3-round",4,"ngIf"],[1,"w3-margin"],["class","w3-button w3-block w3-padding-small w3-hover-black w3-black w3-border w3-round w3-margin-bottom",3,"mouseenter",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-border-red w3-hover-black w3-black w3-border w3-round w3-margin-bottom",3,"mouseenter",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-dark-grey w3-border w3-round w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],["class","w3-button w3-block w3-padding-small w3-hover-amber w3-amber w3-border w3-round w3-margin-bottom",3,"mouseenter","click",4,"ngIf"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-black","w3-black","w3-border","w3-round","w3-margin-bottom",3,"mouseenter"],[1,"w3-cell","w3-cell-middle"],["width","40","height","40",3,"src"],[1,"w3-margin-left"],[1,"w3-button","w3-block","w3-padding-small","w3-border-red","w3-hover-black","w3-black","w3-border","w3-round","w3-margin-bottom",3,"mouseenter"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-dark-grey","w3-border","w3-round","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-button","w3-block","w3-padding-small","w3-hover-amber","w3-amber","w3-border","w3-round","w3-margin-bottom",3,"mouseenter","click"],[1,"w3-margin","w3-border","w3-round"],[1,"w3-margin","w3-justify","w3-text-amber"],[1,"w3-margin","w3-justify"],["class","w3-margin w3-justify",4,"ngFor","ngForOf"],["class","w3-text-red",4,"ngIf"],[1,"w3-text-red"],[3,"goBack","selectedFeature","featureLevel","optionIndex"]],template:function(t,i){1&t&&(A(0,WV,17,8,"div",0),A(1,zV,1,4,"app-select-feature-option",1)),2&t&&(D("ngIf",!i.showSelectFeatOptions),p(1),D("ngIf",i.showSelectFeatOptions&&i.pickedFeat))},dependencies:[ri,Vn,xC]}),e})();function YV(e,n){if(1&e&&ne(0,"app-character-view",19),2&e){const t=v();D("selectRace",t.showSelectRaceView)("selectBackground",t.showSelectBackgroundView)("selectFeatureOption",t.showSelectFeatureOptionView)("selectClass",t.showSelectClassView)("selectSubclass",t.showSelectSubclassView)("selectFeat",t.showSelectFeatView)("updateQueryParams",t.updateQueryParams)}}function qV(e,n){1&e&&ne(0,"app-select-race",20),2&e&&D("goBack",v().showMainView)}function KV(e,n){1&e&&ne(0,"app-select-background",20),2&e&&D("goBack",v().showMainView)}function QV(e,n){if(1&e&&ne(0,"app-select-feature-option",21),2&e){const t=v();D("goBack",t.showMainView)("selectedFeature",t.selectedFeature)("featureLevel",t.featureLevel)("optionIndex",0)}}function ZV(e,n){if(1&e&&ne(0,"app-select-class",22),2&e){const t=v();D("goBack",t.showMainView)("level",t.selectedLevel)}}function XV(e,n){if(1&e&&ne(0,"app-select-subclass",23),2&e){const t=v();D("goBack",t.showMainView)("cls",t.selectedClass)}}function JV(e,n){if(1&e&&ne(0,"app-select-feat",24),2&e){const t=v();D("goBack",t.showMainView)("featLevel",t.featLevel)}}var tt=function(e){return e[e.MainView=0]="MainView",e[e.SelectRaceView=1]="SelectRaceView",e[e.SelectBackgroundView=2]="SelectBackgroundView",e[e.SelectFeatureOption=3]="SelectFeatureOption",e[e.SelectClassView=4]="SelectClassView",e[e.SelectSubclassView=5]="SelectSubclassView",e[e.SelectFeatView=6]="SelectFeatView",e}(tt||{});const e$=[{path:"",redirectTo:"/build",pathMatch:"full"},{path:"build",component:(()=>{class e{constructor(t,i,r,o){this.characterService=t,this.router=i,this.route=r,this.clipboard=o,this.state=tt.MainView,this.showMainView=()=>{this.state=tt.MainView,this.selectedFeature=void 0,this.selectedLevel=void 0,this.featureLevel=void 0,this.selectedClass=void 0,this.featLevel=void 0,this.updateQueryParams()},this.updateQueryParams=()=>{this.router.navigate([],{relativeTo:this.route,queryParams:this.characterService.createParamMap(),queryParamsHandling:"merge"})},this.showSelectRaceView=()=>{this.state=tt.SelectRaceView},this.showSelectBackgroundView=()=>{this.state=tt.SelectBackgroundView},this.showSelectFeatureOptionView=(s,a)=>{this.state=tt.SelectFeatureOption,this.selectedFeature=s,this.featureLevel=a},this.showSelectClassView=s=>{this.state=tt.SelectClassView,this.selectedLevel=s},this.showSelectSubclassView=s=>{this.state=tt.SelectSubclassView,this.selectedClass=s},this.showSelectFeatView=s=>{this.state=tt.SelectFeatView,this.featLevel=s},this.year=(new Date).getFullYear()}ngOnInit(){this.characterService.loadFromParamMap(this.route.snapshot.queryParamMap),this.updateQueryParams()}isMainViewShown(){return this.state==tt.MainView}isSelectRaceViewShown(){return this.state==tt.SelectRaceView}isSelectBackgroundViewShown(){return this.state==tt.SelectBackgroundView}isSelectFeatureOptionViewShown(){return this.state==tt.SelectFeatureOption}isSelectClassViewShown(){return this.state==tt.SelectClassView}isSelectSubclassViewShown(){return this.state==tt.SelectSubclassView}isSelectFeatViewShown(){return this.state==tt.SelectFeatView}resetCharacter(){confirm("Are you sure to reset your character?")&&(this.characterService.resetCharacter(),this.updateQueryParams(),this.showMainView())}copyURL(){this.clipboard.copy(document.location.href)}}return e.\u0275fac=function(t){return new(t||e)(L(di),L(At),L(Li),L(TB))},e.\u0275cmp=jt({type:e,selectors:[["app-character-builder"]],decls:27,vars:8,consts:[[1,"w3-top"],[1,"w3-bar","w3-black","w3-padding","w3-card-4","w3-opacity-min"],[1,"w3-bar-item"],[1,"w3-right"],["type","button","value","Reset",1,"w3-bar-item","w3-button","w3-border","w3-border-amber","w3-round-large","w3-hover-amber","w3-margin-right",3,"click"],["type","button","value","Copy Link",1,"w3-bar-item","w3-button","w3-border","w3-border-amber","w3-round-large","w3-hover-amber",3,"click"],[1,"w3-container","w3-content",2,"max-width","1000px"],[2,"margin-bottom","1.5cm"],[1,"w3-margin","w3-padding","w3-black","w3-opacity-min"],[3,"selectRace","selectBackground","selectFeatureOption","selectClass","selectSubclass","selectFeat","updateQueryParams",4,"ngIf"],[3,"goBack",4,"ngIf"],[3,"goBack","selectedFeature","featureLevel","optionIndex",4,"ngIf"],[3,"goBack","level",4,"ngIf"],[3,"goBack","cls",4,"ngIf"],[3,"goBack","featLevel",4,"ngIf"],[1,"w3-bottom"],[1,"w3-container","w3-black","w3-opacity-min"],[1,"w3-center"],["target","_blank","href","mailto:info@crpg.games",1,"w3-hover-text-amber",2,"text-decoration","none"],[3,"selectRace","selectBackground","selectFeatureOption","selectClass","selectSubclass","selectFeat","updateQueryParams"],[3,"goBack"],[3,"goBack","selectedFeature","featureLevel","optionIndex"],[3,"goBack","level"],[3,"goBack","cls"],[3,"goBack","featLevel"]],template:function(t,i){1&t&&(g(0,"div",0)(1,"div",1)(2,"a",2)(3,"b"),w(4,"BG3 Character Builder"),m()(),g(5,"div",3)(6,"input",4),H("click",function(){return i.resetCharacter()}),m(),g(7,"input",5),H("click",function(){return i.copyURL()}),m()()()(),g(8,"div",6),ne(9,"div",7),g(10,"div",8),A(11,YV,1,7,"app-character-view",9),A(12,qV,1,1,"app-select-race",10),A(13,KV,1,1,"app-select-background",10),A(14,QV,1,4,"app-select-feature-option",11),A(15,ZV,1,2,"app-select-class",12),A(16,XV,1,2,"app-select-subclass",13),A(17,JV,1,2,"app-select-feat",14),m(),ne(18,"div",7),m(),g(19,"div",15)(20,"div",16)(21,"p",17),w(22),g(23,"b"),w(24,"Contact: "),m(),g(25,"a",18),w(26,"info@crpg.games"),m()()()()),2&t&&(p(11),D("ngIf",i.isMainViewShown()),p(1),D("ngIf",i.isSelectRaceViewShown()),p(1),D("ngIf",i.isSelectBackgroundViewShown()),p(1),D("ngIf",i.isSelectFeatureOptionViewShown()&&i.selectedFeature&&null!=i.featureLevel),p(1),D("ngIf",i.isSelectClassViewShown()&&i.selectedLevel),p(1),D("ngIf",i.isSelectSubclassViewShown()&&i.selectedClass),p(1),D("ngIf",i.isSelectFeatViewShown()&&i.featLevel),p(5),z("\xa9 ",i.year,", crpg.games | "))},dependencies:[Vn,nH,pH,SH,xC,EV,FV,GV]}),e})()}];let t$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Dn({imports:[Bb.forRoot(e$),Bb]}),e})(),n$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kn({type:e,bootstrap:[pL]}),e.\u0275inj=Dn({imports:[MS,u3,t$]}),e})();Ix().bootstrapModule(n$).catch(e=>console.error(e))}},ye=>{ye(ye.s=627)}]);